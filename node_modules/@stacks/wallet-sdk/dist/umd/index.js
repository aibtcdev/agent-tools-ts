/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StacksWalletSdk=e():t.StacksWalletSdk=e()}(this,(()=>(()=>{var t,e,n={3525:(t,e)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function r(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function o(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function i(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){o(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=n,e.bool=r,e.bytes=o,e.hash=i,e.exists=s,e.output=a;const c={number:n,bool:r,bytes:o,hash:i,exists:s,output:a};e.default=c},9350:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const r=n(3525),o=n(64);class i extends o.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,o.createView)(this.buffer)}update(t){r.default.exists(this);const{view:e,buffer:n,blockLen:i}=this,s=(t=(0,o.toBytes)(t)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,o.createView)(t);for(;i<=s-r;r+=i)this.process(e,r)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.default.exists(this),r.default.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let t=a;t<i;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,o.createView)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)c.setUint32(4*t,l[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}e.SHA2=i},1655:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function o(t,e=!1){return e?{h:Number(t&n),l:Number(t>>r&n)}:{h:0|Number(t>>r&n),l:0|Number(t&n)}}function i(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=o(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}function s(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:0|o}}e.fromBig=o,e.split=i,e.toBig=(t,e)=>BigInt(t>>>0)<<r|BigInt(e>>>0),e.add=s;const a={fromBig:o,split:i,toBig:e.toBig,shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,n)=>t<<n|e>>>32-n,rotlSL:(t,e,n)=>e<<n|t>>>32-n,rotlBH:(t,e,n)=>e<<n-32|t>>>64-n,rotlBL:(t,e,n)=>t<<n-32|e>>>64-n,add:s,add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,add5H:(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0,add5L:(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};e.default=a},4661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},1377:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const r=n(3525),o=n(64);class i extends o.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.default.hash(t);const n=(0,o.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.default.exists(this),this.iHash.update(t),this}digestInto(t){r.default.exists(this),r.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,n)=>new i(t,e).update(n).digest(),e.hmac.create=(t,e)=>new i(t,e)},9179:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const r=n(3525),o=n(1377),i=n(64);function s(t,e,n,s){r.default.hash(t);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:u,asyncTick:f}=a;if(r.default.number(c),r.default.number(u),r.default.number(f),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=(0,i.toBytes)(e),h=(0,i.toBytes)(n),p=new Uint8Array(u),d=o.hmac.create(t,l),y=d._cloneInto().update(h);return{c,dkLen:u,asyncTick:f,DK:p,PRF:d,PRFSalt:y}}function a(t,e,n,r,o){return t.destroy(),e.destroy(),r&&r.destroy(),o.fill(0),n}e.pbkdf2=function(t,e,n,r){const{c:o,dkLen:c,DK:u,PRF:f,PRFSalt:l}=s(t,e,n,r);let h;const p=new Uint8Array(4),d=(0,i.createView)(p),y=new Uint8Array(f.outputLen);for(let t=1,e=0;e<c;t++,e+=f.outputLen){const n=u.subarray(e,e+f.outputLen);d.setInt32(0,t,!1),(h=l._cloneInto(h)).update(p).digestInto(y),n.set(y.subarray(0,n.length));for(let t=1;t<o;t++){f._cloneInto(h).update(y).digestInto(y);for(let t=0;t<n.length;t++)n[t]^=y[t]}}return a(f,l,u,h,y)},e.pbkdf2Async=async function(t,e,n,r){const{c:o,dkLen:c,asyncTick:u,DK:f,PRF:l,PRFSalt:h}=s(t,e,n,r);let p;const d=new Uint8Array(4),y=(0,i.createView)(d),g=new Uint8Array(l.outputLen);for(let t=1,e=0;e<c;t++,e+=l.outputLen){const n=f.subarray(e,e+l.outputLen);y.setInt32(0,t,!1),(p=h._cloneInto(p)).update(d).digestInto(g),n.set(g.subarray(0,n.length)),await(0,i.asyncLoop)(o-1,u,(t=>{l._cloneInto(p).update(g).digestInto(g);for(let t=0;t<n.length;t++)n[t]^=g[t]}))}return a(l,h,f,p,g)}},6053:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const r=n(9350),o=n(64),i=(t,e,n)=>t&e^t&n^e&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=c[t-15],n=c[t-2],r=(0,o.rotr)(e,7)^(0,o.rotr)(e,18)^e>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[t]=i+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:a,D:u,E:f,F:l,G:h,H:p}=this;for(let t=0;t<64;t++){const e=p+((0,o.rotr)(f,6)^(0,o.rotr)(f,11)^(0,o.rotr)(f,25))+((d=f)&l^~d&h)+s[t]+c[t]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;p=h,h=l,l=f,f=u+e|0,u=a,a=r,r=n,n=e+y|0}var d;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(n,r,a,u,f,l,h,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,o.wrapConstructor)((()=>new u)),e.sha224=(0,o.wrapConstructor)((()=>new f))},2540:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha384=e.sha512_256=e.sha512_224=e.sha512=e.SHA512=void 0;const r=n(9350),o=n(1655),i=n(64),[s,a]=o.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),c=new Uint32Array(80),u=new Uint32Array(80);class f extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:l,Gh:h,Gl:p,Hh:d,Hl:y}=this;return[t,e,n,r,o,i,s,a,c,u,f,l,h,p,d,y]}set(t,e,n,r,o,i,s,a,c,u,f,l,h,p,d,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|l,this.Gh=0|h,this.Gl=0|p,this.Hh=0|d,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e),u[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|c[t-15],n=0|u[t-15],r=o.default.rotrSH(e,n,1)^o.default.rotrSH(e,n,8)^o.default.shrSH(e,n,7),i=o.default.rotrSL(e,n,1)^o.default.rotrSL(e,n,8)^o.default.shrSL(e,n,7),s=0|c[t-2],a=0|u[t-2],f=o.default.rotrSH(s,a,19)^o.default.rotrBH(s,a,61)^o.default.shrSH(s,a,6),l=o.default.rotrSL(s,a,19)^o.default.rotrBL(s,a,61)^o.default.shrSL(s,a,6),h=o.default.add4L(i,l,u[t-7],u[t-16]),p=o.default.add4H(h,r,f,c[t-7],c[t-16]);c[t]=0|p,u[t]=0|h}let{Ah:n,Al:r,Bh:i,Bl:f,Ch:l,Cl:h,Dh:p,Dl:d,Eh:y,El:g,Fh:w,Fl:b,Gh:m,Gl:v,Hh:_,Hl:E}=this;for(let t=0;t<80;t++){const e=o.default.rotrSH(y,g,14)^o.default.rotrSH(y,g,18)^o.default.rotrBH(y,g,41),x=o.default.rotrSL(y,g,14)^o.default.rotrSL(y,g,18)^o.default.rotrBL(y,g,41),A=y&w^~y&m,k=g&b^~g&v,S=o.default.add5L(E,x,k,a[t],u[t]),B=o.default.add5H(S,_,e,A,s[t],c[t]),U=0|S,P=o.default.rotrSH(n,r,28)^o.default.rotrBH(n,r,34)^o.default.rotrBH(n,r,39),T=o.default.rotrSL(n,r,28)^o.default.rotrBL(n,r,34)^o.default.rotrBL(n,r,39),I=n&i^n&l^i&l,O=r&f^r&h^f&h;_=0|m,E=0|v,m=0|w,v=0|b,w=0|y,b=0|g,({h:y,l:g}=o.default.add(0|p,0|d,0|B,0|U)),p=0|l,d=0|h,l=0|i,h=0|f,i=0|n,f=0|r;const C=o.default.add3L(U,T,O);n=o.default.add3H(C,B,P,I),r=0|C}({h:n,l:r}=o.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:f}=o.default.add(0|this.Bh,0|this.Bl,0|i,0|f)),({h:l,l:h}=o.default.add(0|this.Ch,0|this.Cl,0|l,0|h)),({h:p,l:d}=o.default.add(0|this.Dh,0|this.Dl,0|p,0|d)),({h:y,l:g}=o.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:w,l:b}=o.default.add(0|this.Fh,0|this.Fl,0|w,0|b)),({h:m,l:v}=o.default.add(0|this.Gh,0|this.Gl,0|m,0|v)),({h:_,l:E}=o.default.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(n,r,i,f,l,h,p,d,y,g,w,b,m,v,_,E)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=f;class l extends f{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class p extends f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.sha512=(0,i.wrapConstructor)((()=>new f)),e.sha512_224=(0,i.wrapConstructor)((()=>new l)),e.sha512_256=(0,i.wrapConstructor)((()=>new h)),e.sha384=(0,i.wrapConstructor)((()=>new p))},64:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const r=n(4661);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function i(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"==typeof t&&(t=i(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=o[t[n]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e},e.nextTick=async()=>{},e.asyncLoop=async function(t,n,r){let o=Date.now();for(let i=0;i<t;i++){r(i);const t=Date.now()-o;t>=0&&t<n||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=i,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(n=e,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,n)=>t(n).update(s(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(t));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},6698:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const r=n(7695),o=BigInt(0),i=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(8),u=Object.freeze({a:o,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=u;const f=(t,e)=>(t+e/s)/e,l={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=u,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=f(s*t,e),l=f(-r*t,e);let h=F(t-c*n-l*o,e),p=F(-c*r-l*s,e);const d=h>a,y=p>a;if(d&&(h=e-h),y&&(p=e-p),h>a||p>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:h,k2neg:y,k2:p}}},h=32,p=32,d=h+1,y=2*h+1;function g(t){const{a:e,b:n}=u,r=F(t*t),o=F(r*t);return F(o+e*t+n)}const w=u.a===o;class b extends Error{constructor(t){super(t)}}function m(t){if(!(t instanceof v))throw new TypeError("JacobianPoint expected")}class v{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof x))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(x.ZERO)?v.ZERO:new v(t.x,t.y,i)}static toAffineBatch(t){const e=function(t,e=u.P){const n=new Array(t.length),r=z(t.reduce(((t,r,i)=>r===o?t:(n[i]=t,F(t*r,e))),i),e);return t.reduceRight(((t,r,i)=>r===o?t:(n[i]=F(t*n[i],e),F(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return v.toAffineBatch(t).map(v.fromAffine)}equals(t){m(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t,a=F(r*r),c=F(s*s),u=F(e*c),f=F(o*a),l=F(F(n*s)*c),h=F(F(i*r)*a);return u===f&&l===h}negate(){return new v(this.x,F(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=F(t*t),o=F(e*e),i=F(o*o),u=t+o,f=F(s*(F(u*u)-r-i)),l=F(a*r),h=F(l*l),p=F(h-s*f),d=F(l*(f-p)-c*i),y=F(s*e*n);return new v(p,d,y)}add(t){m(t);const{x:e,y:n,z:r}=this,{x:i,y:a,z:c}=t;if(i===o||a===o)return this;if(e===o||n===o)return t;const u=F(r*r),f=F(c*c),l=F(e*f),h=F(i*u),p=F(F(n*c)*f),d=F(F(a*r)*u),y=F(h-l),g=F(d-p);if(y===o)return g===o?this.double():v.ZERO;const w=F(y*y),b=F(y*w),_=F(l*w),E=F(g*g-b-s*_),x=F(g*(_-E)-p*b),A=F(r*c*y);return new v(E,x,A)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=v.ZERO;if("bigint"==typeof t&&t===o)return e;let n=H(t);if(n===i)return this;if(!w){let t=e,r=this;for(;n>o;)n&i&&(t=t.add(r)),r=r.double(),n>>=i;return t}let{k1neg:r,k1:s,k2neg:a,k2:c}=l.splitScalar(n),u=e,f=e,h=this;for(;s>o||c>o;)s&i&&(u=u.add(h)),c&i&&(f=f.add(h)),h=h.double(),s>>=i,c>>=i;return r&&(u=u.negate()),a&&(f=f.negate()),f=new v(F(f.x*l.beta),f.y,f.z),u.add(f)}precomputeWindow(t){const e=w?128/t+1:256/t+1,n=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(t,e){!e&&this.equals(v.BASE)&&(e=x.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&E.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=v.normalizeZ(r),E.set(e,r)));let o=v.ZERO,s=v.BASE;const a=1+(w?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let e=0;e<a;e++){const n=e*c;let a=Number(t&u);t>>=l,a>c&&(a-=f,t+=i);const h=n,p=n+Math.abs(a)-1,d=e%2!=0,y=a<0;0===a?s=s.add(_(d,r[h])):o=o.add(_(y,r[p]))}return{p:o,f:s}}multiply(t,e){let n,r,o=H(t);if(w){const{k1neg:t,k1:i,k2neg:s,k2:a}=l.splitScalar(o);let{p:c,f:u}=this.wNAF(i,e),{p:f,f:h}=this.wNAF(a,e);c=_(t,c),f=_(s,f),f=new v(F(f.x*l.beta),f.y,f.z),n=c.add(f),r=u.add(h)}else{const{p:t,f:i}=this.wNAF(o,e);n=t,r=i}return v.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,o=this.equals(v.ZERO);null==t&&(t=o?c:z(r));const s=t,a=F(s*s),u=F(a*s),f=F(e*a),l=F(n*u),h=F(r*s);if(o)return x.ZERO;if(h!==i)throw new Error("invZ was invalid");return new x(f,l)}}function _(t,e){const n=e.negate();return t?n:e}v.BASE=new v(u.Gx,u.Gy,i),v.ZERO=new v(o,i,o);const E=new WeakMap;class x{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,E.delete(this)}hasEvenY(){return this.y%s===o}static fromCompressedHex(t){const e=32===t.length,n=j(e?t:t.subarray(1));if(!V(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=u,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),f=BigInt(88),l=t*t*t%e,h=l*l*t%e,p=M(h,a)*h%e,d=M(p,a)*h%e,y=M(d,s)*l%e,g=M(y,r)*y%e,w=M(g,o)*g%e,b=M(w,c)*w%e,m=M(b,f)*b%e,v=M(m,c)*w%e,_=M(v,a)*h%e,E=M(_,i)*g%e,x=M(E,n)*l%e,A=M(x,s);if(A*A%e!==t)throw new Error("Cannot find square root");return A}(g(n));const o=(r&i)===i;e?o&&(r=F(-r)):1==(1&t[0])!==o&&(r=F(-r));const c=new x(n,r);return c.assertValidity(),c}static fromUncompressedHex(t){const e=j(t.subarray(1,h+1)),n=j(t.subarray(h+1,2*h+1)),r=new x(e,n);return r.assertValidity(),r}static fromHex(t){const e=N(t),n=e.length,r=e[0];if(n===h)return this.fromCompressedHex(e);if(n===d&&(2===r||3===r))return this.fromCompressedHex(e);if(n===y&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${d} compressed bytes or ${y} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return x.BASE.multiply(X(t))}static fromSignature(t,e,n){const{r,s:o}=Z(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=$(N(t)),{n:s}=u,a=2===n||3===n?r+s:r,c=z(a,s),f=F(-i*c,s),l=F(o*c,s),h=1&n?"03":"02",p=x.fromHex(h+I(a)),d=x.BASE.multiplyAndAddUnsafe(p,f,l);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return R(this.toHex(t))}toHex(t=!1){const e=I(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${I(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!V(e)||!V(n))throw new Error(t);const r=F(n*n);if(F(r-g(e))!==o)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new x(this.x,F(-this.y))}double(){return v.fromAffine(this).double().toAffine()}add(t){return v.fromAffine(this).add(v.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return v.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=v.fromAffine(this),s=e===o||e===i||this!==x.BASE?r.multiplyUnsafe(e):r.multiply(e),a=v.fromAffine(t).multiplyUnsafe(n),c=s.add(a);return c.equals(v.ZERO)?void 0:c.toAffine()}}function A(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function k(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${P(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:j(n),left:t.subarray(e+2)}}e.Point=x,x.BASE=new x(u.Gx,u.Gy),x.ZERO=new x(o,o);class S{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?P(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new S(D(r.slice(0,64)),D(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${P(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=k(t.subarray(2)),{data:r,left:o}=k(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${P(o)}`);return{r:e,s:r}}(e?t:R(t));return new S(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!G(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!G(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=u.n>>i;return this.s>t}normalizeS(){return this.hasHighS()?new S(this.r,F(-this.s,u.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){const t=A(C(this.s)),e=A(C(this.r)),n=t.length/2,r=e.length/2,o=C(n),i=C(r);return`30${C(r+n+4)}02${i}${e}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}function B(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}e.Signature=S;const U=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function P(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=U[t[n]];return e}const T=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function I(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(o<=t&&t<T))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function O(t){const e=R(I(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function C(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function D(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function R(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function j(t){return D(P(t))}function N(t){return t instanceof Uint8Array?Uint8Array.from(t):R(t)}function H(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&G(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function F(t,e=u.P){const n=t%e;return n>=o?n:e+n}function M(t,e){const{P:n}=u;let r=t;for(;e-- >o;)r*=r,r%=n;return r}function z(t,e=u.P){if(t===o||e<=o)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=F(t,e),r=e,s=o,a=i,c=i,f=o;for(;n!==o;){const t=r/n,e=r%n,o=s-c*t,i=a-f*t;r=n,n=e,s=c,a=f,c=o,f=i}if(r!==i)throw new Error("invert: does not exist");return F(s,e)}function $(t,e=!1){const n=function(t){const e=8*t.length-8*p,n=j(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=u;return n>=r?n-r:n}let L,K;class W{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){return K(this.k,...t)}checkSync(){if("function"!=typeof K)throw new b("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return B(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return B(...e)}}function G(t){return o<t&&t<u.n}function V(t){return o<t&&t<u.P}function q(t,e,n,r=!0){const{n:s}=u,a=$(t,!0);if(!G(a))return;const c=z(a,s),f=x.BASE.multiply(a),l=F(f.x,s);if(l===o)return;const h=F(c*F(e+n*l,s),s);if(h===o)return;let p=new S(l,h),d=(f.x===p.r?0:2)|Number(f.y&i);return r&&p.hasHighS()&&(p=p.normalizeS(),d^=1),{sig:p,recovery:d}}function X(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*p)throw new Error("Expected 32 bytes of private key");e=D(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==p)throw new Error("Expected 32 bytes of private key");e=j(t)}if(!G(e))throw new Error("Expected private key: 0 < key < n");return e}function J(t){return t instanceof x?(t.assertValidity(),t):x.fromHex(t)}function Z(t){if(t instanceof S)return t.assertValidity(),t;try{return S.fromDER(t)}catch(e){return S.fromCompact(t)}}function Y(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===d||r===y:n?r===2*d||r===2*y:t instanceof x}function Q(t){return j(t.length>h?t.slice(0,h):t)}function tt(t){const e=Q(t),n=F(e,u.n);return et(n<o?e:n)}function et(t){return O(t)}function nt(t,n,r){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const o=N(t),i=X(n),s=[et(i),tt(o)];if(null!=r){!0===r&&(r=e.utils.randomBytes(h));const t=N(r);if(t.length!==h)throw new Error(`sign: Expected ${h} bytes of extra data`);s.push(t)}return{seed:B(...s),m:Q(o),d:i}}function rt(t,e){const{sig:n,recovery:r}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?n.toDERRawBytes():n.toCompactRawBytes();return i?[s,r]:s}e.getPublicKey=function(t,e=!1){return x.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,n,r=!1){return x.fromSignature(t,e,n).toRawBytes(r)},e.getSharedSecret=function(t,e,n=!1){if(Y(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Y(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=J(e);return r.assertValidity(),r.multiply(X(t)).toRawBytes(n)},e.sign=async function(t,e,n={}){const{seed:r,m:o,d:i}=nt(t,e,n.extraEntropy),s=new W(32,p);let a;for(await s.reseed(r);!(a=q(await s.generate(),o,i,n.canonical));)await s.reseed();return rt(a,n)},e.signSync=function(t,e,n={}){const{seed:r,m:o,d:i}=nt(t,e,n.extraEntropy),s=new W(32,p);let a;for(s.reseedSync(r);!(a=q(s.generateSync(),o,i,n.canonical));)s.reseedSync();return rt(a,n)};const ot={strict:!0};function it(t){return F(j(t),u.n)}e.verify=function(t,e,n,r=ot){let o;try{o=Z(t),e=N(e)}catch(t){return!1}const{r:i,s}=o;if(r.strict&&o.hasHighS())return!1;const a=$(e);let c;try{c=J(n)}catch(t){return!1}const{n:f}=u,l=z(s,f),h=F(a*l,f),p=F(i*l,f),d=x.BASE.multiplyAndAddUnsafe(c,h,p);return!!d&&F(d.x,f)===i};class st{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=N(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const n=j(e.subarray(0,32)),r=j(e.subarray(32,64));return new st(n,r)}assertValidity(){const{r:t,s:e}=this;if(!V(t)||!G(e))throw new Error("Invalid signature")}toHex(){return I(this.r)+I(this.s)}toRawBytes(){return R(this.toHex())}}class at{constructor(t,n,r=e.utils.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=N(t);const{x:o,scalar:i}=this.getScalar(X(n));if(this.px=o,this.d=i,this.rand=N(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=x.fromPrivateKey(t),n=e.hasEvenY()?t:u.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return O(t^j(e))}finalizeNonce(t){const e=F(j(t),u.n);if(e===o)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:i}=this.getScalar(e);return{R:n,rx:r,k:i}}finalizeSig(t,e,n,r){return new st(t.x,F(e+n*r,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:n,px:r,rand:o}=this,i=e.utils.taggedHash,s=this.initNonce(n,await i(pt.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(pt.nonce,s,r,t)),f=it(await i(pt.challenge,c,r,t)),l=this.finalizeSig(a,u,f,n);return await ft(l,t,r)||this.error(),l}calcSync(){const{m:t,d:n,px:r,rand:o}=this,i=e.utils.taggedHashSync,s=this.initNonce(n,i(pt.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(pt.nonce,s,r,t)),f=it(i(pt.challenge,c,r,t)),l=this.finalizeSig(a,u,f,n);return lt(l,t,r)||this.error(),l}}function ct(t,e,n){const r=t instanceof st,o=r?t:st.fromHex(t);return r&&o.assertValidity(),{...o,m:N(e),P:J(n)}}function ut(t,e,n,r){const o=x.BASE.multiplyAndAddUnsafe(e,X(n),F(-r,u.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function ft(t,n,r){try{const{r:o,s:i,m:s,P:a}=ct(t,n,r),c=it(await e.utils.taggedHash(pt.challenge,O(o),a.toRawX(),s));return ut(o,a,i,c)}catch(t){return!1}}function lt(t,n,r){try{const{r:o,s:i,m:s,P:a}=ct(t,n,r),c=it(e.utils.taggedHashSync(pt.challenge,O(o),a.toRawX(),s));return ut(o,a,i,c)}catch(t){if(t instanceof b)throw t;return!1}}e.schnorr={Signature:st,getPublicKey:function(t){return x.fromPrivateKey(t).toRawX()},sign:async function(t,e,n){return new at(t,e,n).calc()},verify:ft,signSync:function(t,e,n){return new at(t,e,n).calcSync()},verifySync:lt},x.BASE._setWindowSize(8);const ht={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},pt={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},dt={};e.utils={bytesToHex:P,hexToBytes:R,concatBytes:B,mod:F,invert:z,isValidPrivateKey(t){try{return X(t),!0}catch(t){return!1}},_bigintTo32Bytes:O,_normalizePrivateKey:X,hashToPrivateKey:t=>{t=N(t);const e=p+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return O(F(j(t),u.n-i)+i)},randomBytes:(t=32)=>{if(ht.web)return ht.web.getRandomValues(new Uint8Array(t));if(ht.node){const{randomBytes:e}=ht.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(p+8)),precompute(t=8,e=x.BASE){const n=e===x.BASE?e:new x(e.x,e.y);return n._setWindowSize(t),n.multiply(a),n},sha256:async(...t)=>{if(ht.web){const e=await ht.web.subtle.digest("SHA-256",B(...t));return new Uint8Array(e)}if(ht.node){const{createHash:e}=ht.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(ht.web){const n=await ht.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=B(...e),o=await ht.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(ht.node){const{createHmac:n}=ht.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...n)=>{let r=dt[t];if(void 0===r){const n=await e.utils.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=B(n,n),dt[t]=r}return e.utils.sha256(r,...n)},taggedHashSync:(t,...e)=>{if("function"!=typeof L)throw new b("sha256Sync is undefined, you need to set it");let n=dt[t];if(void 0===n){const e=L(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=B(e,e),dt[t]=n}return L(n,...e)},_JacobianPoint:v},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get:()=>L,set(t){L||(L=t)}},hmacSha256Sync:{configurable:!1,get:()=>K,set(t){K||(K=t)}}})},6237:(t,e)=>{"use strict";function n(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function r(...t){const e=(t,e)=>n=>t(e(n));return{encode:Array.from(t).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),decode:t.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0)}}function o(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(n(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const n=t.indexOf(e);if(-1===n)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return n}))}}}function i(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function s(t,e="="){if(n(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function c(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let o=0;const i=[],s=Array.from(t);for(s.forEach((t=>{if(n(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,n=!0;for(let i=o;i<s.length;i++){const a=s[i],c=e*t+a;if(!Number.isSafeInteger(c)||e*t/e!==t||c-a!=e*t)throw new Error("convertRadix: carry overflow");if(t=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+t!==c)throw new Error("convertRadix: carry overflow");n&&(s[i]?n=!1:o=i)}if(i.push(t),n)break}for(let e=0;e<t.length-1&&0===t[e];e++)i.push(0);return i.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=n;const u=(t,e)=>e?u(e,t%e):t,f=(t,e)=>t+(e-u(t,e));function l(t,e,r,o){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(f(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${f(e,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of t){if(n(o),o>=2**e)throw new Error(`convertRadix2: invalid data word=${o} from=${e}`);if(i=i<<e|o,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=e)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function h(t){return n(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(e,t,256))}}}function p(t,e=!1){if(n(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,t)>32||f(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return l(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(l(n,t,8,e))}}}function d(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}function y(t,e){if(n(t),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=e(n).slice(0,t),o=new Uint8Array(n.length+t);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-t),o=e(r).slice(0,t),i=n.slice(-t);for(let e=0;e<t;e++)if(o[e]!==i[e])throw new Error("Invalid checksum");return r}}}e.utils={alphabet:o,chain:r,checksum:y,radix:h,radix2:p,join:i,padding:s},e.base16=r(p(4),o("0123456789ABCDEF"),i("")),e.base32=r(p(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),e.base32hex=r(p(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),e.base32crockford=r(p(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),a((t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=r(p(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),e.base64url=r(p(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const g=t=>r(h(58),o(t),i(""));e.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let n="";for(let r=0;r<t.length;r+=8){const o=t.subarray(r,r+8);n+=e.base58.encode(o).padStart(w[o.length],"1")}return n},decode(t){let n=[];for(let r=0;r<t.length;r+=11){const o=t.slice(r,r+11),i=w.indexOf(o.length),s=e.base58.decode(o);for(let t=0;t<s.length-i;t++)if(0!==s[t])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(n)}},e.base58check=t=>r(y(4,(e=>t(t(e)))),e.base58);const b=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(t){const e=t>>25;let n=(33554431&t)<<5;for(let t=0;t<m.length;t++)1==(e>>t&1)&&(n^=m[t]);return n}function _(t,e,n=1){const r=t.length;let o=1;for(let e=0;e<r;e++){const n=t.charCodeAt(e);if(n<33||n>126)throw new Error(`Invalid prefix (${t})`);o=v(o)^n>>5}o=v(o);for(let e=0;e<r;e++)o=v(o)^31&t.charCodeAt(e);for(let t of e)o=v(o)^t;for(let t=0;t<6;t++)o=v(o);return o^=n,b.encode(l([o%2**30],30,5,!1))}function E(t){const e="bech32"===t?1:734539939,n=p(5),r=n.decode,o=n.encode,i=d(r);function s(t,n=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==n&&t.length>n)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${n})`);const r=t.toLowerCase();if(t!==r&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(t=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=t.slice(0,o),s=t.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=_(i,a,e);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${t}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(t,n,r=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=t.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${t=t.toLowerCase()}1${b.encode(n)}${_(t,n,e)}`},decode:s,decodeToBytes:function(t){const{prefix:e,words:n}=s(t,!1);return{prefix:e,words:n,bytes:r(n)}},decodeUnsafe:d(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}e.bech32=E("bech32"),e.bech32m=E("bech32m"),e.utf8={encode:t=>(new TextDecoder).decode(t),decode:t=>(new TextEncoder).encode(t)},e.hex=r(p(4),o("0123456789abcdef"),i(""),a((t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})));const x={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},A=`Invalid encoding type. Available types: ${Object.keys(x).join(", ")}`;e.bytesToString=(t,e)=>{if("string"!=typeof t||!x.hasOwnProperty(t))throw new TypeError(A);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return x[t].encode(e)},e.str=e.bytesToString,e.stringToBytes=(t,e)=>{if(!x.hasOwnProperty(t))throw new TypeError(A);if("string"!=typeof e)throw new TypeError("stringToBytes() expects string");return x[t].decode(e)},e.bytes=e.stringToBytes},5796:(t,e,n)=>{"use strict";e.OI=e._I=e.JJ=e.oy=e.OF=void 0;const r=n(3525),o=n(9179),i=n(6053),s=n(2540),a=n(64),c=n(6237);function u(t){if("string"!=typeof t)throw new TypeError("Invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function f(t){const e=u(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function l(t){r.default.bytes(t,16,20,24,28,32)}e.OF=function(t,e=128){if(r.default.number(e),e%32!=0||e>256)throw new TypeError("Invalid entropy");return y((0,a.randomBytes)(e/8),t)};const h=t=>{const e=8-t.length/4;return new Uint8Array([(0,i.sha256)(t)[0]>>e<<e])};function p(t){if(!Array.isArray(t)||2048!==t.length||"string"!=typeof t[0])throw new Error("Worlist: expected array of 2048 strings");return t.forEach((t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)})),c.utils.chain(c.utils.checksum(1,h),c.utils.radix2(11,!0),c.utils.alphabet(t))}function d(t,e){const{words:n}=f(t),r=p(e).decode(n);return l(r),r}function y(t,e){return l(t),p(e).encode(t).join((t=>"あいこくしん"===t[0])(e)?"　":" ")}e.oy=d,e.JJ=y,e._I=function(t,e){try{d(t,e)}catch(t){return!1}return!0};e.OI=function(t,e=""){return(0,o.pbkdf2Async)(s.sha512,f(t).nfkd,(t=>u(`mnemonic${t}`))(e),{c:2048,dkLen:64})}},8050:(t,e)=>{"use strict";e.U=void 0,e.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},8166:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,o=0;t[n]===a;)r++,n++;for(var i=(t.length-n)*c+1>>>0,u=new Uint8Array(i);t[n];){var f=e[t.charCodeAt(n)];if(255===f)return;for(var l=0,h=i-1;(0!==f||l<o)&&-1!==h;h--,l++)f+=s*u[h]>>>0,u[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=l,n++}for(var p=i-o;p!==i&&0===u[p];)p++;for(var d=new Uint8Array(r+(i-p)),y=r;p!==i;)d[y++]=u[p++];return d}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,o=0,i=e.length;o!==i&&0===e[o];)o++,n++;for(var c=(i-o)*u+1>>>0,f=new Uint8Array(c);o!==i;){for(var l=e[o],h=0,p=c-1;(0!==l||h<r)&&-1!==p;p--,h++)l+=256*f[p]>>>0,f[p]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");r=h,o++}for(var d=c-r;d!==c&&0===f[d];)d++;for(var y=a.repeat(n);d<c;++d)y+=t.charAt(f[d]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},5766:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=a(t),s=i[0],c=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),f=0,l=c>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[f++]=e>>16&255,u[f++]=e>>8&255,u[f++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[f++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[f++]=e>>8&255,u[f++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=16383,a=0,u=r-o;a<u;a+=s)i.push(c(t,a,a+s>u?u:a+s));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7022:(t,e,n)=>{const r=n(8166);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8834:(t,e,n)=>{"use strict";var r=n(5766),o=n(2333),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=c,e.h2=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|y(t,e),r=a(n),o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(z(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(z(t,ArrayBuffer)||t&&z(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(z(t,SharedArrayBuffer)||t&&z(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);var o=function(t){if(c.isBuffer(t)){var e=0|d(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),a(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(o)return r?-1:H(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return U(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var f=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var l=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){l=!1;break}if(l)return i}return-1}function v(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if($(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return M(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return M(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return M(F(e),t,n,r)}function A(t,e,n,r){return M(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],f=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l<=n)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return f(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return l(t)},c.allocUnsafeSlow=function(t){return l(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(z(i,Uint8Array))o+i.length>r.length?c.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,o){if(z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),u=this.slice(r,o),f=t.slice(e,n),l=0;l<a;++l)if(u[l]!==f[l]){i=u[l],s=f[l];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function U(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=L[t[i]];return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,i){return e=+e,n>>>=0,i||D(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,i){return e=+e,n>>>=0,i||D(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var o=t.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=c.isBuffer(t)?t:c.from(t,r),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var N=/[^+/0-9A-Za-z-_]/g;function H(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function M(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}var L=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)e[r+o]=t[n]+t[o];return e}()},8098:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const r=n(392),o=n(2716),i=n(64);e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const a={};function c(t,e){if(!e.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,r.c32checkEncode)(t,e)}`}function u(t){if(t.length<=5)throw new Error("Invalid c32 address: invalid length");if("S"!=t[0])throw new Error('Invalid c32 address: must start with "S"');return(0,r.c32checkDecode)(t.slice(1))}a[e.versions.mainnet.p2pkh]=0,a[e.versions.mainnet.p2sh]=5,a[e.versions.testnet.p2pkh]=111,a[e.versions.testnet.p2sh]=196,e.c32address=c,e.c32addressDecode=u,e.b58ToC32=function(t,e=-1){const n=o.decode(t),r=(0,i.bytesToHex)(n.data),a=parseInt((0,i.bytesToHex)(n.prefix),16);let u;return e<0?(u=a,void 0!==s[a]&&(u=s[a])):u=e,c(u,r)},e.c32ToB58=function(t,e=-1){const n=u(t),r=n[0],i=n[1];let s;e<0?(s=r,void 0!==a[r]&&(s=a[r])):s=e;let c=s.toString(16);return 1===c.length&&(c=`0${c}`),o.encode(i,c)}},2716:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const r=n(6053),o=n(64),i=n(8166),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.encode=function(t,e="00"){const n="string"==typeof t?(0,o.hexToBytes)(t):t,a="string"==typeof e?(0,o.hexToBytes)(e):t;if(!(n instanceof Uint8Array&&a instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const c=(0,r.sha256)((0,r.sha256)(new Uint8Array([...a,...n])));return i(s).encode([...a,...n,...c.slice(0,4)])},e.decode=function(t){const e=i(s).decode(t),n=e.slice(0,1),o=e.slice(1,-4),a=(0,r.sha256)((0,r.sha256)(new Uint8Array([...n,...o])));return e.slice(-4).forEach(((t,e)=>{if(t!==a[e])throw new Error("Invalid checksum")})),{prefix:n,data:o}}},392:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32checkDecode=e.c32checkEncode=void 0;const r=n(6053),o=n(64),i=n(4103);function s(t){const e=(0,r.sha256)((0,r.sha256)((0,o.hexToBytes)(t)));return(0,o.bytesToHex)(e.slice(0,4))}e.c32checkEncode=function(t,e){if(t<0||t>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");(e=e.toLowerCase()).length%2!=0&&(e=`0${e}`);let n=t.toString(16);1===n.length&&(n=`0${n}`);const r=s(`${n}${e}`),o=(0,i.c32encode)(`${e}${r}`);return`${i.c32[t]}${o}`},e.c32checkDecode=function(t){t=(0,i.c32normalize)(t);const e=(0,i.c32decode)(t.slice(1)),n=t[0],r=i.c32.indexOf(n),o=e.slice(-8);let a=r.toString(16);if(1===a.length&&(a=`0${a}`),s(`${a}${e.substring(0,e.length-8)}`)!==o)throw new Error("Invalid c32check string: checksum mismatch");return[r,e.substring(0,e.length-8)]}},4103:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const r=n(64);e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const o="0123456789abcdef";function i(t){return t.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32encode=function(t,n){if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");t.length%2!=0&&(t=`0${t}`);let i=[],s=0;for(let n=(t=t.toLowerCase()).length-1;n>=0;n--)if(s<4){const r=o.indexOf(t[n])>>s;let a=0;0!==n&&(a=o.indexOf(t[n-1]));const c=1+s,u=a%(1<<c)<<5-c,f=e.c32[r+u];s=c,i.unshift(f)}else s=0;let a=0;for(let t=0;t<i.length&&"0"===i[t];t++)a++;i=i.slice(a);const c=(new TextDecoder).decode((0,r.hexToBytes)(t)).match(/^\u0000*/),u=c?c[0].length:0;for(let t=0;t<u;t++)i.unshift(e.c32[0]);if(n){const t=n-i.length;for(let n=0;n<t;n++)i.unshift(e.c32[0])}return i.join("")},e.c32normalize=i,e.c32decode=function(t,n){if(!(t=i(t)).match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const r=t.match(`^${e.c32[0]}*`),s=r?r[0].length:0;let a=[],c=0,u=0;for(let n=t.length-1;n>=0;n--){4===u&&(a.unshift(o[c]),u=0,c=0);const r=(e.c32.indexOf(t[n])<<u)+c,i=o[r%16];if(u+=1,c=r>>4,c>1<<u)throw new Error("Panic error in decoding.");a.unshift(i)}a.unshift(o[c]),a.length%2==1&&a.unshift("0");let f=0;for(let t=0;t<a.length&&"0"===a[t];t++)f++;a=a.slice(f-f%2);let l=a.join("");for(let t=0;t<s;t++)l=`00${l}`;if(n){const t=2*n-l.length;for(let e=0;e<t;e+=2)l=`00${l}`}return l}},2870:(t,e,n)=>{"use strict";e.H4=void 0;n(4103),n(392);const r=n(8098);Object.defineProperty(e,"H4",{enumerable:!0,get:function(){return r.c32address}})},2680:(t,e,n)=>{"use strict";var r=n(7286),o=n(9429),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},9429:(t,e,n)=>{"use strict";var r=n(4090),o=n(7286),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||r.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),f=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);return c&&u&&c(e,"length").configurable&&u(e,"length",{value:1+f(0,t.length-(arguments.length-1))}),e};var l=function(){return a(r,i,arguments)};u?u(t.exports,"apply",{value:l}):t.exports.apply=l},3616:function(){!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function y(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,n,r=p(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=d(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=f(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=f(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),l(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),l(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var n,r,o=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},w.call(m.prototype),w.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,i){var s=new m(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new _(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=h,t.Request=m,t.Response=_),e.Headers=h,e.Request=m,e.Response=_,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},3243:(t,e,n)=>{"use strict";var r=n(9680),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===o.call(t)?function(t,e,n){for(var r=0,o=t.length;r<o;r++)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s):"string"==typeof t?function(t,e,n){for(var r=0,o=t.length;r<o;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,s):function(t,e,n){for(var r in t)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s)}},7795:t=>{"use strict";var e=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,i=e.call(arguments,1),s=Math.max(0,r.length-i.length),a=[],c=0;c<s;c++)a.push("$"+c);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var n=r.apply(this,i.concat(e.call(arguments)));return Object(n)===n?n:this}return r.apply(t,i.concat(e.call(arguments)))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},4090:(t,e,n)=>{"use strict";var r=n(7795);t.exports=Function.prototype.bind||r},7286:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},f=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,l=n(2636)(),h=n(8486)(),p=Object.getPrototypeOf||(h?function(t){return t.__proto__}:null),d={},y="undefined"!=typeof Uint8Array&&p?p(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":l&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l&&p?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l&&p?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&p?p(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":f,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(t){var w=p(p(t));g["%Error.prototype%"]=w}var b=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&p&&(n=p(o.prototype))}return g[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(4090),_=n(3198),E=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),A=v.call(Function.call,String.prototype.replace),k=v.call(Function.call,String.prototype.slice),S=v.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,P=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var i=g[r];if(i===d&&(i=b(r)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=k(t,0,1),n=k(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,B,(function(t,e,n,o){r[r.length]=n?A(o,U,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=P("%"+r+"%",e),a=i.name,u=i.value,f=!1,l=i.alias;l&&(r=l[0],x(n,E([0,1],l)));for(var h=1,p=!0;h<n.length;h+=1){var d=n[h],y=k(d,0,1),w=k(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===w||"'"===w||"`"===w)&&y!==w)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&p||(f=!0),_(g,a="%"+(r+="."+d)+"%"))u=g[a];else if(null!=u){if(!(d in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&h+1>=n.length){var b=c(u,d);u=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[d]}else p=_(u,d),u=u[d];p&&!f&&(g[a]=u)}}return u}},326:(t,e,n)=>{"use strict";var r=n(7286)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},8486:t=>{"use strict";var e={foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof n)}},2636:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(6679);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},6679:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7226:(t,e,n)=>{"use strict";var r=n(6679);t.exports=function(){return r()&&!!Symbol.toStringTag}},3198:(t,e,n)=>{"use strict";var r=n(4090);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},1358:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l=[].slice;f=n(6246),r=n(2536).const,e.BaseError=t=function(t,e){return"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=t||"Error"},f.inherits(t,Error),t.prototype.name="BaseError",u=function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()},o=function(t){var e;return function(){var n,r,o,i;for(i=[],n=0,r=(o=t.split(/_/)).length;n<r;n++)e=o[n],i.push(u(e));return i}().join("")},a=function(e,n,r){var o;return o=function(e){return t.call(this,e||r,this.constructor),this.istack=[],this.code=n,this},f.inherits(o,t),o.prototype.name=e,o.prototype.inspect=function(){return"["+e+": "+this.message+" (code "+this.code+")]"},o},i=function(t,e){return e[r.trace]=t[r.trace],e},e.make_errors=function(t){var e,n,r,i,s,c;for(r in s={msg:{},name:{},code:{}},t.OK="Success",n=100,t)i=t[r],"OK"!==r?(c=n++,s[e=o(r)+"Error"]=a(e,c,i)):c=0,s[r]=c,s.msg[r]=s.msg[c]=i,s.name[r]=s.name[c]=r,s.code[r]=c;return s},s=function(t,e){if(null!=e)return null==t.istack&&(t.istack=[]),t.istack.push(e)},e.make_esc=c=function(t,e){var n;return null==e&&(e=null!=(n=c.caller)?n.name:void 0),function(n){return i(n,(function(){var r,o;return o=arguments[0],r=2<=arguments.length?l.call(arguments,1):[],null==o?n.apply(null,r):t.__esc?void 0:(t.__esc=!0,s(o,null!=e?e:"unnamed error"),t(o))}))}},e.EscOk=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.bailout=function(){var t;if(this.gcb)return t=this.gcb,this.gcb=null,t(!1)},t.prototype.check_ok=function(t){return i(t,(e=this,function(){var n,r;return r=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],r?t.apply(null,n):e.bailout()}));var e},t.prototype.check_err=function(t){return i(t,(e=this,function(){var n,r;return r=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],null!=r?(s(r,e.where),e.bailout()):t.apply(null,n)}));var e},t.prototype.check_non_null=function(t){return i(t,(e=this,function(){var n;return null==(n=1<=arguments.length?l.call(arguments,0):[])[0]?e.bailout():t.apply(null,n)}));var e},t}(),e.EscErr=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.finish=function(t){var e;if(this.gcb)return e=this.gcb,this.gcb=null,e(t)},t.prototype.check_ok=function(t,e,n){return null==e&&(e=Error),null==n&&(n=null),i(t,(function(){var r,o,i;return i=arguments[0],r=2<=arguments.length?l.call(arguments,1):[],i?t.apply(null,r):(o=new e(n),s(o,this.where),this.finish(o))}))},t.prototype.check_err=function(t){return i(t,(function(){var e,n;return n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],null!=n?(s(n,this.where),this.finish(n)):t.apply(null,e)}))},t}(),e.Canceler=function(){function t(t){this.klass=null!=t?t:Error,this._canceled=!1}return t.prototype.is_canceled=function(){return this._canceled},t.prototype.is_ok=function(){return!this._canceled},t.prototype.cancel=function(){return this._canceled=!0},t.prototype.err=function(){return this._canceled?new this.klass("Aborted"):null},t}(),e.chain=function(t,e){return function(){var n;return n=1<=arguments.length?l.call(arguments,0):[],e((function(){return t.apply(null,n)}))}},e.chain_err=function(t,e){return function(){var n;return n=1<=arguments.length?l.call(arguments,0):[],e((function(){var e;return e=1<=arguments.length?l.call(arguments,0):[],t.apply(null,null!=e[0]&&null==n[0]?e:n)}))}}}).call(this)},8355:function(t,e,n){(function(){var t,r,o,i,s={}.hasOwnProperty;i=n(2536),e.Lock=t=function(){function t(){this._open=!0,this._waiters=[]}return t.prototype.acquire=function(t){return this._open?(this._open=!1,t()):this._waiters.push(t)},t.prototype.release=function(){return this._waiters.length?this._waiters.shift()():this._open=!0},t.prototype.open=function(){return this._open},t}(),r=function(t){function e(t,n){this.tab=t,this.name=n,e.__super__.constructor.call(this),this.refs=0}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.incref=function(){return++this.refs},e.prototype.decref=function(){return--this.refs},e.prototype.release=function(){if(e.__super__.release.call(this),0===this.decref())return delete this.tab.locks[this.name]},e}(t),e.Table=function(){function t(){this.locks={}}return t.prototype.create=function(t){var e;return e=new r(this,t),this.locks[t]=e},t.prototype.acquire=function(t,e,n){var r,o,s,a;s=i.findDeferral(arguments),r=this.locks[t]||this.create(t),o=r._open,r.incref(),function(t){if(!n&&!r._open)return t(r=null);!function(t){a=new i.Deferrals(t,{parent:s,filename:"/Users/max/src/iced/iced-lock/index.iced",funcname:"Table.acquire"}),r.acquire(a.defer({lineno:69})),a._fulfill()}(t)}((function(){return e(r,o)}))},t.prototype.lookup=function(t){return this.locks[t]},t}(),o=function(){function t(t){this.table=t.table,this.key=t.key,this.seqid=null,this.waiter=null,this.open=!0,this.refs=0}return t.prototype._incref=function(){return++this.refs},t.prototype._decref=function(){if(0==--this.refs)return this.table._remove({key:this.key})},t.prototype._enter=function(t,e){var n,r;return n=t.seqid,this.open?(this.open=!1,this.seqid=n,e(null,this)):null!=this.waiter?(n>this.waiter.seqid?(r=this.waiter,this.waiter={cb:e,seqid:n},r.cb(new Error("our seqid="+r.seqid+" was preempted by "+n))):e(new Error("our seqid="+n+" is too stale (since "+this.waiter.seqid+" is ahead of us)")),this._decref()):n>this.seqid?this.waiter={seqid:n,cb:e}:(e(new Error("our seqid="+n+" is too stale (since "+this.seqid+" is already in flight)")),this._decref())},t.prototype.release=function(){var t,e;return null!=this.waiter?(e=this.waiter,this.seqid=e.seqid,t=e.cb,this.waiter=null,t(null,this)):(this.open=!0,this.seqid=null),this._decref()},t}(),e.SingleFlightTable=function(){function t(){this._jobs={}}return t.prototype._create=function(t){var e;return e=t.key,this._jobs[e]=new o({table:this,key:e})},t.prototype._remove=function(t){var e;return e=t.key,delete this._jobs[e]},t.prototype.enter=function(t,e){var n,r,o;return o=t.seqid,n=t.key,(r=this._jobs[n]||this._create({key:n}))._incref(),r._enter({seqid:o},e)},t}()}).call(this)},1888:function(t){(function(){t.exports={k:"__iced_k",k_noop:"__iced_k_noop",param:"__iced_p_",ns:"iced",runtime:"runtime",Deferrals:"Deferrals",deferrals:"__iced_deferrals",fulfill:"_fulfill",b_while:"_break",t_while:"_while",c_while:"_continue",n_while:"_next",n_arg:"__iced_next_arg",defer_method:"defer",slot:"__slot",assign_fn:"assign_fn",autocb:"autocb",retslot:"ret",trace:"__iced_trace",passed_deferral:"__iced_passed_deferral",findDeferral:"findDeferral",lineno:"lineno",parent:"parent",filename:"filename",funcname:"funcname",catchExceptions:"catchExceptions",runtime_modes:["node","inline","window","none","browserify","interp"],trampoline:"trampoline",context:"context",defer_arg:"__iced_defer_"}}).call(this)},491:function(t,e,n){(function(){var t,r,o,i,s,a=[].slice;t=n(1888),e.iced=r=n(2521),s=function(t,e,n,o){var i,s,c,u,f,l;f=r.findDeferral(arguments),s=new r.Rendezvous,o[0]=s.id(!0).defer({assign_fn:function(){return i=a.call(arguments,0)},lineno:20,context:l}),c=setTimeout(s.id(!1).defer({lineno:21,context:l}),e),l=new r.Deferrals((function(){return n&&(n[0]=u),u&&clearTimeout(c),t.apply(null,i)}),{parent:f,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced"}),s.wait(l.defer({assign_fn:function(){return u=arguments[0]},lineno:22})),l._fulfill()},e.timeout=function(t,e,n){var r;return s(t,e,n,r=[]),r[0]},o=function(t,e,n){var o,i,s;i=r.findDeferral(arguments),s=new r.Deferrals((function(){return o||(e[0]=!1),t()}),{parent:i,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced"}),n[0]=s.defer({assign_fn:function(){return o=arguments[0]},lineno:40}),s._fulfill()},e.iand=function(t,e){var n;return o(t,e,n=[]),n[0]},i=function(t,e,n){var o,i,s;i=r.findDeferral(arguments),s=new r.Deferrals((function(){return o&&(e[0]=!0),t()}),{parent:i,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced"}),n[0]=s.defer({assign_fn:function(){return o=arguments[0]},lineno:59}),s._fulfill()},e.ior=function(t,e){var n;return i(t,e,n=[]),n[0]},e.Pipeliner=function(){function e(e,n){this.window=e||1,this.delay=n||0,this.queue=[],this.n_out=0,this.cb=null,this[t.deferrals]=this,this.defer=this._defer}return e.prototype.waitInQueue=function(t){var e,n,o;e=r.findDeferral(arguments),(o=this,function(t){var i;i=function(t){var s,a;if(s=t,a=function(){return r.trampoline((function(){return i(t)}))},!(o.n_out>=o.window))return s();!function(t){n=new r.Deferrals(t,{parent:e,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),o.cb=n.defer({lineno:101}),n._fulfill()}(a)},i(t)})(function(o){return function(){o.n_out++,function(t){if(!o.delay)return t();!function(t){n=new r.Deferrals(t,{parent:e,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),setTimeout(n.defer({lineno:109}),o.delay),n._fulfill()}(t)}((function(){return t()}))}}(this))},e.prototype.__defer=function(t,e){var n,o,i,s,c,u;i=r.findDeferral(arguments),c=this,u=function(){if(c.n_out--,c.cb)return n=c.cb,c.cb=null,n()},s=new r.Deferrals(u,{parent:i,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced",funcname:"Pipeliner.__defer"}),o=s.defer({lineno:123}),t[0]=function(){var t,n;return t=1<=arguments.length?a.call(arguments,0):[],null!=(n=e.assign_fn)&&n.apply(null,t),o()},s._fulfill()},e.prototype._defer=function(t){var e;return e=[],this.__defer(e,t),e[0]},e.prototype.flush=function(t){var e,n,o,i,s;n=t,e=r.findDeferral(arguments),i=this,o=function(t){var n,a;if(n=t,a=function(){return r.trampoline((function(){return o(t)}))},!i.n_out)return n();!function(t){s=new r.Deferrals(t,{parent:e,filename:"/Users/max/src/iced/iced-coffee-script/iced-runtime/src/library.iced",funcname:"Pipeliner.flush"}),i.cb=s.defer({lineno:152}),s._fulfill()}(a)},o(n)},e}()}).call(this)},2536:function(t,e,n){(function(){var t,r,o,i,s,a;for(e.const=n(1888),s=0,a=(o=[n(2521),n(491)]).length;s<a;s++)for(t in r=o[s])i=r[t],e[t]=i}).call(this)},2521:function(t,e,n){var r=n(4406);(function(){var t,o,i,s,a,c,u,f,l,h,p=[].slice;t=n(1888),i=function(e,n,r,o,i){var s,a,c,f;for(s in c={},o)f=o[s],c[s]=f;return c[t.lineno]=null!=n?n[t.lineno]:void 0,a=function(){var t,o,s;return t=1<=arguments.length?p.call(arguments,0):[],null!=n&&null!=(s=n.assign_fn)&&s.apply(null,t),e?(o=e,i||(e=null),o._fulfill(r,c)):u("overused deferral at "+h(c))},a[t.trace]=c,a},l=0,a=function(t){return++l%t==0&&(l=0,!0)},f=null,h=function(e){return(e[t.funcname]||"<anonymous>")+" ("+e[t.filename]+":"+(e[t.lineno]+1)+")"},u=function(t){return"undefined"!=typeof console&&null!==console?console.error("ICED warning: "+t):void 0},e.trampoline=c=function(t){return a(500)?null!=(null!=r?r.nextTick:void 0)?r.nextTick(t):setTimeout(t):t()},e.Deferrals=function(){function t(t,e){this.trace=e,this.continuation=t,this.count=1,this.ret=null}return t.prototype._call=function(t){var e;return this.continuation?(f=t,e=this.continuation,this.continuation=null,e(this.ret)):u("Entered dead await at "+h(t))},t.prototype._fulfill=function(t,e){if(!(--this.count>0))return c((n=this,function(){return n._call(e)}));var n},t.prototype.defer=function(t){return this.count++,i(this,t,null,this.trace)},t}(),e.findDeferral=function(e){var n,r,o;for(r=0,o=e.length;r<o;r++)if(null!=(n=e[r])?n[t.trace]:void 0)return n;return null},e.Rendezvous=function(){var t;function e(){this.completed=[],this.waiters=[],this.defer_id=0}return t=function(){function t(t,e,n){this.rv=t,this.id=e,this.multi=n}return t.prototype.defer=function(t){return this.rv._defer_with_id(this.id,t,this.multi)},t}(),e.prototype.wait=function(t){return this.completed.length?t(this.completed.shift()):this.waiters.push(t)},e.prototype.defer=function(t){var e;return e=this.defer_id++,this._defer_with_id(e,t)},e.prototype.id=function(e,n){return new t(this,e,n=!!n)},e.prototype._fulfill=function(t,e){return this.waiters.length?this.waiters.shift()(t):this.completed.push(t)},e.prototype._defer_with_id=function(t,e,n){return this.count++,i(this,e,t,{},n)},e}(),e.stackWalk=s=function(e){var n,r,o,i;for(r=[],o=e?e[t.trace]:f;o;)n="   at "+h(o),r.push(n),o=null!=o&&null!=(i=o[t.parent])?i[t.trace]:void 0;return r},e.exceptionHandler=o=function(t,e){var n;if(e||(e=console.error),e(t.stack),(n=s()).length)return e("Iced 'stack' trace (w/ real line numbers):"),e(n.join("\n"))},e.catchExceptions=function(t){return null!=r?r.on("uncaughtException",(function(e){return o(e,t),r.exit(1)})):void 0}}).call(this)},2333:(t,e)=>{e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,f=-7,l=n?o-1:0,h=n?-1:1,p=t[e+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[e+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*c-1)*Math.pow(2,o),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*y}},1285:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2635:(t,e,n)=>{"use strict";var r=n(7226)(),o=n(2680)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,t.exports=a?i:s},9680:t=>{"use strict";var e,n,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,e)}catch(t){t!==n&&(o=null)}else o=null;var i=/^\s*class\b/,s=function(t){try{var e=r.call(t);return i.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(r.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),l=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(l=function(t){if((f||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=o?function(t){if(l(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{o(t,null,e)}catch(t){if(t!==n)return!1}return!s(t)&&a(t)}:function(t){if(l(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},3138:(t,e,n)=>{"use strict";var r,o=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n(7226)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(i.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(t);if(!c)return!1;if(void 0===r){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&c(e)}return c(t)===r}},198:(t,e,n)=>{"use strict";var r=n(2094);t.exports=function(t){return!!r(t)}},959:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.unescape=e.escape=e.pad=void 0;const r=n(5766);function o(t){return`${t}${"=".repeat(4-(t.length%4||4))}`}function i(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(t){return o(t).replace(/-/g,"+").replace(/_/g,"/")}e.pad=o,e.escape=i,e.unescape=s,e.encode=function(t){return i((0,r.fromByteArray)((new TextEncoder).encode(t)))},e.decode=function(t){return(new TextDecoder).decode((0,r.toByteArray)(o(s(t))))}},9996:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const r=n(7650);Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return r.SECP256K1Client}});const o={ES256K:r.SECP256K1Client};e.cryptoClients=o},7650:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256K1Client=void 0;const r=n(1377),o=n(6053),i=n(6698),s=n(2575),a=n(8643),c=n(64);i.utils.hmacSha256Sync=(t,...e)=>{const n=r.hmac.create(o.sha256,t);return e.forEach((t=>n.update(t))),n.digest()};class u{static derivePublicKey(t,e=!0){return 66===t.length&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),(0,c.bytesToHex)(i.getPublicKey(t,e))}static signHash(t,e,n="jose"){if(!t||!e)throw new a.MissingParametersError("a signing input hash and private key are all required");const r=i.signSync(t,e.slice(0,64),{der:!0,canonical:!1});if("der"===n)return(0,c.bytesToHex)(r);if("jose"===n)return(0,s.derToJose)(r,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,s.joseToDer)(t,"ES256")}static verifyHash(t,e,n){if(!t||!e||!n)throw new a.MissingParametersError("a signing input hash, der signature, and public key are all required");return i.verify(e,t,n,{strict:!1})}}e.SECP256K1Client=u,u.algorithmName="ES256K"},874:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.hashSha256Async=e.hashSha256=void 0;const o=n(6053);function i(t){return(0,o.sha256)(t)}e.hashSha256=i,e.hashSha256Async=function(t){return r(this,void 0,void 0,(function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){const e="string"==typeof t?(new TextEncoder).encode(t):t,n=yield crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}{const e=n(1812);if(!e.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(e.createHash("sha256").update(t).digest())}}catch(e){return console.log(e),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(i(t))}}))}},8917:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeToken=void 0;const r=n(959);e.decodeToken=function(t){if("string"==typeof t){const e=t.split(".");return{header:JSON.parse(r.decode(e[0])),payload:JSON.parse(r.decode(e[1])),signature:e[2]}}if("object"==typeof t){if("string"!=typeof t.payload)throw new Error("Expected token payload to be a base64 or json string");let e=t.payload;"{"!==t.payload[0]&&(e=r.decode(e));const n=[];return t.header.map((t=>{const e=JSON.parse(r.decode(t));n.push(e)})),{header:n,payload:JSON.parse(e),signature:t.signature}}}},2575:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joseToDer=e.derToJose=void 0;const r=n(5766),o=n(959);function i(t){return(t/8|0)+(t%8==0?0:1)}const s={ES256:i(256),ES384:i(384),ES512:i(521)};function a(t){const e=s[t];if(e)return e;throw new Error(`Unknown algorithm "${t}"`)}const c=128;function u(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return(0,r.toByteArray)((0,o.pad)(t));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function f(t,e,n){let r=0;for(;e+r<n&&0===t[e+r];)++r;return t[e+r]>=c&&--r,r}e.derToJose=function(t,e){const n=u(t),i=a(e),s=i+1,c=n.length;let f=0;if(48!==n[f++])throw new Error('Could not find expected "seq"');let l=n[f++];if(129===l&&(l=n[f++]),c-f<l)throw new Error(`"seq" specified length of "${l}", only "${c-f}" remaining`);if(2!==n[f++])throw new Error('Could not find expected "int" for "r"');const h=n[f++];if(c-f-2<h)throw new Error(`"r" specified length of "${h}", only "${c-f-2}" available`);if(s<h)throw new Error(`"r" specified length of "${h}", max of "${s}" is acceptable`);const p=f;if(f+=h,2!==n[f++])throw new Error('Could not find expected "int" for "s"');const d=n[f++];if(c-f!==d)throw new Error(`"s" specified length of "${d}", expected "${c-f}"`);if(s<d)throw new Error(`"s" specified length of "${d}", max of "${s}" is acceptable`);const y=f;if(f+=d,f!==c)throw new Error(`Expected to consume entire array, but "${c-f}" bytes remain`);const g=i-h,w=i-d,b=new Uint8Array(g+h+w+d);for(f=0;f<g;++f)b[f]=0;b.set(n.subarray(p+Math.max(-g,0),p+h),f),f=i;for(const t=f;f<t+w;++f)b[f]=0;return b.set(n.subarray(y+Math.max(-w,0),y+d),f),(0,o.escape)((0,r.fromByteArray)(b))},e.joseToDer=function(t,e){t=u(t);const n=a(e),r=t.length;if(r!==2*n)throw new TypeError(`"${e}" signatures must be "${2*n}" bytes, saw "${r}"`);const o=f(t,0,n),i=f(t,n,t.length),s=n-o,l=n-i,h=2+s+1+1+l,p=h<c,d=new Uint8Array((p?2:3)+h);let y=0;return d[y++]=48,p?d[y++]=h:(d[y++]=129,d[y++]=255&h),d[y++]=2,d[y++]=s,o<0?(d[y++]=0,d.set(t.subarray(0,n),y),y+=n):(d.set(t.subarray(o,n),y),y+=n-o),d[y++]=2,d[y++]=l,i<0?(d[y++]=0,d.set(t.subarray(n),y)):d.set(t.subarray(n+i),y),d}},8643:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidTokenError=e.MissingParametersError=void 0;class n extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}e.MissingParametersError=n;class r extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}e.InvalidTokenError=r},7474:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(5650),e),o(n(7458),e),o(n(8917),e),o(n(8643),e),o(n(9996),e)},5650:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenSigner=e.createUnsecuredToken=void 0;const o=n(959),i=n(9996),s=n(8643),a=n(874);function c(t,e){const n=[],r=o.encode(JSON.stringify(e));n.push(r);const i=o.encode(JSON.stringify(t));return n.push(i),n.join(".")}e.createUnsecuredToken=function(t){return c(t,{typ:"JWT",alg:"none"})+"."},e.TokenSigner=class{constructor(t,e){if(!t||!e)throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof t)throw new Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!i.cryptoClients.hasOwnProperty(t))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=i.cryptoClients[t],this.rawPrivateKey=e}header(t={}){const e={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},e,t)}sign(t,e=!1,n={}){const r=this.header(n),o=c(t,r),i=(0,a.hashSha256)(o);return this.createWithSignedHash(t,e,r,o,i)}signAsync(t,e=!1,n={}){return r(this,void 0,void 0,(function*(){const r=this.header(n),o=c(t,r),i=yield(0,a.hashSha256Async)(o);return this.createWithSignedHash(t,e,r,o,i)}))}createWithSignedHash(t,e,n,r,i){const s=this.cryptoClient.signHash(i,this.rawPrivateKey);return e?{header:[o.encode(JSON.stringify(n))],payload:JSON.stringify(t),signature:[s]}:[r,s].join(".")}}},7458:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenVerifier=void 0;const r=n(959),o=n(9996),i=n(8643),s=n(874);e.TokenVerifier=class{constructor(t,e){if(!t||!e)throw new i.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof t)throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!o.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=o.cryptoClients[t],this.rawPublicKey=e}verify(t){return"string"==typeof t?this.verifyCompact(t,!1):"object"==typeof t&&this.verifyExpanded(t,!1)}verifyAsync(t){return"string"==typeof t?this.verifyCompact(t,!0):"object"==typeof t?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,e){const n=t.split("."),r=n[0]+"."+n[1],o=t=>{const e=this.cryptoClient.loadSignature(n[2]);return this.cryptoClient.verifyHash(t,e,this.rawPublicKey)};if(e)return(0,s.hashSha256Async)(r).then((t=>o(t)));{const t=(0,s.hashSha256)(r);return o(t)}}verifyExpanded(t,e){const n=[t.header.join("."),r.encode(t.payload)].join(".");let o=!0;const i=e=>(t.signature.map((t=>{const n=this.cryptoClient.loadSignature(t);this.cryptoClient.verifyHash(e,n,this.rawPublicKey)||(o=!1)})),o);if(e)return(0,s.hashSha256Async)(n).then((t=>i(t)));{const t=(0,s.hashSha256)(n);return i(t)}}}},9907:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",f="[object Map]",l="[object Number]",h="[object Object]",p="[object Promise]",d="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",b="[object WeakMap]",m="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",P="[object Uint32Array]",T=/\w*$/,I=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,C={};C[i]=C["[object Array]"]=C[m]=C[v]=C[s]=C[a]=C[_]=C[E]=C[x]=C[A]=C[k]=C[f]=C[l]=C[h]=C[d]=C[y]=C[g]=C[w]=C[S]=C[B]=C[U]=C[P]=!0,C["[object Error]"]=C[c]=C[b]=!1;var D="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,R="object"==typeof self&&self&&self.Object===Object&&self,j=D||R||Function("return this")(),N=e&&!e.nodeType&&e,H=N&&t&&!t.nodeType&&t,F=H&&H.exports===N;function M(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function $(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function L(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function K(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function W(t,e){return function(n){return t(e(n))}}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var V,q=Array.prototype,X=Function.prototype,J=Object.prototype,Z=j["__core-js_shared__"],Y=(V=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",Q=X.toString,tt=J.hasOwnProperty,et=J.toString,nt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=F?j.Buffer:void 0,ot=j.Symbol,it=j.Uint8Array,st=W(Object.getPrototypeOf,Object),at=Object.create,ct=J.propertyIsEnumerable,ut=q.splice,ft=Object.getOwnPropertySymbols,lt=rt?rt.isBuffer:void 0,ht=W(Object.keys,Object),pt=jt(j,"DataView"),dt=jt(j,"Map"),yt=jt(j,"Promise"),gt=jt(j,"Set"),wt=jt(j,"WeakMap"),bt=jt(Object,"create"),mt=zt(pt),vt=zt(dt),_t=zt(yt),Et=zt(gt),xt=zt(wt),At=ot?ot.prototype:void 0,kt=At?At.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ut(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){this.__data__=new Bt(t)}function Tt(t,e,n){var r=t[e];tt.call(t,e)&&$t(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function It(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}function Ot(t,e,n,r,o,p,b){var I;if(r&&(I=p?r(t,o,p,b):r(t)),void 0!==I)return I;if(!Vt(t))return t;var O=Lt(t);if(O){if(I=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,I)}else{var D=Ht(t),R=D==c||D==u;if(Wt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(D==h||D==i||R&&!p){if(L(t))return p?t:{};if(I=function(t){return"function"!=typeof t.constructor||Mt(t)?{}:Vt(e=st(t))?at(e):{};var e}(R?{}:t),!e)return function(t,e){return Dt(t,Nt(t),e)}(t,function(t,e){return t&&Dt(e,qt(e),t)}(I,t))}else{if(!C[D])return p?t:{};I=function(t,e,n,r){var o,i=t.constructor;switch(e){case m:return Ct(t);case s:case a:return new i(+t);case v:return function(t,e){var n=e?Ct(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case _:case E:case x:case A:case k:case S:case B:case U:case P:return function(t,e){var n=e?Ct(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return $(e?n(K(t),!0):K(t),M,new t.constructor)}(t,r,n);case l:case g:return new i(t);case d:return function(t){var e=new t.constructor(t.source,T.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return function(t,e,n){return $(e?n(G(t),!0):G(t),z,new t.constructor)}(t,r,n);case w:return o=t,kt?Object(kt.call(o)):{}}}(t,D,Ot,e)}}b||(b=new Pt);var j=b.get(t);if(j)return j;if(b.set(t,I),!O)var N=n?function(t){return function(t,e,n){var r=e(t);return Lt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,qt,Nt)}(t):qt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(N||t,(function(o,i){N&&(o=t[i=o]),Tt(I,i,Ot(o,e,n,r,i,t,b))})),I}function Ct(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Dt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],a=r?r(n[s],t[s],s,n,t):void 0;Tt(n,s,void 0===a?t[s]:a)}return n}function Rt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function jt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Vt(t)||(e=t,Y&&Y in e))&&(Gt(t)||L(t)?nt:I).test(zt(t));var e}(n)?n:void 0}St.prototype.clear=function(){this.__data__=bt?bt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:tt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?r:e,this},Bt.prototype.clear=function(){this.__data__=[]},Bt.prototype.delete=function(t){var e=this.__data__,n=It(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},Bt.prototype.get=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},Bt.prototype.has=function(t){return It(this.__data__,t)>-1},Bt.prototype.set=function(t,e){var n=this.__data__,r=It(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ut.prototype.clear=function(){this.__data__={hash:new St,map:new(dt||Bt),string:new St}},Ut.prototype.delete=function(t){return Rt(this,t).delete(t)},Ut.prototype.get=function(t){return Rt(this,t).get(t)},Ut.prototype.has=function(t){return Rt(this,t).has(t)},Ut.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},Pt.prototype.clear=function(){this.__data__=new Bt},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Bt){var r=n.__data__;if(!dt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Ut(r)}return n.set(t,e),this};var Nt=ft?W(ft,Object):function(){return[]},Ht=function(t){return et.call(t)};function Ft(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function zt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){return t===e||t!=t&&e!=e}(pt&&Ht(new pt(new ArrayBuffer(1)))!=v||dt&&Ht(new dt)!=f||yt&&Ht(yt.resolve())!=p||gt&&Ht(new gt)!=y||wt&&Ht(new wt)!=b)&&(Ht=function(t){var e=et.call(t),n=e==h?t.constructor:void 0,r=n?zt(n):void 0;if(r)switch(r){case mt:return v;case vt:return f;case _t:return p;case Et:return y;case xt:return b}return e});var Lt=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Gt(t)}var Wt=lt||function(){return!1};function Gt(t){var e=Vt(t)?et.call(t):"";return e==c||e==u}function Vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function qt(t){return Kt(t)?function(t,e){var n=Lt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!tt.call(t,s)||o&&("length"==s||Ft(s,r))||n.push(s);return n}(t):function(t){if(!Mt(t))return ht(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Ot(t,!0,!0)}},3154:function(t,e,n){(function(){var t,r,o;r=n(2536),o=function(){},t=t=function(){function t(t){t=t||{},this.lazy_loop_delay=t.lazy_loop_delay||30,this.loop_delay=t.loop_delay||5,this.work_min=t.work_min||1,this.auto_stop_bits=t.auto_stop_bits||4096,this.max_bits_per_delta=t.max_bits_per_delta||4,this.auto_stop=!t.auto_stop||t.auto_stop,this.entropies=[],this.running=!0,this.is_generating=!1,this.timer_race_loop()}return t.prototype.generate=function(t,e){var n,o,i,s,a,c;s=r.findDeferral(arguments),this.is_generating=!0,this.running||this.resume(),o=0,i=[],(c=this,function(e){var u,f;u=[],f=function(e){var l,h;if(l=function(){return r.trampoline((function(){return f(e)}))},h=function(t){return u.push(t),l()},!(o<t))return e(u);!function(t){if(c.entropies.length)return n=c.entropies.splice(0,1)[0],o+=n[1],t(i.push(n[0]));!function(t){a=new r.Deferrals(t,{parent:s,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.generate"}),c.delay(a.defer({lineno:28})),a._fulfill()}(t)}(h)},f(e)})(function(t){return function(){return t.auto_stop&&t.stop(),t.is_generating=!1,e(i)}}(this))},t.prototype.stop=function(){return this.running=!1},t.prototype.resume=function(){return this.running=!0,this.timer_race_loop()},t.prototype.reset=function(){return this.entropies=[],this.total_bits=0},t.prototype.count_unused_bits=function(){var t,e,n,r;for(t=0,e=0,n=(r=this.entropies).length;e<n;e++)t+=r[e][1];return t},t.prototype.delay=function(t){var e,n,o;n=r.findDeferral(arguments),e=this.is_generating?this.loop_delay:this.lazy_loop_delay,o=new r.Deferrals((function(){return t()}),{parent:n,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.delay"}),setTimeout(o.defer({lineno:50}),e),o._fulfill()},t.prototype.timer_race_loop=function(){var t,e,n,i,s,a,c,u,f,l;e=o,t=r.findDeferral(arguments),this._last_count=null,n=[],s=this,i=function(e){var o,h,p;if(o=function(){return e(n)},h=function(){return r.trampoline((function(){return i(e)}))},p=function(t){return n.push(t),h()},!s.running)return o();s.count_unused_bits()<s.auto_stop_bits&&(a=s.millisecond_count(),null!=s._last_count&&(c=a-s._last_count)&&(u=Math.floor(s.log_2(Math.abs(c))),u=Math.min(s.max_bits_per_delta,u),f=[c,u],s.entropies.push(f)),s._last_count=a),function(e){l=new r.Deferrals(e,{parent:t,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.timer_race_loop"}),s.delay(l.defer({lineno:64})),l._fulfill()}(p)},i(e)},t.prototype.log_2=function(t){return Math.log(t)/Math.LN2},t.prototype.millisecond_count=function(){var t,e,n;for(t=Date.now(),e=n=0;Date.now()<t+this.work_min+1;)e++,n=Math.sin(Math.sqrt(Math.log(e+n)));return e},t}(),"undefined"!=typeof window&&null!==window&&(window.Generator=t),null!==e&&(e.Generator=t)}).call(this)},4151:function(t,e,n){(function(){e.Generator=n(3154).Generator}).call(this)},4406:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var a,c=[],u=!1,f=-1;function l(){u&&a&&(u=!1,a.length?c=a.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=s(l);u=!0;for(var e=c.length;e;){for(a=c,c=[];++f<e;)a&&a[f].run();f=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1146:function(t,e,n){(function(){var t,r,o,i,s,a={}.hasOwnProperty;r=n(6906).BlockCipher,s=n(5564).scrub_vec,i=function(){function t(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var t,e;for(e=[],t=0;t<4;++t)e.push([]);return e}(),this.INV_SUB_MIX=function(){var t,e;for(e=[],t=0;t<4;++t)e.push([]);return e}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}return t.prototype.init=function(){var t,e,n,r,o,i,s,a,c,u;for(t=function(){var t,n;for(n=[],e=t=0;t<256;e=++t)e<128?n.push(e<<1):n.push(e<<1^283);return n}(),o=0,c=0,e=u=0;u<256;e=++u)n=(n=c^c<<1^c<<2^c<<3^c<<4)>>>8^255&n^99,this.SBOX[o]=n,this.INV_SBOX[n]=o,a=t[s=t[i=t[o]]],r=257*t[n]^16843008*n,this.SUB_MIX[0][o]=r<<24|r>>>8,this.SUB_MIX[1][o]=r<<16|r>>>16,this.SUB_MIX[2][o]=r<<8|r>>>24,this.SUB_MIX[3][o]=r,r=16843009*a^65537*s^257*i^16843008*o,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===o?o=c=1:(o=i^t[t[t[a^i]]],c^=t[t[c]]);return!0},t}(),o=new i,t=function(t){function e(t){this._key=t.clone(),this._doReset()}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype._doReset=function(){var t,e,n,r,i,s,a,c;for(n=this._key.words,e=this._key.sigBytes/4,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)this._keySchedule[r]=r<e?n[r]:(s=this._keySchedule[r-1],r%e==0?(s=s<<8|s>>>24,s=o.SBOX[s>>>24]<<24|o.SBOX[s>>>16&255]<<16|o.SBOX[s>>>8&255]<<8|o.SBOX[255&s],s^=o.RCON[r/e|0]<<24):e>6&&r%e==4&&(s=o.SBOX[s>>>24]<<24|o.SBOX[s>>>16&255]<<16|o.SBOX[s>>>8&255]<<8|o.SBOX[255&s]),this._keySchedule[r-e]^s);for(this._invKeySchedule=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)r=i-t,s=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?s:o.INV_SUB_MIX[0][o.SBOX[s>>>24]]^o.INV_SUB_MIX[1][o.SBOX[s>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[s>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[255&s]];return!0},e.prototype.encryptBlock=function(t,e){return null==e&&(e=0),this._doCryptBlock(t,e,this._keySchedule,o.SUB_MIX,o.SBOX)},e.prototype.decryptBlock=function(t,e){var n,r;return null==e&&(e=0),n=[t[e+3],t[e+1]],t[e+1]=n[0],t[e+3]=n[1],this._doCryptBlock(t,e,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX),r=[t[e+3],t[e+1]],t[e+1]=r[0],t[e+3]=r[1],r},e.prototype.scrub=function(){return s(this._keySchedule),s(this._invKeySchedule),this._key.scrub()},e.prototype._doCryptBlock=function(t,e,n,r,o){var i,s,a,c,u,f,l,h,p,d,y;for(s=t[e]^n[0],a=t[e+1]^n[1],c=t[e+2]^n[2],u=t[e+3]^n[3],i=4,d=1,y=this._nRounds;1<=y?d<y:d>y;1<=y?++d:--d)f=r[0][s>>>24]^r[1][a>>>16&255]^r[2][c>>>8&255]^r[3][255&u]^n[i++],l=r[0][a>>>24]^r[1][c>>>16&255]^r[2][u>>>8&255]^r[3][255&s]^n[i++],h=r[0][c>>>24]^r[1][u>>>16&255]^r[2][s>>>8&255]^r[3][255&a]^n[i++],p=r[0][u>>>24]^r[1][s>>>16&255]^r[2][a>>>8&255]^r[3][255&c]^n[i++],s=f,a=l,c=h,u=p;return f=(o[s>>>24]<<24|o[a>>>16&255]<<16|o[c>>>8&255]<<8|o[255&u])^n[i++],l=(o[a>>>24]<<24|o[c>>>16&255]<<16|o[u>>>8&255]<<8|o[255&s])^n[i++],h=(o[c>>>24]<<24|o[u>>>16&255]<<16|o[s>>>8&255]<<8|o[255&a])^n[i++],p=(o[u>>>24]<<24|o[s>>>16&255]<<16|o[a>>>8&255]<<8|o[255&c])^n[i++],t[e]=f,t[e+1]=l,t[e+2]=h,t[e+3]=p},e}(r),e.AES=t}).call(this)},6906:function(t,e,n){(function(){var t,r,o,i,s,a,c={}.hasOwnProperty;s=n(6557).WordArray,a=n(5564),o=function(t){function e(){e.__super__.constructor.call(this)}return function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.reset=function(){return e.__super__.reset.call(this),this._doReset(),this},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e.prototype.bufhash=function(t){var e,n,r;return n=s.from_buffer(t),e=(r=this.finalize(n)).to_buffer(),n.scrub(),r.scrub(),e},e}(r=function(){function t(){this.reset()}return t.prototype._minBufferSize=0,t.prototype.reset=function(){return this._data=new s,this._nDataBytes=0},t.prototype._append=function(t){return this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){var e,n,r,o,i,a,c,u,f,l;if(r=(e=this._data).words,o=(n=e.sigBytes)/(4*this.blockSize),a=(o=t?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0))*this.blockSize,i=Math.min(4*a,n),a){for(c=f=0,l=this.blockSize;l>0?f<a:f>a;c=f+=l)this._doProcessBlock(r,c);u=r.splice(0,a),e.sigBytes-=i}return new s(u,i)},t.prototype.copy_to=function(t){return t._data=this._data.clone(),t._nDataBytes=this._nDataBytes},t.prototype.clone=function(){var e;return e=new t,this.copy_to(e),e},t}()),e.BlockCipher=t=function(){function t(t){}return t.prototype.encryptBlock=function(t,e){},t}(),i=function(){function t(){}return t.prototype.encryptBlock=function(t,e){var n,r;return null==e&&(e=0),r=this.get_pad(),n=Math.min(t.words.length-e,this.bsiw),t.xor(r,{dst_offset:e,n_words:n}),r.scrub(),this.bsiw},t.prototype.encrypt=function(t){var e,n,r,o;for(e=n=0,r=t.words.length,o=this.bsiw;o>0?n<r:n>r;e=n+=o)this.encryptBlock(t,e);return t},t.prototype.bulk_encrypt=function(t,e){var n,r,o,i,s,c;return r=t.input,o=t.progress_hook,s=t.what,i={update:(c=this,function(t,e){var n,o,i,s;for(s=[],n=o=t,i=c.bsiw;i>0?o<e:o>e;n=o+=i)s.push(c.encryptBlock(r,n));return s}),finalize:function(){return r},default_n:1024*this.bsiw},n={progress_hook:o,cb:e,what:s},a.bulk(r.sigBytes,i,n)},t}(),e.BlockCipher=t,e.Hasher=o,e.BufferedBlockAlgorithm=r,e.StreamCipher=i}).call(this)},7672:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l={}.hasOwnProperty,h=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};f=n(7096),o=f.HMAC,u=f.bulk_sign,s=n(4122).SHA512,i=n(2889).KECCAK,a=n(6557).WordArray,r=function(t){function e(t,n){var r,a,c,u,f;null==n&&(n=[s,i]),f=t.split(n.length),this.hashers=function(){var t,e,i;for(i=[],a=t=0,e=n.length;t<e;a=++t)c=n[a],u=f[a],r=new o(u,c),u.scrub(),i.push(r);return i}(),e.__super__.constructor.call(this)}return h(e,t),e.get_output_size=function(){return s.output_size+i.output_size},e.prototype._coalesce=function(t,e){return t.concat(e)},e.prototype.get_output_size=function(){var t,e,n,r;for(t=0,e=0,n=(r=this.hashers).length;e<n;e++)t+=r[e].get_output_size();return t},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-SHA3",u(t,n)},e}(t=function(){function t(){this.hasherBlockSize=this.hashers[0].hasherBlockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.reset()}return t.prototype.reset=function(){var t,e,n;for(t=0,e=(n=this.hashers).length;t<e;t++)n[t].reset();return this},t.prototype.update=function(t){var e,n,r;for(e=0,n=(r=this.hashers).length;e<n;e++)r[e].update(t);return this},t.prototype.scrub=function(){var t,e,n;for(t=0,e=(n=this.hashers).length;t<e;t++)n[t].scrub();return this},t.prototype.finalize=function(t){var e,n,r,o,i,s;for(n=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.hashers).length;n<r;n++)e=o[n],i.push(e.finalize(t));return i}.call(this),r=n[0],o=0,i=(s=n.slice(1)).length;o<i;o++)e=s[o],this._coalesce(r,e),e.scrub();return r},t}()),c=function(t){function e(t,n){var r;null==n&&(n=[s,i]),this.hashers=function(){var e,i,s;for(s=[],e=0,i=n.length;e<i;e++)r=n[e],s.push(new o(t,r));return s}(),e.__super__.constructor.call(this)}return h(e,t),e.prototype.reset=function(){var t,n,r,o;for(e.__super__.reset.call(this),t=n=0,r=(o=this.hashers).length;n<r;t=++n)o[t].update(new a([t]));return this},e.get_output_size=function(){return Math.max(s.output_size,i.output_size)},e.prototype._coalesce=function(t,e){return t.xor(e,{})},e.prototype.get_output_size=function(){var t;return Math.max.apply(Math,function(){var e,n,r,o;for(o=[],e=0,n=(r=this.hashers).length;e<n;e++)t=r[e],o.push(t.get_output_size());return o}.call(this))},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-XOR-SHA3",u(t,n)},e}(t),e.Concat=r,e.XOR=c}).call(this)},8330:function(t,e,n){(function(){var t,r,o,i,s,a,c,u={}.hasOwnProperty;c=n(2536),i=n(6557).WordArray,o=n(6906).StreamCipher,r=function(){function t(t){var e,n;n=t.value,e=t.len,this._value=null!=n?n.clone():(null==e&&(e=2),new i(function(){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(0);return n}()))}return t.prototype.WORD_MAX=4294967295,t.prototype.inc=function(){var e,n;for(e=!0,n=this._value.words.length-1;e&&n>=0;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n--;return this},t.prototype.inc_le=function(){var e,n;for(e=!0,n=0;e&&n<this._value.words.length;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n++;return this},t.prototype.get=function(){return this._value},t.prototype.copy=function(){return this._value.clone()},t}(),t=function(t){function e(t){if(this.block_cipher=t.block_cipher,this.iv=t.iv,e.__super__.constructor.call(this),this.bsiw=this.block_cipher.blockSize/4,this.iv.sigBytes!==this.block_cipher.blockSize)throw new Error("IV is wrong length ("+this.iv.sigBytes+")");this.ctr=new r({value:this.iv})}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.scrub=function(){return this.block_cipher.scrub()},e.prototype.get_pad=function(){var t;return t=this.ctr.copy(),this.ctr.inc(),this.block_cipher.encryptBlock(t.words),t},e}(o),a=function(e){var n,r,o,i,s;return n=e.block_cipher,i=e.iv,o=e.input,s=(r=new t({block_cipher:n,iv:i})).encrypt(o),r.scrub(),s},s=function(e,n){var r,o,i,s,a,u,f,l,h;l=c.findDeferral(arguments),r=e.block_cipher,s=e.iv,i=e.input,a=e.progress_hook,f=e.what,o=new t({block_cipher:r,iv:s}),h=new c.Deferrals((function(){return n(u)}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/ctr.iced"}),o.bulk_encrypt({input:i,progress_hook:a,what:f},h.defer({assign_fn:function(){return u=arguments[0]},lineno:121})),h._fulfill()},e.Counter=r,e.Cipher=t,e.encrypt=a,e.bulk_encrypt=s}).call(this)},3343:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l,h,p,d={}.hasOwnProperty;l=n(2536),u=n(6557).WordArray,n(2954),t=n(1146).AES,a=n(3708).TwoFish,n(8330),o=n(7672).Concat,n(4122).SHA512,s=n(2954).Salsa20,r=(p=n(5159)).Base,c=p.V,h=n(1358).make_esc,i=function(e){function n(t){var e,r;r=t.key,e=t.enc,n.__super__.constructor.call(this,{key:r}),null!=e&&(this.key=e.key,this.derived_keys=e.derived_keys)}return function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.read_header=function(t){var e;return t(null==(e=this.ct.unshift(2))?new Error("Ciphertext underrun in header"):null==(this.version=c[e.words[1]])?new Error("bad header; couldn't find a good version (got "+e.words[1]+")"):e.words[0]!==this.version.header[0]?new Error("Bad header: unrecognized magic value"):null)},n.prototype.verify_sig=function(t,e){var n,r,i,s,a,c;s=l.findDeferral(arguments),(c=this,function(e){if(null==(i=c.ct.unshift(o.get_output_size()/4)))return e(r=new Error("Ciphertext underrun in signature"));!function(e){a=new l.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.verify_sig"}),c.sign({input:c.ct,key:t,salt:c.salt},a.defer({assign_fn:function(){return r=arguments[0],n=arguments[1]},lineno:63})),a._fulfill()}((function(){return e(r=null!=r?r:i.equal(n)?null:new Error("Signature mismatch or bad decryption key"))}))})((function(){return e(r)}))},n.prototype.unshift_iv=function(t,e,n){var r;return n(null!=(r=this.ct.unshift(t/4))?null:new Error("Ciphertext underrun in "+e),r)},n.prototype.read_salt=function(t){return t(null==(this.salt=this.ct.unshift(this.version.salt_size/4))?new Error("Ciphertext underrrun in read_salt"):null)},n.prototype.generate_keys=function(t,e){var n,r,o,i,s,a;i=l.findDeferral(arguments),o=t.progress_hook,(a=this,function(t){s=new l.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.generate_keys"}),a.kdf({salt:a.salt,progress_hook:o},s.defer({assign_fn:function(){return n=arguments[0],r=arguments[1]},lineno:114})),s._fulfill()})((function(){return e(n,r)}))},n.prototype.run=function(e,n){var r,o,i,c,f,p,d,y;p=l.findDeferral(arguments),r=e.data,c=e.progress_hook,o=h(n,"Decryptor::run"),this.ct=u.from_buffer(r),(y=this,function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),y.read_header(o(d.defer({lineno:141}))),d._fulfill()})(function(e){return function(){d=new l.Deferrals((function(){var r;d=new l.Deferrals((function(){!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.verify_sig(e.keys.hmac,o(d.defer({lineno:144}))),d._fulfill()}((function(){!function(n){d=new l.Deferrals(n,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.unshift_iv(t.ivSize,"AES",o(d.defer({assign_fn:function(){return i=arguments[0]},lineno:145}))),d._fulfill()}((function(){!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.run_aes({iv:i,input:e.ct,key:e.keys.aes,progress_hook:c},o(d.defer({assign_fn:function(){return d.ret=arguments[0]},lineno:146}))),d._fulfill()}((function(){!function(t){if(!e.version.use_twofish)return t();!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.unshift_iv(a.ivSize,"2fish",o(d.defer({assign_fn:function(){return i=arguments[0]},lineno:148}))),d._fulfill()}((function(){!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.run_twofish({iv:i,input:e.ct,key:e.keys.twofish,progress_hook:c},o(d.defer({assign_fn:function(){return d.ret=arguments[0]},lineno:149}))),d._fulfill()}(t)}))}((function(){!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.unshift_iv(s.ivSize,"Salsa",o(d.defer({assign_fn:function(){return i=arguments[0]},lineno:150}))),d._fulfill()}((function(){!function(t){d=new l.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.run_salsa20({iv:i,input:e.ct,key:e.keys.salsa20,output_iv:!1,progress_hook:c},o(d.defer({assign_fn:function(){return f=arguments[0]},lineno:151}))),d._fulfill()}((function(){return n(null,f.to_buffer())}))}))}))}))}))}))}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.generate_keys({progress_hook:c},o(d.defer({assign_fn:(r=e,function(){return r.keys=arguments[0]}),lineno:143}))),d._fulfill()}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),e.read_salt(o(d.defer({lineno:142}))),d._fulfill()}}(this))},n.prototype.clone=function(){var t,e;return(t=new n({key:null!=(e=this.key)?e.to_buffer():void 0,rng:this.rng,version:this.version})).derived_keys=this.clone_derived_keys(),t},n}(r),f=function(t,e){var n,r,o,s,a,c,u,f;u=l.findDeferral(arguments),s=t.key,n=t.data,a=t.progress_hook,r=new i({key:s}),f=new l.Deferrals((function(){return r.scrub(),e(o,c)}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/dec.iced"}),r.run({data:n,progress_hook:a},f.defer({assign_fn:function(){return o=arguments[0],c=arguments[1]},lineno:181})),f._fulfill()},e.Decryptor=i,e.decrypt=f}).call(this)},6213:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i,s,a,c;c=n(2536),a=n(7096),s=n(6557).WordArray,i=n(8355).Lock,o=function(){function t(t,e,n){this.hmac=n||a.sign,this.security_strength=256,t=this.check_entropy(t),e||(e=new s([])),this._instantiate(t,e)}return t.prototype.check_entropy=function(t,e){if(null==e&&(e=!1),8*t.sigBytes*2<(e?2:3)*this.security_strength)throw new Error("entropy must be at least "+1.5*this.security_strength+" bits.");return t},t.prototype._hmac=function(t,e){return this.hmac({key:t,input:e})},t.prototype._update=function(t){var e,n;return e=new s([0],1),null!=t&&(e=e.concat(t)),n=this.V.clone().concat(e),this.K=this._hmac(this.K,n),n.scrub(),e.scrub(),this.V=this._hmac(this.K,this.V),null!=t&&(n=this.V.clone().concat(new s([1<<24],1)).concat(t),this.K=this._hmac(this.K,n),n.scrub(),this.V=this._hmac(this.K,this.V)),null!=t?t.scrub():void 0},t.prototype._instantiate=function(t,e){var n;return n=t.concat(e),64,this.K=s.from_buffer(r.from(function(){var t,e;for(e=[],t=0;t<64;++t)e.push(0);return e}())),this.V=s.from_buffer(r.from(function(){var t,e;for(e=[],t=0;t<64;++t)e.push(1);return e}())),this._update(n),t.scrub(),this.reseed_counter=1},t.prototype.reseed=function(t){return this._update(this.check_entropy(t,!0)),this.reseed_counter=1},t.prototype.generate=function(t){var e,n;if(8*t>7500)throw new Error("generate cannot generate > 7500 bits in 1 call.");if(this.reseed_counter>=1e4)throw new Error("Need a reseed!");for(e=[];0===e.length||e.length*e[0].length*4<t;)this.V=this._hmac(this.K,this.V),e.push(this.V.words);return this._update(),this.reseed_counter+=1,new s((n=[]).concat.apply(n,e)).truncate(t)},t}(),t=function(){function t(t,e){this.gen_seed=t,this.hmac=e,this.drbg=null,this.lock=new i}return t.prototype.generate=function(t,e){var n,r,i,s,a;i=c.findDeferral(arguments),(a=this,function(t){s=new c.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),a.lock.acquire(s.defer({lineno:145})),s._fulfill()})(function(a){return function(){!function(t){if(null!=a.drbg)return t();!function(t){s=new c.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),a.gen_seed(256,s.defer({assign_fn:function(){return r=arguments[0]},lineno:147})),s._fulfill()}((function(){return t(a.drbg=new o(r,null,a.hmac))}))}((function(){!function(t){if(!(a.drbg.reseed_counter>100))return t();!function(t){s=new c.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),a.gen_seed(256,s.defer({assign_fn:function(){return r=arguments[0]},lineno:150})),s._fulfill()}((function(){return t(a.drbg.reseed(r))}))}((function(){return n=a.drbg.generate(t),a.lock.release(),e(n)}))}))}}(this))},t}(),e.DRBG=o,e.ADRBG=t}).call(this)},5159:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l,h,p,d,y,g,w,b,m,v,_,E,x,A={}.hasOwnProperty;b=n(2536),d=n(6557).WordArray,_=n(2954),t=n(1146).AES,h=n(3708).TwoFish,g=n(8330),y=(x=n(7672)).XOR,o=x.Concat,f=n(4122).SHA512,u=n(3335).SHA3STD,a=n(2889).KECCAK,c=n(8801).PBKDF2,l=n(6030).Scrypt,E=n(5564),v=n(3800),m=n(1358).make_esc,s=n(7096).HMAC_SHA256,p={1:{header:[479516638,1],salt_size:8,xsalsa20_rev:!0,kdf:{klass:c,opts:{c:1024,klass:y}},use_twofish:!0,hmac_hashes:[f,a],hmac_key_size:96,version:1},2:{header:[479516638,2],salt_size:16,xsalsa20_rev:!0,kdf:{klass:l,opts:{c:64,klass:y,N:12,r:8,p:1}},use_twofish:!0,hmac_hashes:[f,a],hmac_key_size:96,version:2},3:{header:[479516638,3],salt_size:16,xsalsa20_rev:!1,kdf:{klass:l,opts:{c:1,klass:s,N:15,r:8,p:1}},use_twofish:!0,hmac_hashes:[f,a],hmac_key_size:96,version:3},4:{header:[479516638,4],salt_size:16,xsalsa20_rev:!1,kdf:{klass:l,opts:{c:1,klass:s,N:15,r:8,p:1}},hmac_key_size:96,use_twofish:!1,hmac_hashes:[f,u],version:4}},e.CURRENT_VERSION=4,r=function(){function e(t){var e,n;if(e=t.key,n=t.version,this.version=p[null!=n?n:4],null==this.version)throw new Error("unknown version: "+n);this.set_key(e),this.derived_keys={}}return e.prototype.kdf=function(e,n){var r,o,i,s,a,c,u,f,l,p,y,g,w,m,v,E,x,A;E=b.findDeferral(arguments),w=e.salt,s=e.extra_keymaterial,y=e.progress_hook,(A=this,function(t){x=new b.Deferrals(t,{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),A._check_scrubbed(A.key,"in KDF",n,x.defer({lineno:121})),x._fulfill()})(function(e){return function(){m=w.to_hex(),u=e.key.clone(),x=new b.Deferrals((function(){!function(n){if(null!=(f=e.derived_keys[m]))return n();for(c in e._kdf=new e.version.kdf.klass(e.version.kdf.opts),l={hmac:e.version.hmac_key_size,aes:t.keySize,salsa20:_.Salsa20.keySize},e.version.use_twofish&&(l.twofish=h.keySize),p=e.version.use_twofish?["hmac","aes","twofish","salsa20"]:["hmac","aes","salsa20"],o=s||0,l)v=l[c],o+=v;r={dkLen:o,key:u,progress_hook:y,salt:w},function(t){x=new b.Deferrals(t,{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),e._kdf.run(r,x.defer({assign_fn:function(){return g=arguments[0]},lineno:152})),x._fulfill()}((function(){var t,r;for(f={},a=0,t=0,r=p.length;t<r;t++)v=l[c=p[t]],i=a+v/4,f[c]=new d(g.words.slice(a,i)),a=i;return f.extra=new d(g.words.slice(i)).to_buffer(),n(e.derived_keys[m]=f)}))}((function(){return n(null,f)}))}),{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),e._check_scrubbed(u,"KDF",n,x.defer({lineno:129})),x._fulfill()}}(this))},e.prototype.set_key=function(t){var e;return null==t?this.scrub():(e=d.from_buffer(t),this.key&&this.key.equal(e)?void 0:(this.scrub(),this.key=e))},e.prototype._check_scrubbed=function(t,e,n,r){return null==t||t.is_scrubbed()?n(new Error(e+": Failed due to scrubbed key!"),null):r()},e.prototype.sign=function(t,e){var n,r,i,s,a,c,u,f,l;u=b.findDeferral(arguments),r=t.input,i=t.key,c=t.salt,a=t.progress_hook,(l=this,function(t){f=new b.Deferrals(t,{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),l._check_scrubbed(i,"HMAC",e,f.defer({lineno:210})),f._fulfill()})(function(t){return function(){r=new d(t.version.header).concat(c).concat(r),n=t.version.hmac_hashes,f=new b.Deferrals((function(){return r.scrub(),e(null,s)}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),o.bulk_sign({key:i,input:r,progress_hook:a,combine_klasses:n},f.defer({assign_fn:function(){return s=arguments[0]},lineno:213})),f._fulfill()}}(this))},e.prototype.run_salsa20=function(t,e){var n,r,o,i,s,a,c,u,f,l;u=b.findDeferral(arguments),o=t.input,s=t.key,i=t.iv,a=t.output_iv,c=t.progress_hook,(l=this,function(t){f=new b.Deferrals(t,{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),l._check_scrubbed(s,"Salsa20",e,f.defer({lineno:229})),f._fulfill()})(function(t){return function(){n={input:o,progress_hook:c,key:s,iv:i},t.version.xsalsa20_rev&&(n.key=s.clone().endian_reverse(),n.iv=i.clone().endian_reverse()),f=new b.Deferrals((function(){return a&&(r=i.clone().concat(r)),t.version.xsalsa20_rev&&(n.key.scrub(),n.iv.scrub()),e(null,r)}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),_.bulk_encrypt(n,f.defer({assign_fn:function(){return r=arguments[0]},lineno:241})),f._fulfill()}}(this))},e.prototype.run_twofish=function(t,e){var n,r,o,i,s,a,c,u,f;c=b.findDeferral(arguments),o=t.input,s=t.key,i=t.iv,a=t.progress_hook,(f=this,function(t){u=new b.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),f._check_scrubbed(s,"TwoFish",e,u.defer({lineno:264})),u._fulfill()})((function(){n=new h(s),u=new b.Deferrals((function(){return n.scrub(),e(null,i.clone().concat(r))}),{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),g.bulk_encrypt({block_cipher:n,iv:i,input:o,progress_hook:a,what:"twofish"},u.defer({assign_fn:function(){return r=arguments[0]},lineno:266})),u._fulfill()}))},e.prototype.run_aes=function(e,n){var r,o,i,s,a,c,u,f,l;u=b.findDeferral(arguments),i=e.input,a=e.key,s=e.iv,c=e.progress_hook,(l=this,function(t){f=new b.Deferrals(t,{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),l._check_scrubbed(a,"AES",n,f.defer({lineno:281})),f._fulfill()})((function(){r=new t(a),f=new b.Deferrals((function(){return r.scrub(),n(null,s.clone().concat(o))}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),g.bulk_encrypt({block_cipher:r,iv:s,input:i,progress_hook:c,what:"aes"},f.defer({assign_fn:function(){return o=arguments[0]},lineno:283})),f._fulfill()}))},e.prototype.scrub=function(){var t,e,n,r,o;if(null!=this.key&&this.key.scrub(),null!=this.derived_keys)for(r in o=this.derived_keys)for(t in n=o[r])e=n[t],"extra"!==t&&e.scrub();return this.derived_keys={},null!=this.salt&&this.salt.scrub(),this.salt=null,this.key=null},e.prototype.clone_derived_keys=function(){var t,e,n,r,o,i;if(r=null,null!=this.derived_keys)for(o in r={},i=this.derived_keys)for(t in n=i[o],r[o]={},n)e=n[t],r[o][t]="extra"===t?e:e.clone();return r},e}(),i=function(e){function n(t){var e,r,o;e=t.key,r=t.rng,o=t.version,n.__super__.constructor.call(this,{key:e,version:o}),this.rng=r||v.generate}return function(t,e){for(var n in e)A.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.pick_random_ivs=function(e,n){var r,o,i,s,a,c,u;a=b.findDeferral(arguments),e.progress_hook,(r=[]).push(["aes",t.ivSize]),this.version.use_twofish&&r.push(["twofish",h.ivSize]),r.push(["salsa20",_.Salsa20.ivSize]),o={},(u=this,function(t){var e,n,f,l;n=(f=r).length,e=0,l=function(t){var r,h;if(r=function(){return b.trampoline((function(){return++e,l(t)}))},!(e<n))return t();h=f[e],i=h[0],s=h[1],function(t){var e,n;c=new b.Deferrals(t,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.pick_random_ivs"}),u.rng(s,c.defer({assign_fn:(e=o,n=i,function(){return e[n]=arguments[0]}),lineno:407})),c._fulfill()}(r)},l(t)})((function(){return n(o)}))},n.prototype.resalt=function(t,e){var n,r,o,i,s,a,c;s=b.findDeferral(arguments),i=t.salt,r=t.extra_keymaterial,o=t.progress_hook,n=null,(c=this,function(t){if(null!=i)return t(i.length!==c.version.salt_size?n=new Error("Need a salt of exactly "+c.version.salt_size+" bytes (got "+i.length+")"):c.salt=d.alloc(i));!function(t){var e;a=new b.Deferrals(t,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),c.rng(c.version.salt_size,a.defer({assign_fn:(e=c,function(){return e.salt=arguments[0]}),lineno:423})),a._fulfill()}(t)})(function(t){return function(){!function(e){if(null!=n)return e();!function(e){var i;a=new b.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.kdf({extra_keymaterial:r,progress_hook:o,salt:t.salt},a.defer({assign_fn:(i=t,function(){return n=arguments[0],i.keys=arguments[1]}),lineno:429})),a._fulfill()}(e)}((function(){return e(n,t.keys)}))}}(this))},n.prototype.run=function(t,e){var n,r,o,i,s,a,c,u,f,l,h,p,y,g;p=b.findDeferral(arguments),r=t.data,l=t.salt,i=t.extra_keymaterial,c=t.progress_hook,o=m(e,"Encryptor::run"),(g=this,function(t){if(null==l&&null!=g.salt)return t();!function(t){y=new b.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),g.resalt({salt:l,extra_keymaterial:i,progress_hook:c},o(y.defer({lineno:460}))),y._fulfill()}(t)})(function(t){return function(){y=new b.Deferrals((function(){u=d.from_buffer(r),y=new b.Deferrals((function(){!function(e){if(!t.version.use_twofish)return e();!function(e){y=new b.Deferrals(e,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_twofish({input:a,key:t.keys.twofish,progress_hook:c,iv:s.twofish},o(y.defer({assign_fn:function(){return a=arguments[0]},lineno:465}))),y._fulfill()}(e)}((function(){!function(e){y=new b.Deferrals(e,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_aes({input:a,key:t.keys.aes,progress_hook:c,iv:s.aes},o(y.defer({assign_fn:function(){return n=arguments[0]},lineno:466}))),y._fulfill()}((function(){!function(e){y=new b.Deferrals(e,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.sign({input:n,key:t.keys.hmac,progress_hook:c,salt:t.salt},o(y.defer({assign_fn:function(){return h=arguments[0]},lineno:467}))),y._fulfill()}((function(){return f=new d(t.version.header).concat(t.salt).concat(h).concat(n).to_buffer(),E.scrub_buffer(r),e(null,f)}))}))}))}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_salsa20({input:u,key:t.keys.salsa20,progress_hook:c,iv:s.salsa20,output_iv:!0},o(y.defer({assign_fn:function(){return a=arguments[0]},lineno:463}))),y._fulfill()}),{parent:p,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.pick_random_ivs({progress_hook:c},y.defer({assign_fn:function(){return s=arguments[0]},lineno:461})),y._fulfill()}}(this))},n.prototype.clone=function(){var t,e,r;return(t=new n({key:null!=(e=this.key)?e.to_buffer():void 0,rng:this.rng,version:null!=(r=this.version)?r.version:void 0})).derived_keys=this.clone_derived_keys(),t},n}(r),w=function(t,e){var n,r,o,s,a,c,u,f,l,h;l=b.findDeferral(arguments),s=t.key,n=t.data,u=t.rng,a=t.progress_hook,f=t.version,r=new i({key:s,rng:u,version:f}),h=new b.Deferrals((function(){return r.scrub(),e(o,c)}),{parent:l,filename:"/Users/max/src/keybase/triplesec/src/enc.iced"}),r.run({data:n,progress_hook:a},h.defer({assign_fn:function(){return o=arguments[0],c=arguments[1]},lineno:506})),h._fulfill()},e.V=p,e.encrypt=w,e.Base=r,e.Encryptor=i}).call(this)},7096:function(t,e,n){(function(){var t,r,o,i,s,a,c,u={}.hasOwnProperty;s=n(2536),o=n(4122).SHA512,r=n(3881).SHA256,c=n(5564),t=function(){function t(t,e){var n,r,i;for(null==e&&(e=o),this.key=t.clone(),this.hasher=new e,this.hasherBlockSize=this.hasher.blockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.key.sigBytes>this.hasherBlockSizeBytes&&(this.key=this.hasher.finalize(this.key)),this.key.clamp(),this._oKey=this.key.clone(),this._iKey=this.key.clone(),n=r=0,i=this.hasherBlockSize;0<=i?r<i:r>i;n=0<=i?++r:--r)this._oKey.words[n]^=1549556828,this._iKey.words[n]^=909522486;this._oKey.sigBytes=this._iKey.sigBytes=this.hasherBlockSizeBytes,this.reset()}return t.outputSize=64,t.prototype.outputSize=t.outputSize,t.prototype.get_output_size=function(){return this.hasher.output_size},t.prototype.reset=function(){return this.hasher.reset().update(this._iKey)},t.prototype.update=function(t){return this.hasher.update(t),this},t.prototype.finalize=function(t){var e,n,r;return e=this.hasher.finalize(t),this.hasher.reset(),n=this._oKey.clone().concat(e),r=this.hasher.finalize(n),e.scrub(),n.scrub(),r},t.prototype.scrub=function(){return this.key.scrub(),this._iKey.scrub(),this._oKey.scrub()},t}(),a=function(e){var n,r,o,i,s;return i=e.key,o=e.input,r=e.hash_class,s=(n=new t(i,r)).finalize(o.clamp()),n.scrub(),s},i=function(e,n){var r,o,i,a,u,f,l,h,p,d,y;d=s.findDeferral(arguments),a=e.key,i=e.input,f=e.progress_hook,u=e.klass,p=e.what,r=e.combine_klasses,u||(u=t),p||(p="hmac_sha512"),o=new u(a,r),i.clamp(),h={update:function(t,e){return o.update(i.slice(t,e))},finalize:function(){return o.finalize()},default_n:1e3*o.hasherBlockSize},y=new s.Deferrals((function(){return o.scrub(),n(l)}),{parent:d,filename:"/Users/max/src/keybase/triplesec/src/hmac.iced"}),c.bulk(i.sigBytes,h,{what:p,progress_hook:f,cb:y.defer({assign_fn:function(){return l=arguments[0]},lineno:137})}),y._fulfill()},e.HMAC_SHA256=function(t){function e(t){e.__super__.constructor.call(this,t,r)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e}(t),e.HMAC=t,e.sign=a,e.bulk_sign=i}).call(this)},2889:function(t,e,n){(function(){var t,r,o,i,s,a,c,u={}.hasOwnProperty;c=n(6557),i=c.WordArray,s=c.X64Word,c.X64WordArray,r=n(6906).Hasher,t=function(){function t(){this.RHO_OFFSETS=[],this.PI_INDEXES=[],this.ROUND_CONSTANTS=[],this.T=[],this.compute_rho_offsets(),this.compute_pi_indexes(),this.compute_round_constants(),this.make_reusables()}return t.prototype.compute_rho_offsets=function(){var t,e,n,r,o,i;for(n=1,r=0,i=[],e=o=0;o<24;e=++o)this.RHO_OFFSETS[n+5*r]=(e+1)*(e+2)/2%64,t=(2*n+3*r)%5,n=r%5,i.push(r=t);return i},t.prototype.compute_pi_indexes=function(){var t,e,n,r;for(r=[],t=n=0;n<5;t=++n)r.push(function(){var n,r;for(r=[],e=n=0;n<5;e=++n)r.push(this.PI_INDEXES[t+5*e]=e+(2*t+3*e)%5*5);return r}.call(this));return r},t.prototype.compute_round_constants=function(){var t,e,n,r,o,i,a,c,u;for(t=1,u=[],n=a=0;a<24;n=++a){for(i=0,o=0,r=c=0;c<7;r=++c)1&t&&((e=(1<<r)-1)<32?o^=1<<e:i^=1<<e-32),128&t?t=t<<1^113:t<<=1;u.push(this.ROUND_CONSTANTS[n]=new s(i,o))}return u},t.prototype.make_reusables=function(){return this.T=function(){var t,e;for(e=[],t=0;t<25;++t)e.push(new s(0,0));return e}()},t}(),a=new t,e.KECCAK=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.outputLength=512,e.prototype.outputLength=e.outputLength,e.blockSize=(1600-2*e.outputLength)/32,e.prototype.blockSize=e.blockSize,e.output_size=e.outputLength/8,e.prototype.output_size=e.output_size,e.prototype.pad=1,e.prototype._doReset=function(){return this._state=function(){var t,e;for(e=[],t=0;t<25;++t)e.push(new s(0,0));return e}()},e.prototype._doProcessBlock=function(t,e){var n,r,o,i,s,c,u,f,l,h,p,d,y,g,w,b,m,v,_,E,x,A,k,S,B,U,P,T,I,O,C,D,R,j,N,H,F,M;for(n=a,k=this._state,_=this.blockSize/2,g=I=0;0<=_?I<_:I>_;g=0<=_?++I:--I)r=16711935&((r=t[e+2*g])<<8|r>>>24)|4278255360&(r<<24|r>>>8),o=16711935&((o=t[e+2*g+1])<<8|o>>>24)|4278255360&(o<<24|o>>>8),(w=k[g]).high^=o,w.low^=r;for(M=[],x=O=0;O<24;x=++O){for(P=C=0;C<5;P=++C){for(U=B=0,T=D=0;D<5;T=++D)U^=(w=k[P+5*T]).high,B^=w.low;(u=n.T[P]).high=U,u.low=B}for(P=R=0;R<5;P=++R)for(y=n.T[(P+4)%5],p=(f=n.T[(P+1)%5]).high,h=f.low,U=y.high^(p<<1|h>>>31),B=y.low^(h<<1|p>>>31),T=j=0;j<5;T=++j)(w=k[P+5*T]).high^=U,w.low^=B;for(b=N=1;N<25;b=++N)v=(w=k[b]).high,m=w.low,(E=n.RHO_OFFSETS[b])<32?(U=v<<E|m>>>32-E,B=m<<E|v>>>32-E):(U=m<<E-32|v>>>64-E,B=v<<E-32|m>>>64-E),(c=n.T[n.PI_INDEXES[b]]).high=U,c.low=B;for(i=n.T[0],S=k[0],i.high=S.high,i.low=S.low,P=H=0;H<5;P=++H)for(T=F=0;F<5;T=++F)w=k[b=P+5*T],s=n.T[b],l=n.T[(P+1)%5+5*T],d=n.T[(P+2)%5+5*T],w.high=s.high^~l.high&d.high,w.low=s.low^~l.low&d.low;w=k[0],A=n.ROUND_CONSTANTS[x],w.high^=A.high,M.push(w.low^=A.low)}return M},e.prototype._doFinalize=function(){var t,e,n,r,o,s,a,c,u,f,l,h,p;for(n=(e=this._data).words,this._nDataBytes,u=8*e.sigBytes,t=32*this.blockSize,n[u>>>5]|=this.pad<<24-u%32,n[(Math.ceil((u+1)/t)*t>>>5)-1]|=128,e.sigBytes=4*n.length,this._process(),h=this._state,l=(f=this.outputLength/8)/8,r=[],o=p=0;0<=l?p<l:p>l;o=0<=l?++p:--p)c=16711935&((c=(s=h[o]).high)<<8|c>>>24)|4278255360&(c<<24|c>>>8),a=16711935&((a=s.low)<<8|a>>>24)|4278255360&(a<<24|a>>>8),r.push(a),r.push(c);return new i(r,f)},e.prototype.copy_to=function(t){var n;return e.__super__.copy_to.call(this,t),t._state=function(){var t,e,r,o;for(o=[],t=0,e=(r=this._state).length;t<e;t++)n=r[t],o.push(n.clone());return o}.call(this)},e.prototype.scrub=function(){},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),e.transform=function(t){var e;return e=(new o).finalize(t),t.scrub(),e}}).call(this)},7568:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i,s,a;for(o in s=n(5159))i=s[o],e[o]=i;for(o in a=n(3343))i=a[o],e[o]=i;e.prng=n(3800),e.Buffer=r,e.WordArray=n(6557).WordArray,e.util=n(5564),e.ciphers={AES:n(1146).AES,TwoFish:n(3708).TwoFish,Salsa20:n(2954).Salsa20},e.hash={SHA1:n(5908).SHA1,SHA224:n(5458).SHA224,SHA256:n(3881).SHA256,SHA384:n(5888).SHA384,SHA512:n(4122).SHA512,KECCAK:n(2889).KECCAK,SHA3:n(3652).SHA3,SHA3STD:n(3335).SHA3STD,MD5:n(2087).MD5,RIPEMD160:n(8194).RIPEMD160},e.modes={CTR:n(8330)},e.scrypt=n(6030).scrypt,e.pbkdf2=n(8801).pbkdf2,e.hmac=t=n(7096),e.HMAC_SHA256=t.HMAC_SHA256,e.HMAC=t.HMAC}).call(this)},2087:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f={}.hasOwnProperty;c=n(6557).WordArray,i=n(6906).Hasher,u=new function(){var t;this.T=function(){var e,n;for(n=[],t=e=0;e<64;t=++e)n.push(4294967296*Math.abs(Math.sin(t+1))|0);return n}()},e.MD5=a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)f.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.blockSize=16,n.prototype.blockSize=n.blockSize,n.output_size=16,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new c([1732584193,4023233417,2562383102,271733878])},n.prototype._doProcessBlock=function(e,n){var i,a,c,f,l,h,p,d,y,g,w,b,m,v,_,E,x,A,k,S,B,U,P,T,I;for(P=I=0;I<16;P=++I)A=e[T=n+P],e[T]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8);return i=this._hash.words,a=e[n+0],c=e[n+1],g=e[n+2],w=e[n+3],b=e[n+4],m=e[n+5],v=e[n+6],_=e[n+7],E=e[n+8],x=e[n+9],f=e[n+10],l=e[n+11],h=e[n+12],p=e[n+13],d=e[n+14],y=e[n+15],k=i[0],S=i[1],B=i[2],U=i[3],k=t(k,S,B,U,a,7,u.T[0]),U=t(U,k,S,B,c,12,u.T[1]),B=t(B,U,k,S,g,17,u.T[2]),S=t(S,B,U,k,w,22,u.T[3]),k=t(k,S,B,U,b,7,u.T[4]),U=t(U,k,S,B,m,12,u.T[5]),B=t(B,U,k,S,v,17,u.T[6]),S=t(S,B,U,k,_,22,u.T[7]),k=t(k,S,B,U,E,7,u.T[8]),U=t(U,k,S,B,x,12,u.T[9]),B=t(B,U,k,S,f,17,u.T[10]),S=t(S,B,U,k,l,22,u.T[11]),k=t(k,S,B,U,h,7,u.T[12]),U=t(U,k,S,B,p,12,u.T[13]),B=t(B,U,k,S,d,17,u.T[14]),S=t(S,B,U,k,y,22,u.T[15]),k=r(k,S,B,U,c,5,u.T[16]),U=r(U,k,S,B,v,9,u.T[17]),B=r(B,U,k,S,l,14,u.T[18]),S=r(S,B,U,k,a,20,u.T[19]),k=r(k,S,B,U,m,5,u.T[20]),U=r(U,k,S,B,f,9,u.T[21]),B=r(B,U,k,S,y,14,u.T[22]),S=r(S,B,U,k,b,20,u.T[23]),k=r(k,S,B,U,x,5,u.T[24]),U=r(U,k,S,B,d,9,u.T[25]),B=r(B,U,k,S,w,14,u.T[26]),S=r(S,B,U,k,E,20,u.T[27]),k=r(k,S,B,U,p,5,u.T[28]),U=r(U,k,S,B,g,9,u.T[29]),B=r(B,U,k,S,_,14,u.T[30]),S=r(S,B,U,k,h,20,u.T[31]),k=o(k,S,B,U,m,4,u.T[32]),U=o(U,k,S,B,E,11,u.T[33]),B=o(B,U,k,S,l,16,u.T[34]),S=o(S,B,U,k,d,23,u.T[35]),k=o(k,S,B,U,c,4,u.T[36]),U=o(U,k,S,B,b,11,u.T[37]),B=o(B,U,k,S,_,16,u.T[38]),S=o(S,B,U,k,f,23,u.T[39]),k=o(k,S,B,U,p,4,u.T[40]),U=o(U,k,S,B,a,11,u.T[41]),B=o(B,U,k,S,w,16,u.T[42]),S=o(S,B,U,k,v,23,u.T[43]),k=o(k,S,B,U,x,4,u.T[44]),U=o(U,k,S,B,h,11,u.T[45]),B=o(B,U,k,S,y,16,u.T[46]),S=o(S,B,U,k,g,23,u.T[47]),k=s(k,S,B,U,a,6,u.T[48]),U=s(U,k,S,B,_,10,u.T[49]),B=s(B,U,k,S,d,15,u.T[50]),S=s(S,B,U,k,m,21,u.T[51]),k=s(k,S,B,U,h,6,u.T[52]),U=s(U,k,S,B,w,10,u.T[53]),B=s(B,U,k,S,f,15,u.T[54]),S=s(S,B,U,k,c,21,u.T[55]),k=s(k,S,B,U,E,6,u.T[56]),U=s(U,k,S,B,y,10,u.T[57]),B=s(B,U,k,S,v,15,u.T[58]),S=s(S,B,U,k,p,21,u.T[59]),k=s(k,S,B,U,b,6,u.T[60]),U=s(U,k,S,B,l,10,u.T[61]),B=s(B,U,k,S,g,15,u.T[62]),S=s(S,B,U,k,x,21,u.T[63]),i[0]=i[0]+k|0,i[1]=i[1]+S|0,i[2]=i[2]+B|0,i[3]=i[3]+U|0},n.prototype._doFinalize=function(){var t,e,n,r,o,i,s,a,c,u,f;for(r=(n=this._data).words,a=8*this._nDataBytes,r[(s=8*n.sigBytes)>>>5]|=128<<24-s%32,c=Math.floor(a/4294967296),u=a,r[15+(s+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),r[14+(s+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),n.sigBytes=4*(r.length+1),this._process(),t=(o=this._hash).words,i=f=0;f<4;i=++f)e=t[i],t[i]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return o},n.prototype.copy_to=function(t){return n.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(i),t=function(t,e,n,r,o,i,s){var a;return((a=t+(e&n|~e&r)+o+s)<<i|a>>>32-i)+e},r=function(t,e,n,r,o,i,s){var a;return((a=t+(e&r|n&~r)+o+s)<<i|a>>>32-i)+e},o=function(t,e,n,r,o,i,s){var a;return((a=t+(e^n^r)+o+s)<<i|a>>>32-i)+e},s=function(t,e,n,r,o,i,s){var a;return((a=t+(n^(e|~r))+o+s)<<i|a>>>32-i)+e},e.transform=function(t){var e;return e=(new a).finalize(t),t.scrub(),e}}).call(this)},8801:function(t,e,n){(function(){var t,r,o,i,s,a;i=n(2536),t=n(7096).HMAC,o=n(6557).WordArray,a=n(5564),r=function(){function e(e){this.klass=e.klass,this.c=e.c,this.c||(this.c=1024),this.klass||(this.klass=t)}return e.prototype._PRF=function(t){return this.prf.reset(),this.prf.finalize(t)},e.prototype._gen_T_i=function(t,e){var n,r,s,c,u,f,l,h,p,d;h=i.findDeferral(arguments),u=t.salt,r=t.i,(s=t.progress_hook)(0),f=u.clone().concat(new o([r])),n=this._PRF(f),c=n.clone(),r=1,(d=this,function(t){var e;e=function(t){var o,u;if(o=t,u=function(){return i.trampoline((function(){return e(t)}))},!(r<d.c))return o();for(l=Math.min(d.c,r+128);r<l;)n=d._PRF(n),c.xor(n,{}),r++;s(r),p=new i.Deferrals((function(){return u()}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2._gen_T_i"}),a.default_delay(0,0,p.defer({lineno:57})),p._fulfill()},e(t)})((function(){return s(r),e(c)}))},e.prototype.run=function(t,e){var n,r,s,a,c,u,f,l,h,p,d,y,g,w,b;y=i.findDeferral(arguments),c=t.key,h=t.salt,r=t.dkLen,l=t.progress_hook,this.prf=new this.klass(c),n=this.prf.get_output_size(),u=Math.ceil(r/n),d=[],b=this,(f=function(t){return function(e){return"function"==typeof l?l({what:"pbkdf2",total:u*b.c,i:t*b.c+e}):void 0}})(0)(0),function(t){return function(e){var n;a=1,w=u>1,n=function(e){var r;if(r=function(){return i.trampoline((function(){return w?a+=1:a-=1,n(e)}))},!0===w&&a>u||!1===w&&a<u)return e();g=new i.Deferrals((function(){return r(d.push(p.words))}),{parent:y,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2.run"}),t._gen_T_i({salt:h,i:a,progress_hook:f(a-1)},g.defer({assign_fn:function(){return p=arguments[0]},lineno:80})),g._fulfill()},n(e)}}(this)(function(t){return function(){var n;return f(u)(0),s=(n=[]).concat.apply(n,d),c.scrub(),t.prf.scrub(),t.prf=null,e(new o(s,r))}}(this))},e}(),s=function(t,e){var n,o,s,a,c,u,f,l,h,p;h=i.findDeferral(arguments),a=t.key,l=t.salt,c=t.klass,n=t.c,o=t.dkLen,f=t.progress_hook,s=new r({klass:c,c:n}),p=new i.Deferrals((function(){return e(u)}),{parent:h,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced"}),s.run({key:a,salt:l,dkLen:o,progress_hook:f},p.defer({assign_fn:function(){return u=arguments[0]},lineno:106})),p._fulfill()},e.pbkdf2=s,e.PBKDF2=r}).call(this)},3800:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i,s,a,c,u,f,l,h,p,d,y,g,w,b,m;if(u=n(2536),l=n(4151),t=n(6213).ADRBG,i=n(6557).WordArray,s=n(7672).XOR,d=n(5564),y=null,a=function(t){var e;return e=new Uint8Array(t),y(e),r.from(e)},null!=(y=null!=(f="undefined"!=typeof window&&null!==window&&null!=(b=window.crypto)?b.getRandomValues:void 0)?f.bind(window.crypto):null!=(f="undefined"!=typeof window&&null!==window&&null!=(m=window.msCrypto)?m.getRandomValues:void 0)?f.bind(window.msCrypto):null))g=a;else try{null!=(p=Object(function(){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}()))&&(g=p)}catch(t){}h=function(t){if(null==g)throw new Error('No rng found; tried requiring "crypto" and window.crypto');return g(t)},o=function(){function e(){var e;this.meg=new l.Generator,this.adrbg=new t((e=this,function(t,n){return e.gen_seed(t,n)}),s.sign)}return e.prototype.now_to_buffer=function(){var t,e,n,o;return n=(e=Date.now())%1e3,o=Math.floor(e/1e3),(t=r.alloc(8)).writeUInt32BE(o,0),t.writeUInt32BE(n,4),t},e.prototype.gen_seed=function(t,e){var n,o,s,a,c,f,l,p,y;l=u.findDeferral(arguments),a=t/8,(o=[]).push(this.now_to_buffer()),(y=this,function(e){p=new u.Deferrals(e,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/prng.iced",funcname:"PRNG.gen_seed"}),y.meg.generate(t,p.defer({assign_fn:function(){return f=arguments[0]},lineno:83})),p._fulfill()})(function(t){return function(){var u,l;for(o.push(t.now_to_buffer()),o.push(r.from(f)),o.push(h(a)),o.push(t.now_to_buffer()),s=r.concat(o),c=i.from_buffer(s),d.scrub_buffer(s),u=0,l=o.length;u<l;u++)n=o[u],d.scrub_buffer(n);return e(c)}}(this))},e.prototype.generate=function(t,e){return this.adrbg.generate(t,e)},e}(),w=null,c=function(t,e){return null==w&&(w=new o),w.generate(t,e)},e.PRNG=o,e.generate=c,e.native_rng=h}).call(this)},8194:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l,h,p,d={}.hasOwnProperty;p=n(6557),i=p.WordArray,p.X64Word,p.X64WordArray,r=n(6906).Hasher,t=new function(){this._zl=new i([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),this._zr=new i([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),this._sl=new i([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),this._sr=new i([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),this._hl=new i([0,1518500249,1859775393,2400959708,2840853838]),this._hr=new i([1352829926,1548603684,1836072691,2053994217,0])},o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.blockSize=16,n.prototype.blockSize=n.blockSize,n.output_size=20,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new i([1732584193,4023233417,2562383102,271733878,3285377520])},n.prototype.get_output_size=function(){return this.output_size},n.prototype._doProcessBlock=function(e,n){var r,o,i,h,p,d,y,g,w,b,m,v,_,E,x,A,k,S,B,U,P,T,I;for(x=T=0;T<16;x=++T)o=e[A=n+x],e[A]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(r=this._hash.words,_=t._hl.words,E=t._hr.words,U=t._zl.words,P=t._zr.words,k=t._sl.words,S=t._sr.words,h=i=r[0],d=p=r[1],g=y=r[2],b=w=r[3],v=m=r[4],x=I=0;I<80;x=++I)B=i+e[n+U[x]]|0,B+=x<16?s(p,y,w)+_[0]:x<32?a(p,y,w)+_[1]:x<48?c(p,y,w)+_[2]:x<64?u(p,y,w)+_[3]:f(p,y,w)+_[4],B=(B=l(B|=0,k[x]))+m|0,i=m,m=w,w=l(y,10),y=p,p=B,B=h+e[n+P[x]]|0,B+=x<16?f(d,g,b)+E[0]:x<32?u(d,g,b)+E[1]:x<48?c(d,g,b)+E[2]:x<64?a(d,g,b)+E[3]:s(d,g,b)+E[4],B=(B=l(B|=0,S[x]))+v|0,h=v,v=b,b=l(g,10),g=d,d=B;return B=r[1]+y+b|0,r[1]=r[2]+w+v|0,r[2]=r[3]+m+h|0,r[3]=r[4]+i+d|0,r[4]=r[0]+p+g|0,r[0]=B},n.prototype._doFinalize=function(){var t,e,n,r,o,i,s,a,c;for(r=(n=this._data).words,a=8*this._nDataBytes,r[(s=8*n.sigBytes)>>>5]|=128<<24-s%32,r[14+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n.sigBytes=4*(r.length+1),this._process(),t=(o=this._hash).words,i=c=0;c<5;i=++c)e=t[i],t[i]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return o},n.prototype.scrub=function(){return this._hash.scrub()},n.prototype.copy_to=function(t){return n.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(r),s=function(t,e,n){return t^e^n},a=function(t,e,n){return t&e|~t&n},c=function(t,e,n){return(t|~e)^n},u=function(t,e,n){return t&n|e&~n},f=function(t,e,n){return t^(e|~n)},l=function(t,e){return t<<e|t>>>32-e},h=function(t){var e;return e=(new o).finalize(t),t.scrub(),e},e.RIPEMD160=o,e.transform=h}).call(this)},2954:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i,s,a,c,u,f,l,h,p,d,y,g={}.hasOwnProperty,w=function(t,e){for(var n in e)g.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};p=n(2536),y=n(6557),l=y.endian_reverse,u=y.WordArray,o=n(8330).Counter,h=n(5564).fixup_uint32,c=n(6906).StreamCipher,d=n(5564),f=function(t,e){var n,r,o,i;for(r=o=0,i=e.length;o<i;r=++o)n=e[r],t[r]+=n;return!1},i=function(t){function e(t,n){var r;if(e.__super__.constructor.call(this,20),this.key=t.clone().endian_reverse(),this.nonce=n.clone().endian_reverse(),(16!==this.key.sigBytes||8!==this.nonce.sigBytes)&&(32!==this.key.sigBytes||8!==(r=this.nonce.sigBytes)&&24!==r))throw new Error("Bad key/nonce lengths");24===this.nonce.sigBytes&&this.xsalsa_setup(),this.input=this.key_iv_setup(this.nonce,this.key),this._reset()}return w(e,t),e.prototype.sigma=u.from_buffer_le(r.from("expand 32-byte k")),e.prototype.tau=u.from_buffer_le(r.from("expand 16-byte k")),e.blockSize=64,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=24,e.prototype.ivSize=e.ivSize,e.prototype.scrub=function(){return this.key.scrub(),this.nonce.scrub(),d.scrub_vec(this.input)},e.prototype.xsalsa_setup=function(){var t;return t=new u(this.nonce.words.slice(0,4)),this.nonce=new u(this.nonce.words.slice(4)),this.key=this.hsalsa20(t,this.key)},e.prototype.hsalsa20=function(t,e){var n,r,o,i;return(o=this.key_iv_setup(t,e))[8]=t.words[2],o[9]=t.words[3],i=this._core(o),r=[0,5,10,15,6,7,8,9],i=function(){var t,e,o;for(o=[],t=0,e=r.length;t<e;t++)n=r[t],o.push(h(i[n]));return o}(),d.scrub_vec(o),new u(i)},e.prototype.key_iv_setup=function(t,e){var n,r,o,i,s,a,c,u;for(i=[],o=s=0;s<4;o=++s)i[o+1]=e.words[o];for(r=(u=32===e.sigBytes?[this.sigma,e.words.slice(4)]:[this.tau,e.words])[0],n=u[1],o=a=0;a<4;o=++a)i[o+11]=n[o];for(o=c=0;c<4;o=++c)i[5*o]=r.words[o];return i[6]=t.words[0],i[7]=t.words[1],i},e.prototype.counter_setup=function(){return this.input[8]=this.counter.get().words[0],this.input[9]=this.counter.get().words[1]},e.prototype._reset=function(){return this.counter=new o({len:2})},e.prototype._generateBlock=function(){var t;return this.counter_setup(),t=this._core(this.input),f(t,this.input),this.counter.inc_le(),t},e}(s=function(){function t(t){this.rounds=t}return t.prototype._core=function(t){var e,n,r,o,i,s,a,c,u,f,l,h,p,d,y,g,w,b,m;for(n=t[0],r=t[1],f=t[2],l=t[3],h=t[4],p=t[5],d=t[6],y=t[7],g=t[8],w=t[9],o=t[10],i=t[11],s=t[12],a=t[13],c=t[14],u=t[15],b=0,m=this.rounds;b<m;b+=2)n^=(e=(s^=(e=(g^=(e=(h^=(e=n+s|0)<<7|e>>>25)+n|0)<<9|e>>>23)+h|0)<<13|e>>>19)+g|0)<<18|e>>>14,p^=(e=(r^=(e=(a^=(e=(w^=(e=p+r|0)<<7|e>>>25)+p|0)<<9|e>>>23)+w|0)<<13|e>>>19)+a|0)<<18|e>>>14,o^=(e=(d^=(e=(f^=(e=(c^=(e=o+d|0)<<7|e>>>25)+o|0)<<9|e>>>23)+c|0)<<13|e>>>19)+f|0)<<18|e>>>14,u^=(e=(i^=(e=(y^=(e=(l^=(e=u+i|0)<<7|e>>>25)+u|0)<<9|e>>>23)+l|0)<<13|e>>>19)+y|0)<<18|e>>>14,n^=(e=(l^=(e=(f^=(e=(r^=(e=n+l|0)<<7|e>>>25)+n|0)<<9|e>>>23)+r|0)<<13|e>>>19)+f|0)<<18|e>>>14,p^=(e=(h^=(e=(y^=(e=(d^=(e=p+h|0)<<7|e>>>25)+p|0)<<9|e>>>23)+d|0)<<13|e>>>19)+y|0)<<18|e>>>14,o^=(e=(w^=(e=(g^=(e=(i^=(e=o+w|0)<<7|e>>>25)+o|0)<<9|e>>>23)+i|0)<<13|e>>>19)+g|0)<<18|e>>>14,u^=(e=(c^=(e=(a^=(e=(s^=(e=u+c|0)<<7|e>>>25)+u|0)<<9|e>>>23)+s|0)<<13|e>>>19)+a|0)<<18|e>>>14;return[n,r,f,l,h,p,d,y,g,w,o,i,s,a,c,u]},t}()),e.Salsa20WordStream=a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return w(e,t),e.prototype._reset=function(){return e.__super__._reset.call(this)},e.prototype.getWordArray=function(t){var e,n,r,o,i,s,a,c;for(null==t||t===this.blockSize?i=this._generateBlock():(r=Math.ceil(t/this.blockSize),e=function(){var t,e;for(e=[],n=t=0;0<=r?t<r:t>r;n=0<=r?++t:--t)e.push(this._generateBlock());return e}.call(this),i=(c=[]).concat.apply(c,e)),n=s=0,a=i.length;s<a;n=++s)o=i[n],i[n]=l(o);return new u(i,t)},e}(i),e.Salsa20=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return w(e,t),e.prototype._reset=function(){return e.__super__._reset.call(this),this._i=this.blockSize},e.prototype.getBytes=function(t){var e,n,o;if(null==t&&(t=this.blockSize),o=[],e=this.blockSize,this._i===e&&t===e)return this._generateBlockBuffer();for(;t>0;)this._i===e&&(this._generateBlockBuffer(),this._i=0),n=Math.min(t,e-this._i),o.push(n===e?this._buf:this._buf.slice(this._i,this._i+n)),this._i+=n,t-=n;return r.concat(o)},e.prototype._generateBlockBuffer=function(){var t,e,n,o,i;for(this._buf=r.alloc(this.blockSize),e=o=0,i=(n=this._generateBlock()).length;o<i;e=++o)t=n[e],this._buf.writeUInt32LE(h(t),4*e);return this._buf},e}(i),e.Cipher=t=function(t){function e(t){var n,r;r=t.key,n=t.iv,e.__super__.constructor.call(this),this.salsa=new a(r,n),this.bsiw=this.salsa.blockSize/4}return w(e,t),e.prototype.scrub=function(){return this.salsa.scrub()},e.prototype.get_pad=function(){return this.salsa.getWordArray()},e}(c),e.encrypt=function(e){var n,r,o,i,s;return i=e.key,o=e.iv,r=e.input,s=(n=new t({key:i,iv:o})).encrypt(r),n.scrub(),s},e.bulk_encrypt=function(e,n){var r,o,i,s,a,c,u,f;u=p.findDeferral(arguments),s=e.key,i=e.iv,o=e.input,a=e.progress_hook,r=new t({key:s,iv:i}),f=new p.Deferrals((function(){return r.scrub(),n(c)}),{parent:u,filename:"/Users/max/src/keybase/triplesec/src/salsa20.iced"}),r.bulk_encrypt({input:o,progress_hook:a,what:"salsa20"},f.defer({assign_fn:function(){return c=arguments[0]},lineno:256})),f._fulfill()},e.Salsa20InnerCore=s,e.endian_reverse=l,e.asum=f}).call(this)},6030:function(t,e,n){(function(){var t,r,o,i,s,a,c,u,f,l,h,p,d,y,g,w,b;l=n(2536),t=n(7096).HMAC_SHA256,h=n(8801).pbkdf2,g=n(2954),u=g.endian_reverse,r=g.Salsa20InnerCore,(w=n(6557)).ui8a_to_buffer,i=w.WordArray,b=n(5564),f=b.fixup_uint32,c=b.default_delay,p=b.scrub_vec,new(function(){function t(){this.tot=0}return t.prototype.start=function(){return this._t=Date.now()},t.prototype.stop=function(){return this.tot+=Date.now()-this._t},t}()),s=function(t,e,n,r,o){var i,s,a;for(a=n<<4|0,i=(s=r<<4|0)+(o<<4)|0;s<i;)t[a]=e[s],t[a+1]=e[s+1],t[a+2]=e[s+2],t[a+3]=e[s+3],t[a+4]=e[s+4],t[a+5]=e[s+5],t[a+6]=e[s+6],t[a+7]=e[s+7],t[a+8]=e[s+8],t[a+9]=e[s+9],t[a+10]=e[s+10],t[a+11]=e[s+11],t[a+12]=e[s+12],t[a+13]=e[s+13],t[a+14]=e[s+14],t[a+15]=e[s+15],s+=16,a+=16;return!0},a=function(t,e,n,r){var o,i;for(r=r<<4|0,o=0,i=n<<4|0;o<r;)t[o]^=e[i],t[o+1]^=e[i+1],t[o+2]^=e[i+2],t[o+3]^=e[i+3],t[o+4]^=e[i+4],t[o+5]^=e[i+5],t[o+6]^=e[i+6],t[o+7]^=e[i+7],t[o+8]^=e[i+8],t[o+9]^=e[i+9],t[o+10]^=e[i+10],t[o+11]^=e[i+11],t[o+12]^=e[i+12],t[o+13]^=e[i+13],t[o+14]^=e[i+14],t[o+15]^=e[i+15],o+=16,i+=16;return!0},y=function(t){var e,n,r,o;for(n=r=0,o=t.length;r<o;n=++r)e=t[n],t[n]=u(e);return!0},o=function(){function e(e){var n,o,i,s;n=e.N,this.r=e.r,this.p=e.p,o=e.c,i=e.c0,s=e.c1,this.klass=e.klass,this.N||(this.N=1<<(n||15)),this.r||(this.r=8),this.p||(this.p=1),this.c0=i||o||1,this.c1=s||o||1,this.klass||(this.klass=t),this.X16_tmp=new Int32Array(16),this.s20ic=new r(8)}return e.prototype.salsa20_8=function(t){var e,n,r,o,i;for(n=o=0,i=(e=this.s20ic._core(t)).length;o<i;n=++o)r=e[n],t[n]+=r;return!0},e.prototype.pbkdf2=function(t,e){var n,r,o,i,s,a,c,u,f;c=l.findDeferral(arguments),o=t.key,s=t.salt,r=t.dkLen,i=t.progress_hook,n=t.c,(f=this,function(t){u=new l.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.pbkdf2"}),h({key:o,salt:s,c:n,dkLen:r,klass:f.klass,progress_hook:i},u.defer({assign_fn:function(){return a=arguments[0]},lineno:109})),u._fulfill()})((function(){return e(a)}))},e.prototype.blockmix_salsa8=function(t,e){var n,r,o,i;for(n=this.X16_tmp,s(n,t,0,2*this.r-1,1),r=o=0,i=2*this.r;0<=i?o<i:o>i;r=0<=i?++o:--o)a(n,t,r,1),this.salsa20_8(n),s(e,n,r,0,1);for(r=0;r<this.r;)s(t,e,r,2*r,1),r++;for(r=0;r<this.r;)s(t,e,r+this.r,2*r+1,1),r++;return!0},e.prototype.smix=function(t,e){var n,r,o,i,u,h,p,d,y,g,w,b,m;w=l.findDeferral(arguments),n=t.B,r=t.V,i=t.XY,y=t.progress_hook,o=i,d=2*this.r,u=i.subarray(16*d),s(o,n,0,0,d),h=0,(m=this,function(t){var e;e=function(t){var n,i;if(n=t,i=function(){return l.trampoline((function(){return e(t)}))},!(h<m.N))return n();for(g=Math.min(m.N,h+2048);h<g;)s(r,o,d*h,0,d),m.blockmix_salsa8(o,u),h++;"function"==typeof y&&y(h),function(t){b=new l.Deferrals(t,{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),c(0,0,b.defer({lineno:166})),b._fulfill()}(i)},e(t)})(function(t){return function(){var i;h=0,(i=function(e){var n,s;if(n=e,s=function(){return l.trampoline((function(){return i(e)}))},!(h<t.N))return n();for(g=Math.min(t.N,h+256);h<g;)p=f(o[16*(d-1)])&t.N-1,a(o,r,p*d,d),t.blockmix_salsa8(o,u),h++;"function"==typeof y&&y(h+t.N),function(t){b=new l.Deferrals(t,{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),c(0,0,b.defer({lineno:183})),b._fulfill()}(s)})((function(){return s(n,o,0,0,d),e()}))}}(this))},e.prototype.run=function(t,e){var n,r,o,s,a,c,u,f,h,d,g,w,b,m,v,_;w=l.findDeferral(arguments),u=t.key,g=t.salt,a=t.dkLen,d=t.progress_hook,a>(r=4294967295)?new Error("asked for too much data"):this.r*this.p>=1<<30?new Error("r & p are too big"):(this.r>r/128/this.p||this.r>r/256||this.N>r/128/this.r)&&new Error("N is too big"),s=new Int32Array(64*this.r),o=new Int32Array(32*this.r*this.N),f=function(t){return t.what+=" (pass 1)","function"==typeof d?d(t):void 0},(_=this,function(t){b=new l.Deferrals(t,{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),_.pbkdf2({key:u.clone(),salt:g,dkLen:128*_.r*_.p,c:_.c0,progress_hook:f},b.defer({assign_fn:function(){return n=arguments[0]},lineno:214})),b._fulfill()})(function(t){return function(){var r;n=new Int32Array(n.words),y(n),f=function(e){return function(n){return"function"==typeof d?d({i:n+e*t.N*2,what:"scrypt",total:t.p*t.N*2}):void 0}},c=0,m=t.p,v=m>0,(r=function(e){var i,a;if(i=e,a=function(){return l.trampoline((function(){return v?c+=1:c-=1,r(e)}))},!0===v&&c>=t.p||!1===v&&c<=t.p)return i();!function(e){b=new l.Deferrals(e,{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.smix({B:n.subarray(32*t.r*c),V:o,XY:s,progress_hook:f(c)},b.defer({lineno:221})),b._fulfill()}(a)})((function(){y(n),f=function(t){return t.what+=" (pass 2)","function"==typeof d?d(t):void 0},b=new l.Deferrals((function(){return p(s),p(o),p(n),u.scrub(),e(h)}),{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:u,salt:i.from_i32a(n),dkLen:a,c:t.c1,progress_hook:f},b.defer({assign_fn:function(){return h=arguments[0]},lineno:229})),b._fulfill()}))}}(this))},e}(),d=function(t,e){var n,r,i,s,a,c,u,f,h,p,d,y,g,w,b;w=l.findDeferral(arguments),u=t.key,y=t.salt,d=t.r,n=t.N,h=t.p,i=t.c0,s=t.c1,r=t.c,f=t.klass,p=t.progress_hook,a=t.dkLen,c=new o({r:d,N:n,p:h,c:r,c0:i,c1:s,klass:f}),b=new l.Deferrals((function(){return e(g)}),{parent:w,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced"}),c.run({key:u,salt:y,progress_hook:p,dkLen:a},b.defer({assign_fn:function(){return g=arguments[0]},lineno:259})),b._fulfill()},e.Scrypt=o,e.scrypt=d,e.v_endian_reverse=y}).call(this)},5908:function(t,e,n){(function(){var t,r,o,i,s,a={}.hasOwnProperty;i=n(6557).WordArray,t=n(6906).Hasher,o=[],r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=20,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new i([1732584193,4023233417,2562383102,271733878,3285377520])},e.prototype._doProcessBlock=function(t,e){var n,r,i,s,a,c,u,f,l,h;for(r=(n=this._hash.words)[0],i=n[1],s=n[2],a=n[3],c=n[4],u=h=0;h<80;u=++h)u<16?o[u]=0|t[e+u]:(f=o[u-3]^o[u-8]^o[u-14]^o[u-16],o[u]=f<<1|f>>>31),l=(r<<5|r>>>27)+c+o[u],l+=u<20?1518500249+(i&s|~i&a):u<40?1859775393+(i^s^a):u<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,c=a,a=s,s=i<<30|i>>>2,i=r,r=l;return n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},e.prototype._doFinalize=function(){var t,e,n,r;return e=(t=this._data).words,r=8*this._nDataBytes,e[(n=8*t.sigBytes)>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(t),s=s=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},e.SHA1=r,e.transform=s}).call(this)},5458:function(t,e,n){(function(){var t,r,o,i,s={}.hasOwnProperty;o=n(6557).WordArray,r=n(3881).SHA256,t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.output_size=28,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new o([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},e.prototype._doFinalize=function(){var t;return(t=e.__super__._doFinalize.call(this)).sigBytes-=4,t},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),i=function(e){var n;return n=(new t).finalize(e),e.scrub(),n},e.SHA224=t,e.transform=i}).call(this)},3881:function(t,e,n){(function(){var t,r,o,i,s,a,c={}.hasOwnProperty;i=n(6557).WordArray,r=n(6906).Hasher,t=function(){function t(){this.H=[],this.K=[],this.W=[],this.init()}return t.prototype.isPrime=function(t){var e,n,r;if(2===t||3===t||5===t||7===t)return!0;if(1===t||4===t||6===t||8===t||9===t)return!1;for(n=Math.ceil(Math.sqrt(t)),e=r=2;2<=n?r<=n:r>=n;e=2<=n?++r:--r)if(t%e==0)return!1;return!0},t.prototype.getFractionalBits=function(t){return 4294967296*(t-(0|t))|0},t.prototype.init=function(){var t,e,n;for(t=2,e=0,n=[];e<64;)this.isPrime(t)&&(e<8&&(this.H[e]=this.getFractionalBits(Math.pow(t,.5))),this.K[e]=this.getFractionalBits(Math.pow(t,1/3)),e++),n.push(t++);return n},t}(),s=new t,o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=32,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new i(s.H.slice(0))},e.prototype.get_output_size=function(){return this.output_size},e.prototype._doProcessBlock=function(t,e){var n,r,o,i,a,c,u,f,l,h,p,d,y,g,w,b,m,v,_,E;for(n=this._hash.words,o=s.W,r=s.K,i=n[0],a=n[1],c=n[2],u=n[3],f=n[4],l=n[5],h=n[6],w=n[7],b=E=0;E<64;b=++E)b<16?o[b]=0|t[e+b]:(p=((d=o[b-15])<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,y=((g=o[b-2])<<15|g>>>17)^(g<<13|g>>>19)^g>>>10,o[b]=p+o[b-7]+y+o[b-16]),m=i&a^i&c^a&c,v=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=w+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&l^~f&h)+r[b]+o[b],w=h,h=l,l=f,f=u+_|0,u=c,c=a,a=i,i=_+(v+m)|0;return n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+c|0,n[3]=n[3]+u|0,n[4]=n[4]+f|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+w|0},e.prototype._doFinalize=function(){var t,e,n,r;return e=(t=this._data).words,r=8*this._nDataBytes,e[(n=8*t.sigBytes)>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.scrub=function(){return this._hash.scrub()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),a=function(t){var e;return e=(new o).finalize(t),t.scrub(),e},e.SHA256=o,e.transform=a}).call(this)},3652:function(t,e,n){(function(){var t;t=n(2889),e.SHA3=t.KECCAK,e.transform=t.transform}).call(this)},5888:function(t,e,n){(function(){var t,r,o,i,s,a,c,u={}.hasOwnProperty;a=n(6557),i=a.X64WordArray,a.WordArray,o=(c=n(4122)).SHA512,t=c.Global,r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.output_size=48,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new i(t.convert([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]))},n.prototype._doFinalize=function(){var t;return(t=n.__super__._doFinalize.call(this)).sigBytes-=16,t},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(o),s=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},e.SHA384=r,e.transform=s}).call(this)},3335:function(t,e,n){(function(){var t,r,o,i={}.hasOwnProperty;n(6557).WordArray,n(6906).Hasher,t=n(2889).KECCAK,r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.pad=6,e}(t),o=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},e.SHA3STD=r,e.transform=o}).call(this)},4122:function(t,e,n){(function(){var t,r,o,i,s,a,c,u={}.hasOwnProperty;c=n(6557),i=c.X64Word,s=c.X64WordArray,r=n(6906).Hasher,t=function(){function t(){this.K=this.convert([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),this.I=new s(this.convert([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])),this.W=function(){var t,e;for(e=[],t=0;t<80;++t)e.push(new i(0,0));return e}()}return t.convert=function(t){var e,n,r,o;for(o=[],e=n=0,r=t.length;n<r;e=n+=2)o.push(new i(t[e],t[e+1]));return o},t.prototype.convert=function(e){return t.convert(e)},t}(),e.Global=t,a=new t,e.SHA512=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.blockSize=32,e.prototype.blockSize=e.blockSize,e.output_size=64,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=a.I.clone()},e.prototype._doProcessBlock=function(t,e){var n,r,o,i,s,c,u,f,l,h,p,d,y,g,w,b,m,v,_,E,x,A,k,S,B,U,P,T,I,O,C,D,R,j,N,H,F,M,z,$,L,K,W,G,V,q,X,J,Z,Y,Q,tt,et,nt,rt,ot,it,st,at,ct,ut,ft,lt,ht,pt,dt,yt,gt,wt,bt,mt;for(n=this._hash.words,T=a.W,r=n[0],s=n[1],f=n[2],p=n[3],g=n[4],m=n[5],E=n[6],k=n[7],N=o=r.high,H=i=r.low,F=c=s.high,M=u=s.low,z=l=f.high,K=h=f.low,W=d=p.high,G=y=p.low,V=w=g.high,q=b=g.low,X=v=m.high,J=_=m.low,at=x=E.high,ct=A=E.low,ut=S=k.high,ft=B=k.low,lt=mt=0;mt<80;lt=++mt)I=T[lt],lt<16?(R=I.high=0|t[e+2*lt],j=I.low=0|t[e+2*lt+1]):(Z=((tt=(Q=T[lt-15]).high)>>>1|(et=Q.low)<<31)^(tt>>>8|et<<24)^tt>>>7,Y=(et>>>1|tt<<31)^(et>>>8|tt<<24)^(et>>>7|tt<<25),nt=((it=(ot=T[lt-2]).high)>>>19|(st=ot.low)<<13)^(it<<3|st>>>29)^it>>>6,rt=(st>>>19|it<<13)^(st<<3|it>>>29)^(st>>>6|it<<26),R=(R=(R=Z+(D=T[lt-7]).high+((j=Y+D.low)>>>0<Y>>>0?1:0))+nt+((j+=rt)>>>0<rt>>>0?1:0))+(O=T[lt-16]).high+((j+=C=O.low)>>>0<C>>>0?1:0),I.high=R,I.low=j),$=V&X^~V&at,L=q&J^~q&ct,ht=N&F^N&z^F&z,pt=H&M^H&K^M&K,dt=(N>>>28|H<<4)^(N<<30|H>>>2)^(N<<25|H>>>7),yt=(H>>>28|N<<4)^(H<<30|N>>>2)^(H<<25|N>>>7),gt=ut+((V>>>14|q<<18)^(V>>>18|q<<14)^(V<<23|q>>>9))+((wt=ft+((q>>>14|V<<18)^(q>>>18|V<<14)^(q<<23|V>>>9)))>>>0<ft>>>0?1:0),ut=at,ft=ct,at=X,ct=J,X=V,J=q,V=W+(gt=(gt=(gt=gt+$+((wt+=L)>>>0<L>>>0?1:0))+(U=a.K[lt]).high+((wt+=P=U.low)>>>0<P>>>0?1:0))+R+((wt+=j)>>>0<j>>>0?1:0))+((q=G+wt|0)>>>0<G>>>0?1:0)|0,W=z,G=K,z=F,K=M,F=N,M=H,N=gt+(dt+ht+((bt=yt+pt)>>>0<yt>>>0?1:0))+((H=wt+bt|0)>>>0<wt>>>0?1:0)|0;return i=r.low=i+H,r.high=o+N+(i>>>0<H>>>0?1:0),u=s.low=u+M,s.high=c+F+(u>>>0<M>>>0?1:0),h=f.low=h+K,f.high=l+z+(h>>>0<K>>>0?1:0),y=p.low=y+G,p.high=d+W+(y>>>0<G>>>0?1:0),b=g.low=b+q,g.high=w+V+(b>>>0<q>>>0?1:0),_=m.low=_+J,m.high=v+X+(_>>>0<J>>>0?1:0),A=E.low=A+ct,E.high=x+at+(A>>>0<ct>>>0?1:0),B=k.low=B+ft,k.high=S+ut+(B>>>0<ft>>>0?1:0)},e.prototype._doFinalize=function(){var t,e,n;return t=this._data.words,n=8*this._nDataBytes,t[(e=8*this._data.sigBytes)>>>5]|=128<<24-e%32,t[30+(e+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(e+128>>>10<<5)]=n,this._data.sigBytes=4*t.length,this._process(),this._hash.toX32()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),e.transform=function(t){var e;return e=(new o).finalize(t),t.scrub(),e}}).call(this)},3708:function(t,e,n){(function(){var t,r,o,i={}.hasOwnProperty;t=n(6906).BlockCipher,o=n(5564).scrub_vec,r=new function(){this.P=[[169,103,179,232,4,253,163,118,154,146,128,120,228,221,209,56,13,198,53,152,24,247,236,108,67,117,55,38,250,19,148,72,242,208,139,48,132,84,223,35,25,91,61,89,243,174,162,130,99,1,131,46,217,81,155,124,166,235,165,190,22,12,227,97,192,140,58,245,115,44,37,11,187,78,137,107,83,106,180,241,225,230,189,69,226,244,182,102,204,149,3,86,212,28,30,215,251,195,142,181,233,207,191,186,234,119,57,175,51,201,98,113,129,121,9,173,36,205,249,216,229,197,185,77,68,8,134,231,161,29,170,237,6,112,178,210,65,123,160,17,49,194,39,144,32,246,96,255,150,92,177,171,158,156,82,27,95,147,10,239,145,133,73,238,45,79,143,59,71,135,109,70,214,62,105,100,42,206,203,47,252,151,5,122,172,127,213,26,75,14,167,90,40,20,63,41,136,60,76,2,184,218,176,23,85,31,138,125,87,199,141,116,183,196,159,114,126,21,34,18,88,7,153,52,110,80,222,104,101,188,219,248,200,168,43,64,220,254,50,164,202,16,33,240,211,93,15,0,111,157,54,66,74,94,193,224],[117,243,198,244,219,123,251,200,74,211,230,107,69,125,232,75,214,50,216,253,55,113,241,225,48,15,248,27,135,250,6,63,94,186,174,91,138,0,188,157,109,193,177,14,128,93,210,213,160,132,7,20,181,144,44,163,178,115,76,84,146,116,54,81,56,176,189,90,252,96,98,150,108,66,247,16,124,40,39,140,19,149,156,199,36,70,59,112,202,227,133,203,17,208,147,184,166,131,32,255,159,119,195,204,3,111,8,191,64,231,43,226,121,12,170,130,65,58,234,185,228,154,164,151,126,218,122,23,102,148,161,29,61,240,222,179,11,114,167,28,239,209,83,62,143,51,38,95,236,118,42,73,129,136,238,33,196,26,235,217,197,57,153,205,173,49,139,1,24,35,221,31,78,45,249,72,79,242,101,142,120,92,88,25,141,229,152,87,103,127,5,100,175,99,182,254,245,183,60,165,206,233,104,68,224,77,67,105,41,46,172,21,89,168,10,158,110,71,223,52,53,106,207,220,34,201,192,155,137,212,237,171,18,162,13,82,187,2,47,169,215,97,30,180,80,4,246,194,22,37,134,86,85,9,190,145]],this.P_00=1,this.P_01=0,this.P_02=0,this.P_03=1,this.P_04=1,this.P_10=0,this.P_11=0,this.P_12=1,this.P_13=1,this.P_14=0,this.P_20=1,this.P_21=1,this.P_22=0,this.P_23=0,this.P_24=0,this.P_30=0,this.P_31=1,this.P_32=1,this.P_33=0,this.P_34=1,this.GF256_FDBK=361,this.GF256_FDBK_2=this.GF256_FDBK/2,this.GF256_FDBK_4=this.GF256_FDBK/4,this.RS_GF_FDBK=333,this.SK_STEP=33686018,this.SK_BUMP=16843009,this.SK_ROTL=9},e.TwoFish=function(t){function e(t){this._key=t.clone(),this.gMDS0=[],this.gMDS1=[],this.gMDS2=[],this.gMDS3=[],this.gSubKeys=[],this.gSBox=[],this.k64Cnt=0,this._doReset()}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype.getByte=function(t,e){return t>>>8*e&255},e.prototype.switchEndianness=function(t){return(255&t)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>24&255},e.prototype.LFSR1=function(t){return t>>1^(0!=(1&t)?r.GF256_FDBK_2:0)},e.prototype.LFSR2=function(t){return t>>2^(0!=(2&t)?r.GF256_FDBK_2:0)^(0!=(1&t)?r.GF256_FDBK_4:0)},e.prototype.Mx_X=function(t){return t^this.LFSR2(t)},e.prototype.Mx_Y=function(t){return t^this.LFSR1(t)^this.LFSR2(t)},e.prototype.RS_rem=function(t){var e,n,o;return n=255&((e=t>>>24&255)<<1^(0!=(128&e)?r.RS_GF_FDBK:0)),t<<8^(o=e>>>1^(0!=(1&e)?r.RS_GF_FDBK>>>1:0)^n)<<24^n<<16^o<<8^e},e.prototype.RS_MDS_Encode=function(t,e){var n,r,o;for(n=e,r=0;r<4;++r)n=this.RS_rem(n);for(n^=t,o=0;o<4;++o)n=this.RS_rem(n);return n},e.prototype.F32=function(t,e){var n,o,i,s,a,c,u,f,l;return n=this.getByte(t,0),o=this.getByte(t,1),i=this.getByte(t,2),s=this.getByte(t,3),a=e[0],c=e[1],u=e[2],f=e[3],1==(l=3&this.k64Cnt)?this.gMDS0[255&r.P[r.P_01][n]^this.getByte(a,0)]^this.gMDS1[255&r.P[r.P_11][o]^this.getByte(a,1)]^this.gMDS2[255&r.P[r.P_21][i]^this.getByte(a,2)]^this.gMDS3[255&r.P[r.P_31][s]^this.getByte(a,3)]:(0===l&&(n=255&r.P[r.P_04][n]^this.getByte(f,0),o=255&r.P[r.P_14][o]^this.getByte(f,1),i=255&r.P[r.P_24][i]^this.getByte(f,2),s=255&r.P[r.P_34][s]^this.getByte(f,3)),(0===l||3===l)&&(n=255&r.P[r.P_03][n]^this.getByte(u,0),o=255&r.P[r.P_13][o]^this.getByte(u,1),i=255&r.P[r.P_23][i]^this.getByte(u,2),s=255&r.P[r.P_33][s]^this.getByte(u,3)),this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(c,0)]^this.getByte(a,0)]^this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][o]^this.getByte(c,1)]^this.getByte(a,1)]^this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][i]^this.getByte(c,2)]^this.getByte(a,2)]^this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(c,3)]^this.getByte(a,3)])},e.prototype.Fe32_0=function(t){return this.gSBox[0+2*(255&t)]^this.gSBox[1+2*(t>>>8&255)]^this.gSBox[512+2*(t>>>16&255)]^this.gSBox[513+2*(t>>>24&255)]},e.prototype.Fe32_3=function(t){return this.gSBox[0+2*(t>>>24&255)]^this.gSBox[1+2*(255&t)]^this.gSBox[512+2*(t>>>8&255)]^this.gSBox[513+2*(t>>>16&255)]},e.prototype._doReset=function(){var t,e,n,o,i,s,a,c,u,f,l,h,p,d,y,g,w,b,m,v,_,E,x,A,k,S,B;if(p=[],d=[],_=[],g=[],w=[],b=[],this.k64Cnt=this._key.words.length/2,this.k64Cnt<1)throw"Key size less than 64 bits";if(this.k64Cnt>4)throw"Key size larger than 256 bits";for(a=E=0;E<256;a=++E)c=255&r.P[0][a],g[0]=c,w[0]=255&this.Mx_X(c),b[0]=255&this.Mx_Y(c),c=255&r.P[1][a],g[1]=c,w[1]=255&this.Mx_X(c),b[1]=255&this.Mx_Y(c),this.gMDS0[a]=g[r.P_00]|w[r.P_00]<<8|b[r.P_00]<<16|b[r.P_00]<<24,this.gMDS1[a]=b[r.P_10]|b[r.P_10]<<8|w[r.P_10]<<16|g[r.P_10]<<24,this.gMDS2[a]=w[r.P_20]|b[r.P_20]<<8|g[r.P_20]<<16|b[r.P_20]<<24,this.gMDS3[a]=w[r.P_30]|g[r.P_30]<<8|b[r.P_30]<<16|w[r.P_30]<<24;for(a=x=0,S=this.k64Cnt;0<=S?x<S:x>S;a=0<=S?++x:--x)m=2*a,p[a]=this.switchEndianness(this._key.words[m]),d[a]=this.switchEndianness(this._key.words[m+1]),_[this.k64Cnt-1-a]=this.RS_MDS_Encode(p[a],d[a]);for(a=A=0;A<20;a=++A)v=a*r.SK_STEP,t=this.F32(v,p),t+=e=(e=this.F32(v+r.SK_BUMP,d))<<8|e>>>24,this.gSubKeys[2*a]=t,t+=e,this.gSubKeys[2*a+1]=t<<r.SK_ROTL|t>>>32-r.SK_ROTL;for(u=_[0],f=_[1],l=_[2],h=_[3],this.gSBox=[],B=[],a=k=0;k<256;a=++k)n=o=i=s=a,1==(y=3&this.k64Cnt)?(this.gSBox[2*a]=this.gMDS0[255&r.P[r.P_01][n]^this.getByte(u,0)],this.gSBox[2*a+1]=this.gMDS1[255&r.P[r.P_11][o]^this.getByte(u,1)],this.gSBox[2*a+512]=this.gMDS2[255&r.P[r.P_21][i]^this.getByte(u,2)],B.push(this.gSBox[2*a+513]=this.gMDS3[255&r.P[r.P_31][s]^this.getByte(u,3)])):(0===y&&(n=255&r.P[r.P_04][n]^this.getByte(h,0),o=255&r.P[r.P_14][o]^this.getByte(h,1),i=255&r.P[r.P_24][i]^this.getByte(h,2),s=255&r.P[r.P_34][s]^this.getByte(h,3)),0!==y&&3!==y||(n=255&r.P[r.P_03][n]^this.getByte(l,0),o=255&r.P[r.P_13][o]^this.getByte(l,1),i=255&r.P[r.P_23][i]^this.getByte(l,2),s=255&r.P[r.P_33][s]^this.getByte(l,3)),this.gSBox[2*a]=this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(f,0)]^this.getByte(u,0)],this.gSBox[2*a+1]=this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][o]^this.getByte(f,1)]^this.getByte(u,1)],this.gSBox[2*a+512]=this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][i]^this.getByte(f,2)]^this.getByte(u,2)],B.push(this.gSBox[2*a+513]=this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(f,3)]^this.getByte(u,3)]));return B},e.prototype.scrub=function(){return o(this.gSubKeys),o(this.gSBox),this._key.scrub()},e.prototype.decryptBlock=function(t,e){var n,r,o,i,s,a,c,u;for(null==e&&(e=0),a=this.switchEndianness(t[e])^this.gSubKeys[4],c=this.switchEndianness(t[e+1])^this.gSubKeys[5],i=this.switchEndianness(t[e+2])^this.gSubKeys[6],s=this.switchEndianness(t[e+3])^this.gSubKeys[7],n=39,u=0;u<16;u+=2)s^=(r=this.Fe32_0(a))+2*(o=this.Fe32_3(c))+this.gSubKeys[n--],i=(i<<1|i>>>31)^r+o+this.gSubKeys[n--],s=s>>>1|s<<31,c^=(r=this.Fe32_0(i))+2*(o=this.Fe32_3(s))+this.gSubKeys[n--],a=(a<<1|a>>>31)^r+o+this.gSubKeys[n--],c=c>>>1|c<<31;return t[e]=this.switchEndianness(i^this.gSubKeys[0]),t[e+1]=this.switchEndianness(s^this.gSubKeys[1]),t[e+2]=this.switchEndianness(a^this.gSubKeys[2]),t[e+3]=this.switchEndianness(c^this.gSubKeys[3])},e.prototype.encryptBlock=function(t,e){var n,r,o,i,s,a,c,u;for(null==e&&(e=0),i=this.switchEndianness(t[e])^this.gSubKeys[0],s=this.switchEndianness(t[e+1])^this.gSubKeys[1],a=this.switchEndianness(t[e+2])^this.gSubKeys[2],c=this.switchEndianness(t[e+3])^this.gSubKeys[3],n=8,u=0;u<16;u+=2)a=(a^=(r=this.Fe32_0(i))+(o=this.Fe32_3(s))+this.gSubKeys[n++])>>>1|a<<31,c=(c<<1|c>>>31)^r+2*o+this.gSubKeys[n++],i=(i^=(r=this.Fe32_0(a))+(o=this.Fe32_3(c))+this.gSubKeys[n++])>>>1|i<<31,s=(s<<1|s>>>31)^r+2*o+this.gSubKeys[n++];return t[e]=this.switchEndianness(a^this.gSubKeys[4]),t[e+1]=this.switchEndianness(c^this.gSubKeys[5]),t[e+2]=this.switchEndianness(i^this.gSubKeys[6]),t[e+3]=this.switchEndianness(s^this.gSubKeys[7])},e}(t)}).call(this)},5564:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i;o=n(2536),i=Math.pow(2,32),e.fixup_uint32=function(t){var e;return t>i||t<0?(e=Math.abs(t)%i,t<0?i-e:e):t},e.scrub_buffer=function(t){var e,n;for(n=t.length>>2,e=0;e<n;)t.writeUInt32LE(0,e),e+=4;for(;e<t.length;)t.writeUInt8(0,e),e++;return!1},e.copy_buffer=function(t){var e,n,o,i;for(n=r.alloc(t.length),e=o=0,i=t.length;0<=i?o<i:o>i;e=0<=i?++o:--o)n.writeUInt8(t.readUInt8(e),e);return n},e.scrub_vec=function(t){var e,n,r;for(e=n=0,r=t.length;0<=r?n<r:n>r;e=0<=r?++n:--n)t[e]=0;return!1},e.default_delay=t=function(t,e,n){var r,i,s;r=o.findDeferral(arguments),s=function(){return n()},"undefined"!=typeof setImmediate&&null!==setImmediate?function(t){i=new o.Deferrals(t,{parent:r,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setImmediate(i.defer({lineno:45})),i._fulfill()}(s):function(t){i=new o.Deferrals(t,{parent:r,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setTimeout(i.defer({lineno:47}),1),i._fulfill()}(s)},e.buffer_cmp_ule=function(t,e){var n,r,o,i,s,a;for(o=i=0,n=t.length,r=e.length;o<n&&0===t.readUInt8(o);)o++;for(;i<r&&0===e.readUInt8(i);)i++;if(n-o>r-i)return 1;if(r-i>n-o)return-1;for(;o<n;){if((s=t.readUInt8(o))<(a=e.readUInt8(i)))return-1;if(a<s)return 1;o++,i++}return 0},e.bulk=function(e,n,r){var i,s,a,c,u,f,l,h,p,d,y,g,w,b,m,v,_;m=o.findDeferral(arguments),w=n.update,u=n.finalize,a=n.default_n,c=r.delay,h=r.n,s=r.cb,b=r.what,d=r.progress_hook,f=0,l=0,g=Math.ceil(e/4),c||(c=t),h||(h=a),i=function(t){return"function"==typeof d?d({what:b,i:t,total:g}):void 0},i(0),(_=function(t){var e;if(e=function(){return o.trampoline((function(){return _(t)}))},!((l=g-f)>0))return t();p=Math.min(h,l),w(f,f+p),i(f),v=new o.Deferrals((function(){return e(f+=p)}),{parent:m,filename:"/Users/max/src/keybase/triplesec/src/util.iced",funcname:"bulk"}),c(f,g,v.defer({lineno:105})),v._fulfill()})((function(){return i(g),y=u(),s(y)}))}}).call(this)},6557:function(t,e,n){var r=n(8834).lW;(function(){var t,o,i,s,a;a=n(5564),o=function(t){var e,n,r,o;for(n=new Uint8Array(t.length),e=r=0,o=t.length;0<=o?r<o:r>o;e=0<=o?++r:--r)n[e]=t.readUInt8(e);return n},s=function(t){var e,n,o,i;for(n=r.alloc(t.length),e=o=0,i=t.length;0<=i?o<i:o>i;e=0<=i?++o:--o)n.writeUInt8(t[e],e);return n},i=function(t){return t>>>24&255|(t>>>16&255)<<8|(t>>>8&255)<<16|(255&t)<<24},e.WordArray=t=function(){function t(t,e){this.words=t||[],this.sigBytes=null!=e?e:4*this.words.length}return t.prototype.concat=function(t){var e,n,r,o,i;if(o=t.words,r=t.sigBytes,this.clamp(),this.sigBytes%4)for(e=i=0;0<=r?i<r:i>r;e=0<=r?++i:--i)n=o[e>>>2]>>>24-e%4*8&255,this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8;else this.words=this.words.concat(o);return this.sigBytes+=r,this},t.prototype.clamp=function(){return this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t.prototype.to_buffer=function(){var t,e,n,o,i,s,c;for(e=r.alloc(this.sigBytes),n=0,i=0,s=(c=this.words).length;i<s;i++)o=c[i],this.sigBytes-n>=4&&(o=a.fixup_uint32(o),e.writeUInt32BE(o,n),n+=4);for(;n<this.sigBytes;)t=this.words[n>>>2]>>>24-n%4*8&255,e.writeUInt8(t,n),n++;return e},t.prototype.endian_reverse=function(){var t,e,n,r,o;for(t=n=0,r=(o=this.words).length;n<r;t=++n)e=o[t],this.words[t]=i(e);return this},t.prototype.split=function(e){var n,r;if(this.sigBytes%4!=0||this.words.length%e!=0)throw new Error("bad key alignment");return r=this.words.length/e,function(){var e,o,i;for(i=[],n=e=0,o=this.words.length;r>0?e<o:e>o;n=e+=r)i.push(new t(this.words.slice(n,n+r)));return i}.call(this)},t.prototype.to_utf8=function(){return this.to_buffer().toString("utf8")},t.prototype.to_hex=function(){return this.to_buffer().toString("hex")},t.prototype.to_ui8a=function(){return o(this.to_buffer())},t.alloc=function(e){return r.isBuffer(e)?t.from_buffer(e):"object"==typeof e&&e instanceof t?e:"string"==typeof e?t.from_hex(e):null},t.from_buffer=function(e){var n,r,o;for(o=[],r=0;e.length-r>=4;)o.push(e.readUInt32BE(r)),r+=4;if(r<e.length){for(n=0;r<e.length;)n|=e.readUInt8(r)<<24-r%4*8,r++;n=a.fixup_uint32(n),o.push(n)}return new t(o,e.length)},t.from_buffer_le=function(e){var n,r,o;for(o=[],r=0;e.length-r>=4;)o.push(e.readUInt32LE(r)),r+=4;if(r<e.length){for(n=0;r<e.length;)n|=e.readUInt8(r)<<r%4*8,r++;n=a.fixup_uint32(n),o.push(n)}return new t(o,e.length)},t.from_utf8=function(e){return t.from_buffer(r.from(e,"utf8"))},t.from_utf8_le=function(e){return t.from_buffer_le(r.from(e,"utf8"))},t.from_hex=function(e){return t.from_buffer(r.from(e,"hex"))},t.from_hex_le=function(e){return t.from_buffer_le(r.from(e,"hex"))},t.from_ui8a=function(e){return t.from_buffer(s(e))},t.from_i32a=function(e){return new t(Array.apply([],e))},t.prototype.equal=function(t){var e,n,r,o,i,s;if(n=!0,t.sigBytes!==this.sigBytes)n=!1;else for(e=o=0,i=(s=this.words).length;o<i;e=++o)r=s[e],a.fixup_uint32(r)!==a.fixup_uint32(t.words[e])&&(n=!1);return n},t.prototype.xor=function(t,e){var n,r,o,i,s,c;if((n=e.dst_offset)||(n=0),(i=e.src_offset)||(i=0),null==(o=e.n_words)&&(o=t.words.length-i),this.words.length<n+o)throw new Error("dest range exceeded ("+this.words.length+" < "+(n+o)+")");if(t.words.length<i+o)throw new Error("source range exceeded");for(r=c=0;0<=o?c<o:c>o;r=0<=o?++c:--c)s=this.words[n+r]^t.words[i+r],this.words[n+r]=a.fixup_uint32(s);return this},t.prototype.truncate=function(e){var n;if(!(e<=this.sigBytes))throw new Error("Cannot truncate: "+e+" > "+this.sigBytes);return n=Math.ceil(e/4),new t(this.words.slice(0,n),e)},t.prototype.unshift=function(e){var n;return this.words.length>=e?(n=this.words.splice(0,e),this.sigBytes-=4*e,new t(n)):null},t.prototype.is_scrubbed=function(){var t,e,n;for(t=0,e=(n=this.words).length;t<e;t++)if(0!==n[t])return!1;return!0},t.prototype.scrub=function(){return a.scrub_vec(this.words)},t.prototype.cmp_ule=function(t){return a.buffer_cmp_ule(this.to_buffer(),t.to_buffer())},t.prototype.slice=function(e,n){var r,o;if(r=this.words.length,!(e<n&&n<=r))throw new Error("Bad WordArray slice ["+e+","+n+")] when only "+r+" avail");return o=4*(n-e),n===r&&(o-=4*r-this.sigBytes),new t(this.words.slice(e,n),o)},t}(),e.X64Word=function(){function t(t,e){this.high=t,this.low=e}return t.prototype.clone=function(){return new t(this.high,this.low)},t}(),e.X64WordArray=function(){function e(t,e){this.sigBytes=e,this.words=t||[],this.sigBytes||(this.sigBytes=8*this.words.length)}return e.prototype.toX32=function(){var e,n,r,o,i;for(e=[],r=0,o=(i=this.words).length;r<o;r++)n=i[r],e.push(n.high),e.push(n.low);return new t(e,this.sigBytes)},e.prototype.clone=function(){var t;return new e(function(){var e,n,r,o;for(o=[],e=0,n=(r=this.words).length;e<n;e++)t=r[e],o.push(t.clone());return o}.call(this),this.sigBytes)},e}(),e.buffer_to_ui8a=o,e.ui8a_to_buffer=s,e.endian_reverse=i}).call(this)},82:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4895:(t,e,n)=>{"use strict";var r=n(2635),o=n(3138),i=n(2094),s=n(198);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,f=a(Object.prototype.toString),l=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(c)var d=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function w(t){return"[object Map]"===f(t)}function b(t){return"[object Set]"===f(t)}function m(t){return"[object WeakMap]"===f(t)}function v(t){return"[object WeakSet]"===f(t)}function _(t){return"[object ArrayBuffer]"===f(t)}function E(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function x(t){return"[object DataView]"===f(t)}function A(t){return"undefined"!=typeof DataView&&(x.working?x(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=o,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||A(t)},e.isUint8Array=function(t){return"Uint8Array"===i(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===i(t)},e.isUint16Array=function(t){return"Uint16Array"===i(t)},e.isUint32Array=function(t){return"Uint32Array"===i(t)},e.isInt8Array=function(t){return"Int8Array"===i(t)},e.isInt16Array=function(t){return"Int16Array"===i(t)},e.isInt32Array=function(t){return"Int32Array"===i(t)},e.isFloat32Array=function(t){return"Float32Array"===i(t)},e.isFloat64Array=function(t){return"Float64Array"===i(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===i(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===i(t)},w.working="undefined"!=typeof Map&&w(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(w.working?w(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(m.working?m(t):t instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(t){return v(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=E,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=A;var k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(t){return"[object SharedArrayBuffer]"===f(t)}function B(t){return void 0!==k&&(void 0===S.working&&(S.working=S(new k)),S.working?S(t):t instanceof k)}function U(t){return g(t,l)}function P(t){return g(t,h)}function T(t){return g(t,p)}function I(t){return c&&g(t,d)}function O(t){return u&&g(t,y)}e.isSharedArrayBuffer=B,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===f(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===f(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===f(t)},e.isGeneratorObject=function(t){return"[object Generator]"===f(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===f(t)},e.isNumberObject=U,e.isStringObject=P,e.isBooleanObject=T,e.isBigIntObject=I,e.isSymbolObject=O,e.isBoxedPrimitive=function(t){return U(t)||P(t)||T(t)||I(t)||O(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(E(t)||B(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},6246:(t,e,n)=>{var r=n(4406),o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])w(a)||!E(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),o=!0}return t.apply(this,arguments)}};var s={},a=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),h(r,t,r.depth)}function f(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=h(t,o,r)),o}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):w(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),A(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(k(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(A(n))return p(n)}var u,f="",l=!1,E=["{","}"];return y(n)&&(l=!0,E=["[","]"]),k(n)&&(f=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(f=" "+RegExp.prototype.toString.call(n)),x(n)&&(f=" "+Date.prototype.toUTCString.call(n)),A(n)&&(f=" "+p(n)),0!==s.length||l&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=l?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)P(e,String(s))?i.push(d(t,e,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(d(t,e,n,r,o,!0))})),i}(t,n,r,a,s):s.map((function(e){return d(t,n,r,a,e,l)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,f,E)):E[0]+f+E[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),P(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=w(n)?h(t,c.value,null):h(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function w(t){return null===t}function b(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function x(t){return E(t)&&"[object Date]"===S(t)}function A(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function k(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function B(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(a.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(4895),e.isArray=y,e.isBoolean=g,e.isNull=w,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=_,e.types.isRegExp=_,e.isObject=E,e.isDate=x,e.types.isDate=x,e.isError=A,e.types.isNativeError=A,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(82);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[B((t=new Date).getHours()),B(t.getMinutes()),B(t.getSeconds())].join(":"),[t.getDate(),U[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(1285),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=T,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var o=e.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(I.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,o(t)),e}},2094:(t,e,n)=>{"use strict";var r=n(3243),o=n(2191),i=n(9429),s=n(2680),a=n(326),c=s("Object.prototype.toString"),u=n(7226)(),f="undefined"==typeof globalThis?n.g:globalThis,l=o(),h=s("String.prototype.slice"),p=Object.getPrototypeOf,d=s("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},y={__proto__:null};r(l,u&&a&&p?function(t){var e=new f[t];if(Symbol.toStringTag in e){var n=p(e),r=a(n,Symbol.toStringTag);if(!r){var o=p(n);r=a(o,Symbol.toStringTag)}y["$"+t]=i(r.get)}}:function(t){var e=new f[t];y["$"+t]=i(e.slice)}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=h(c(t),8,-1);return d(l,e)>-1?e:"Object"===e&&function(t){var e=!1;return r(y,(function(n,r){if(!e)try{n(t),e=h(r,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return r(y,(function(n,r){if(!e)try{"$"+n(t)===r&&(e=h(r,1))}catch(t){}})),e}(t):null}},2377:(t,e,n)=>{"use strict";t.exports=n(8613)},8613:(t,e)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function o(t,e){return void 0===e&&(e="{$origin}\n{$ttl}\n\n; SOA Record\n{name} {ttl}    IN  SOA {mname}{rname}(\n{serial} ;serial\n{refresh} ;refresh\n{retry} ;retry\n{expire} ;expire\n{minimum} ;minimum ttl\n)\n\n; NS Records\n{ns}\n\n; MX Records\n{mx}\n\n; A Records\n{a}\n\n; AAAA Records\n{aaaa}\n\n; CNAME Records\n{cname}\n\n; PTR Records\n{ptr}\n\n; TXT Records\n{txt}\n\n; SRV Records\n{srv}\n\n; SPF Records\n{spf}\n\n; URI Records\n{uri}\n"),e=function(t,e){var n="";return void 0!==t&&(n+="$ORIGIN "+t),e.replace("{$origin}",n)}(t.$origin,e),e=function(t,e){var n="";return void 0!==t&&(n+="$TTL "+t),e.replace("{$ttl}",n)}(t.$ttl,e),e=function(t,e){var n=e;if(void 0!==t)for(var r in t.name=t.name||"@",t.ttl=t.ttl||"",t)n=n.replace("{"+r+"}",t[r]+"\t");return n}(t.soa,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tNS\t"+s.host+"\n"}return e.replace("{ns}",n)}(t.ns,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tA\t"+s.ip+"\n"}return e.replace("{a}",n)}(t.a,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tAAAA\t"+s.ip+"\n"}return e.replace("{aaaa}",n)}(t.aaaa,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tCNAME\t"+s.alias+"\n"}return e.replace("{cname}",n)}(t.cname,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tMX\t"+s.preference+"\t"+s.host+"\n"}return e.replace("{mx}",n)}(t.mx,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tPTR\t"+s.host+"\n"}return e.replace("{ptr}",n)}(t.ptr,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tTXT\t";var a=s.txt;"string"==typeof a?n+='"'+a+'"':a instanceof Array&&(n+=a.map((function(t){return'"'+t+'"'})).join(" ")),n+="\n"}return e.replace("{txt}",n)}(t.txt,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tSRV\t"+s.priority+"\t",n+=s.weight+"\t",n+=s.port+"\t",n+=s.target+"\n"}return e.replace("{srv}",n)}(t.srv,e),e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tSPF\t"+s.data+"\n"}return e.replace("{spf}",n)}(t.spf,e),(e=function(t,e){e=(e=e.replace("{zone}",t.$origin||!!t.soa&&t.soa.name||"")).replace("{datetime}",(new Date).toISOString());var n=Math.round(Date.now()/1e3);return e.replace("{time}",""+n)}(t,e=function(t,e){var n="";if(t)for(var o,i=r(t);!(o=i()).done;){var s=o.value;n+=(s.name||"@")+"\t",s.ttl&&(n+=s.ttl+"\t"),n+="IN\tURI\t"+s.priority+"\t",n+=s.weight+"\t",n+='"'+s.target+'"\n'}return e.replace("{uri}",n)}(t.uri,e))).replace(/\n{2,}/gim,"\n\n")}function i(t){return function(t){for(var e,n={},o=r(t.split("\n"));!(e=o()).done;){var i=e.value;if(i&&i.trim()){var w=i.toUpperCase();/\s+TXT\s+/.test(w)?(n.txt=n.txt||[],n.txt.push(h(i))):0===w.indexOf("$ORIGIN")?n.$origin=i.split(/\s+/g)[1]:0===w.indexOf("$TTL")?n.$ttl=parseInt(i.split(/\s+/g)[1],10):/\s+SOA\s+/.test(w)?n.soa=s(i):/\s+NS\s+/.test(w)?(n.ns=n.ns||[],n.ns.push(a(i))):/\s+A\s+/.test(w)?(n.a=n.a||[],n.a.push(c(i,n.a))):/\s+AAAA\s+/.test(w)?(n.aaaa=n.aaaa||[],n.aaaa.push(u(i))):/\s+CNAME\s+/.test(w)?(n.cname=n.cname||[],n.cname.push(f(i))):/\s+MX\s+/.test(w)?(n.mx=n.mx||[],n.mx.push(l(i))):/\s+PTR\s+/.test(w)?(n.ptr=n.ptr||[],n.ptr.push(p(i,n.ptr,n.$origin))):/\s+SRV\s+/.test(w)?(n.srv=n.srv||[],n.srv.push(d(i))):/\s+SPF\s+/.test(w)?(n.spf=n.spf||[],n.spf.push(y(i))):/\s+URI\s+/.test(w)&&(n.uri=n.uri||[],n.uri.push(g(i)))}}return n}(t=function(t){for(var e=[],n=/\([\s\S]*?\)/gim,r=n.exec(t);null!==r;){var o=r[0].replace(/\s+/gm," ");e.push({match:r,replacement:o}),r=n.exec(t)}for(var i=t.split(""),s=0,a=e;s<a.length;s++){var c=a[s],u=c.match;i.splice(u.index,u[0].length,c.replacement)}return i.join("").replace(/\(|\)/gim," ")}(t=function(t){return t.replace(/(^|[^\\]);.*/g,(function(t,e){return e||""}))}(t)))}function s(t){var e={},n=t.trim().split(/\s+/g),r=n.length;return e.name=n[0],e.minimum=parseInt(n[r-1],10),e.expire=parseInt(n[r-2],10),e.retry=parseInt(n[r-3],10),e.refresh=parseInt(n[r-4],10),e.serial=parseInt(n[r-5],10),e.rname=n[r-6],e.mname=n[r-7],isNaN(n[1])||(e.ttl=parseInt(n[1],10)),e}function a(t){var e=t.trim().split(/\s+/g),n={name:e[0],host:e[e.length-1]};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function c(t,e){var n=t.trim().split(/\s+/g),r=t.trim().toUpperCase().split(/\s+/g),o={name:n[0],ip:n[n.length-1]};return 0===r.lastIndexOf("A")&&(o.name=e.length?e[e.length-1].name:"@"),isNaN(n[1])||(o.ttl=parseInt(n[1],10)),o}function u(t){var e=t.trim().split(/\s+/g),n={name:e[0],ip:e[e.length-1]};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function f(t){var e=t.trim().split(/\s+/g),n={name:e[0],alias:e[e.length-1]};return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function l(t){var e=t.trim().split(/\s+/g),n=e.length,r={name:e[0],preference:parseInt(e[n-2],10),host:e[n-1]};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function h(t){var e=t.trim().match(/[^\s"']+|"[^"]*"|'[^']*'/g);if(!e)throw new Error("Failure to tokenize TXT record");var n,r=e.length,o=e.indexOf("TXT");function i(t){return t.indexOf('"')>-1&&(t=t.split('"')[1]),t}n=r-o-1>1?[].concat(e.slice(o+1).map(i)):i(e[r-1]);var s={name:e[0],txt:n};return isNaN(e[1])||(s.ttl=parseInt(e[1],10)),s}function p(t,e,n){var r=t.trim().split(/\s+/g);0===t.trim().toUpperCase().split(/\s+/g).lastIndexOf("PTR")&&e[e.length-1]&&r.unshift(e[e.length-1].name);var o={name:r[0],fullname:r[0]+"."+n,host:r[r.length-1]};return isNaN(r[1])||(o.ttl=parseInt(r[1],10)),o}function d(t){var e=t.trim().split(/\s+/g),n=e.length,r={name:e[0],target:e[n-1],priority:parseInt(e[n-4],10),weight:parseInt(e[n-3],10),port:parseInt(e[n-2],10)};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}function y(t){for(var e=t.trim().split(/\s+/g),n={name:e[0],data:""},r=e.length;r-- >4;)n.data=e[r]+" "+n.data.trim();return isNaN(e[1])||(n.ttl=parseInt(e[1],10)),n}function g(t){var e=t.trim().split(/\s+/g),n=e.length,r={name:e[0],target:e[n-1].replace(/"/g,""),priority:parseInt(e[n-3],10),weight:parseInt(e[n-2],10)};return isNaN(e[1])||(r.ttl=parseInt(e[1],10)),r}(function(){var t=function(t){this.jsonZoneFile="object"==typeof t?JSON.parse(JSON.stringify(t)):"string"==typeof t?i(t):void 0}.prototype;t.toJSON=function(){return this.jsonZoneFile},t.toString=function(){return o(this.toJSON())}})(),e.parseZoneFile=i},8764:(t,e,n)=>{"use strict";const r=n(5766),o=n(2333),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=c,e.h2=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=a(n);const o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const o=function(t){if(c.isBuffer(t)){const e=0|d(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),a(t<0?0:0|d(t))}function h(t){const e=t.length<0?0:0|d(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(o)return r?-1:G(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return U(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){let i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(t,i+r)!==u(e,r)){n=!1;break}if(n)return i}return-1}function v(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(J(r))return s;t[n+s]=r}return s}function _(t,e,n,r){return q(G(e,t.length-n),t,n,r)}function E(t,e,n,r){return q(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return q(V(e),t,n,r)}function A(t,e,n,r){return q(function(t,e){let n,r,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(i=c));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return f(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return l(t)},c.allocUnsafeSlow=function(t){return l(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(X(e,Uint8Array))o+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,o){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(i,s),u=this.slice(r,o),f=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==f[t]){i=u[t],s=f[t];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function U(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=Z[t[r]];return o}function I(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,o){$(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function R(t,e,n,r,o){$(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function j(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,i){return e=+e,n>>>=0,i||j(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function H(t,e,n,r,i){return e=+e,n>>>=0,i||j(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Y((function(t){L(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(t){L(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Y((function(t){L(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Y((function(t){L(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||K(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Y((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Y((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const F={};function M(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function z(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function $(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){L(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||K(e,t.length-(n+1))}(r,o,i)}function L(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,n){if(Math.floor(t)!==t)throw L(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=z(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},9314:()=>{},7695:()=>{},1812:()=>{},1516:()=>{},2191:(t,e,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof o[r[e]]&&(t[t.length]=r[e]);return t}}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,o.d(i,s),i},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};return(()=>{"use strict";o.r(i),o.d(i,{DEFAULT_PROFILE:()=>zo,DEFAULT_PROFILE_FILE_NAME:()=>$o,DerivationType:()=>Lr,HARDENED_OFFSET:()=>mn,assertIsTruthy:()=>Or,connectToGaiaHubWithConfig:()=>Rr,createWalletGaiaConfig:()=>Eo,decrypt:()=>Jn,deriveAccount:()=>Zr,deriveConfigPrivateKey:()=>Mr,deriveDataPrivateKey:()=>Jr,deriveLegacyConfigPrivateKey:()=>zr,derivePrivateKeyByType:()=>qr,deriveSalt:()=>$r,deriveStxPrivateKey:()=>Xr,deriveWalletKeys:()=>Fr,encrypt:()=>Zn,encryptWalletConfig:()=>Bo,fetchAccountProfileUrl:()=>Ko,fetchLegacyWalletConfig:()=>lo,fetchProfileFromUrl:()=>Lo,fetchUsernameForAccountByDerivationType:()=>Vr,fetchWalletConfig:()=>Ao,generateNewAccount:()=>uo,generateSecretKey:()=>ao,generateWallet:()=>co,getAccountDisplayName:()=>ri,getAppPrivateKey:()=>oi,getGaiaAddress:()=>vn,getHubInfo:()=>Dr,getOrCreateWalletConfig:()=>xo,getProfileURLFromZoneFile:()=>Cr,getRootNode:()=>_n,getStxAddress:()=>ni,makeAuthResponse:()=>ii,makeGaiaAssociationToken:()=>jr,makeWalletConfig:()=>So,restoreWalletAccounts:()=>Ho,selectStxDerivation:()=>Kr,signAndUploadProfile:()=>Vo,signProfileForUpload:()=>Wo,triplesecDecrypt:()=>Xn,updateWalletConfig:()=>ko,updateWalletConfigWithApp:()=>Uo,uploadProfile:()=>Go,whenChainId:()=>Nr});var t=o(5796),e=o(8050);function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function r(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const s={number:n,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:r,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){r(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},a=("object"==typeof self&&"crypto"in self&&self.crypto,t=>new DataView(t.buffer,t.byteOffset,t.byteLength)),c=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const u=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function f(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function l(t){if("string"==typeof t&&(t=f(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function h(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}class p{clone(){return this._cloneInto()}}function d(t){const e=e=>t().update(l(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class y extends p{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,s.hash(t);const n=l(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return s.exists(this),this.iHash.update(t),this}digestInto(t){s.exists(this),s.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const g=(t,e,n)=>new y(t,e).update(n).digest();g.create=(t,e)=>new y(t,e);class w extends p{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=a(this.buffer)}update(t){s.exists(this);const{view:e,buffer:n,blockLen:r}=this,o=(t=l(t)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=a(t);for(;r<=o-i;i+=r)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){s.exists(this),s.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let t=i;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const c=a(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)c.setUint32(4*t,l[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}const b=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),m=Uint8Array.from({length:16},((t,e)=>e)),v=m.map((t=>(9*t+5)%16));let _=[m],E=[v];for(let t=0;t<4;t++)for(let e of[_,E])e.push(e[t].map((t=>b[t])));const x=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((t=>new Uint8Array(t))),A=_.map(((t,e)=>t.map((t=>x[e][t])))),k=E.map(((t,e)=>t.map((t=>x[e][t])))),S=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),B=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),U=(t,e)=>t<<e|t>>>32-e;function P(t,e,n,r){return 0===t?e^n^r:1===t?e&n|~e&r:2===t?(e|~n)^r:3===t?e&r|n&~r:e^(n|~r)}const T=new Uint32Array(16);class I extends w{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:n,h3:r,h4:o}=this;return[t,e,n,r,o]}set(t,e,n,r,o){this.h0=0|t,this.h1=0|e,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(t,e){for(let n=0;n<16;n++,e+=4)T[n]=t.getUint32(e,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,u=c,f=0|this.h4,l=f;for(let t=0;t<5;t++){const e=4-t,h=S[t],p=B[t],d=_[t],y=E[t],g=A[t],w=k[t];for(let e=0;e<16;e++){const r=U(n+P(t,o,s,c)+T[d[e]]+h,g[e])+f|0;n=f,f=c,c=0|U(s,10),s=o,o=r}for(let t=0;t<16;t++){const n=U(r+P(e,i,a,u)+T[y[t]]+p,w[t])+l|0;r=l,l=u,u=0|U(a,10),a=i,i=n}}this.set(this.h1+s+u|0,this.h2+c+l|0,this.h3+f+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){T.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const O=d((()=>new I)),C=(t,e,n)=>t&e^t&n^e&n,D=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),j=new Uint32Array(64);class N extends w{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)j[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=j[t-15],n=j[t-2],r=c(e,7)^c(e,18)^e>>>3,o=c(n,17)^c(n,19)^n>>>10;j[t]=o+j[t-7]+r+j[t-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:u,H:f}=this;for(let t=0;t<64;t++){const e=f+(c(s,6)^c(s,11)^c(s,25))+((l=s)&a^~l&u)+D[t]+j[t]|0,h=(c(n,2)^c(n,13)^c(n,22))+C(n,r,o)|0;f=u,u=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+h|0}var l;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,r,o,i,s,a,u,f)}roundClean(){j.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class H extends N{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const F=d((()=>new N)),M=(d((()=>new H)),BigInt(2**32-1)),z=BigInt(32);function $(t,e=!1){return e?{h:Number(t&M),l:Number(t>>z&M)}:{h:0|Number(t>>z&M),l:0|Number(t&M)}}const L=function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=$(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]},K=(t,e,n)=>t>>>n,W=(t,e,n)=>t<<32-n|e>>>n,G=(t,e,n)=>t>>>n|e<<32-n,V=(t,e,n)=>t<<32-n|e>>>n,q=(t,e,n)=>t<<64-n|e>>>n-32,X=(t,e,n)=>t>>>n-32|e<<64-n,J=function(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:0|o}},Z=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Y=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Q=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),tt=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,et=(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0,nt=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),[rt,ot]=L(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),it=new Uint32Array(80),st=new Uint32Array(80);class at extends w{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:l,Gh:h,Gl:p,Hh:d,Hl:y}=this;return[t,e,n,r,o,i,s,a,c,u,f,l,h,p,d,y]}set(t,e,n,r,o,i,s,a,c,u,f,l,h,p,d,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|l,this.Gh=0|h,this.Gl=0|p,this.Hh=0|d,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)it[n]=t.getUint32(e),st[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|it[t-15],n=0|st[t-15],r=G(e,n,1)^G(e,n,8)^K(e,n,7),o=V(e,n,1)^V(e,n,8)^W(e,n,7),i=0|it[t-2],s=0|st[t-2],a=G(i,s,19)^q(i,s,61)^K(i,s,6),c=V(i,s,19)^X(i,s,61)^W(i,s,6),u=Q(o,c,st[t-7],st[t-16]),f=tt(u,r,a,it[t-7],it[t-16]);it[t]=0|f,st[t]=0|u}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:f,El:l,Fh:h,Fl:p,Gh:d,Gl:y,Hh:g,Hl:w}=this;for(let t=0;t<80;t++){const e=G(f,l,14)^G(f,l,18)^q(f,l,41),b=V(f,l,14)^V(f,l,18)^X(f,l,41),m=f&h^~f&d,v=nt(w,b,l&p^~l&y,ot[t],st[t]),_=et(v,g,e,m,rt[t],it[t]),E=0|v,x=G(n,r,28)^q(n,r,34)^q(n,r,39),A=V(n,r,28)^X(n,r,34)^X(n,r,39),k=n&o^n&s^o&s,S=r&i^r&a^i&a;g=0|d,w=0|y,d=0|h,y=0|p,h=0|f,p=0|l,({h:f,l}=J(0|c,0|u,0|_,0|E)),c=0|s,u=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const B=Z(E,A,S);n=Y(B,_,x,k),r=0|B}({h:n,l:r}=J(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=J(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=J(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=J(0|this.Dh,0|this.Dl,0|c,0|u)),({h:f,l}=J(0|this.Eh,0|this.El,0|f,0|l)),({h,l:p}=J(0|this.Fh,0|this.Fl,0|h,0|p)),({h:d,l:y}=J(0|this.Gh,0|this.Gl,0|d,0|y)),({h:g,l:w}=J(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,o,i,s,a,c,u,f,l,h,p,d,y,g,w)}roundClean(){it.fill(0),st.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ct extends at{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class ut extends at{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class ft extends at{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const lt=d((()=>new at));d((()=>new ct)),d((()=>new ut)),d((()=>new ft));var ht=o(9314),pt=o.t(ht,2);const dt=BigInt(0),yt=BigInt(1),gt=BigInt(2),wt=BigInt(3),bt=BigInt(8),mt=Object.freeze({a:dt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),vt=(t,e)=>(t+e/gt)/e,_t={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=mt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=vt(i*t,e),c=vt(-r*t,e);let u=Jt(t-a*n-c*o,e),f=Jt(-a*r-c*i,e);const l=u>s,h=f>s;if(l&&(u=e-u),h&&(f=e-f),u>s||f>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:u,k2neg:h,k2:f}}},Et=32,xt=32,At=32,kt=Et+1,St=2*Et+1;function Bt(t){const{a:e,b:n}=mt,r=Jt(t*t),o=Jt(r*t);return Jt(o+e*t+n)}const Ut=mt.a===dt;class Pt extends Error{constructor(t){super(t)}}function Tt(t){if(!(t instanceof It))throw new TypeError("JacobianPoint expected")}class It{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof Dt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Dt.ZERO)?It.ZERO:new It(t.x,t.y,yt)}static toAffineBatch(t){const e=function(t,e=mt.P){const n=new Array(t.length),r=Yt(t.reduce(((t,r,o)=>r===dt?t:(n[o]=t,Jt(t*r,e))),yt),e);return t.reduceRight(((t,r,o)=>r===dt?t:(n[o]=Jt(t*n[o],e),Jt(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return It.toAffineBatch(t).map(It.fromAffine)}equals(t){Tt(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t,a=Jt(r*r),c=Jt(s*s),u=Jt(e*c),f=Jt(o*a),l=Jt(Jt(n*s)*c),h=Jt(Jt(i*r)*a);return u===f&&l===h}negate(){return new It(this.x,Jt(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=Jt(t*t),o=Jt(e*e),i=Jt(o*o),s=t+o,a=Jt(gt*(Jt(s*s)-r-i)),c=Jt(wt*r),u=Jt(c*c),f=Jt(u-gt*a),l=Jt(c*(a-f)-bt*i),h=Jt(gt*e*n);return new It(f,l,h)}add(t){Tt(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t;if(o===dt||i===dt)return this;if(e===dt||n===dt)return t;const a=Jt(r*r),c=Jt(s*s),u=Jt(e*c),f=Jt(o*a),l=Jt(Jt(n*s)*c),h=Jt(Jt(i*r)*a),p=Jt(f-u),d=Jt(h-l);if(p===dt)return d===dt?this.double():It.ZERO;const y=Jt(p*p),g=Jt(p*y),w=Jt(u*y),b=Jt(d*d-g-gt*w),m=Jt(d*(w-b)-l*g),v=Jt(r*s*p);return new It(b,m,v)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=It.ZERO;if("bigint"==typeof t&&t===dt)return e;let n=Xt(t);if(n===yt)return this;if(!Ut){let t=e,r=this;for(;n>dt;)n&yt&&(t=t.add(r)),r=r.double(),n>>=yt;return t}let{k1neg:r,k1:o,k2neg:i,k2:s}=_t.splitScalar(n),a=e,c=e,u=this;for(;o>dt||s>dt;)o&yt&&(a=a.add(u)),s&yt&&(c=c.add(u)),u=u.double(),o>>=yt,s>>=yt;return r&&(a=a.negate()),i&&(c=c.negate()),c=new It(Jt(c.x*_t.beta),c.y,c.z),a.add(c)}precomputeWindow(t){const e=Ut?128/t+1:256/t+1,n=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(t,e){!e&&this.equals(It.BASE)&&(e=Dt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&Ct.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=It.normalizeZ(r),Ct.set(e,r)));let o=It.ZERO,i=It.BASE;const s=1+(Ut?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=f,s>a&&(s-=u,t+=yt);const l=n,h=n+Math.abs(s)-1,p=e%2!=0,d=s<0;0===s?i=i.add(Ot(p,r[l])):o=o.add(Ot(d,r[h]))}return{p:o,f:i}}multiply(t,e){let n,r,o=Xt(t);if(Ut){const{k1neg:t,k1:i,k2neg:s,k2:a}=_t.splitScalar(o);let{p:c,f:u}=this.wNAF(i,e),{p:f,f:l}=this.wNAF(a,e);c=Ot(t,c),f=Ot(s,f),f=new It(Jt(f.x*_t.beta),f.y,f.z),n=c.add(f),r=u.add(l)}else{const{p:t,f:i}=this.wNAF(o,e);n=t,r=i}return It.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,o=this.equals(It.ZERO);null==t&&(t=o?bt:Yt(r));const i=t,s=Jt(i*i),a=Jt(s*i),c=Jt(e*s),u=Jt(n*a),f=Jt(r*i);if(o)return Dt.ZERO;if(f!==yt)throw new Error("invZ was invalid");return new Dt(c,u)}}function Ot(t,e){const n=e.negate();return t?n:e}It.BASE=new It(mt.Gx,mt.Gy,yt),It.ZERO=new It(dt,yt,dt);const Ct=new WeakMap;class Dt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ct.delete(this)}hasEvenY(){return this.y%gt===dt}static fromCompressedHex(t){const e=32===t.length,n=Vt(e?t:t.subarray(1));if(!oe(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=mt,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=Zt(u,wt)*u%e,l=Zt(f,wt)*u%e,h=Zt(l,gt)*c%e,p=Zt(h,r)*h%e,d=Zt(p,o)*p%e,y=Zt(d,s)*d%e,g=Zt(y,a)*y%e,w=Zt(g,s)*d%e,b=Zt(w,wt)*u%e,m=Zt(b,i)*p%e,v=Zt(m,n)*c%e,_=Zt(v,gt);if(_*_%e!==t)throw new Error("Cannot find square root");return _}(Bt(n));const o=(r&yt)===yt;e?o&&(r=Jt(-r)):1==(1&t[0])!==o&&(r=Jt(-r));const i=new Dt(n,r);return i.assertValidity(),i}static fromUncompressedHex(t){const e=Vt(t.subarray(1,Et+1)),n=Vt(t.subarray(Et+1,2*Et+1)),r=new Dt(e,n);return r.assertValidity(),r}static fromHex(t){const e=qt(t),n=e.length,r=e[0];if(n===Et)return this.fromCompressedHex(e);if(n===kt&&(2===r||3===r))return this.fromCompressedHex(e);if(n===St&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${kt} compressed bytes or ${St} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return Dt.BASE.multiply(se(t))}static fromSignature(t,e,n){const{r,s:o}=ce(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=Qt(qt(t)),{n:s}=mt,a=2===n||3===n?r+s:r,c=Yt(a,s),u=Jt(-i*c,s),f=Jt(o*c,s),l=1&n?"03":"02",h=Dt.fromHex(l+$t(a)),p=Dt.BASE.multiplyAndAddUnsafe(h,u,f);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return Gt(this.toHex(t))}toHex(t=!1){const e=$t(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${$t(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!oe(e)||!oe(n))throw new Error(t);const r=Jt(n*n);if(Jt(r-Bt(e))!==dt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Dt(this.x,Jt(-this.y))}double(){return It.fromAffine(this).double().toAffine()}add(t){return It.fromAffine(this).add(It.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return It.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=It.fromAffine(this),o=e===dt||e===yt||this!==Dt.BASE?r.multiplyUnsafe(e):r.multiply(e),i=It.fromAffine(t).multiplyUnsafe(n),s=o.add(i);return s.equals(It.ZERO)?void 0:s.toAffine()}}function Rt(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function jt(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${Mt(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Vt(n),left:t.subarray(e+2)}}Dt.BASE=new Dt(mt.Gx,mt.Gy),Dt.ZERO=new Dt(dt,dt);class Nt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?Mt(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new Nt(Wt(r.slice(0,64)),Wt(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${Mt(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=jt(t.subarray(2)),{data:r,left:o}=jt(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${Mt(o)}`);return{r:e,s:r}}(e?t:Gt(t));return new Nt(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!re(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!re(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=mt.n>>yt;return this.s>t}normalizeS(){return this.hasHighS()?new Nt(this.r,Jt(-this.s,mt.n)):this}toDERRawBytes(){return Gt(this.toDERHex())}toDERHex(){const t=Rt(Kt(this.s)),e=Rt(Kt(this.r)),n=t.length/2,r=e.length/2,o=Kt(n),i=Kt(r);return`30${Kt(r+n+4)}02${i}${e}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Gt(this.toCompactHex())}toCompactHex(){return $t(this.r)+$t(this.s)}}function Ht(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}const Ft=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Mt(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=Ft[t[n]];return e}const zt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function $t(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(dt<=t&&t<zt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Lt(t){const e=Gt($t(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function Kt(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Wt(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Gt(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function Vt(t){return Wt(Mt(t))}function qt(t){return t instanceof Uint8Array?Uint8Array.from(t):Gt(t)}function Xt(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&re(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Jt(t,e=mt.P){const n=t%e;return n>=dt?n:e+n}function Zt(t,e){const{P:n}=mt;let r=t;for(;e-- >dt;)r*=r,r%=n;return r}function Yt(t,e=mt.P){if(t===dt||e<=dt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Jt(t,e),r=e,o=dt,i=yt,s=yt,a=dt;for(;n!==dt;){const t=r/n,e=r%n,c=o-s*t,u=i-a*t;r=n,n=e,o=s,i=a,s=c,a=u}if(r!==yt)throw new Error("invert: does not exist");return Jt(o,e)}function Qt(t,e=!1){const n=function(t){const e=8*t.length-8*xt,n=Vt(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=mt;return n>=r?n-r:n}let te,ee;class ne{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return me.hmacSha256(this.k,...t)}hmacSync(...t){return ee(this.k,...t)}checkSync(){if("function"!=typeof ee)throw new Pt("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Ht(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Ht(...e)}}function re(t){return dt<t&&t<mt.n}function oe(t){return dt<t&&t<mt.P}function ie(t,e,n,r=!0){const{n:o}=mt,i=Qt(t,!0);if(!re(i))return;const s=Yt(i,o),a=Dt.BASE.multiply(i),c=Jt(a.x,o);if(c===dt)return;const u=Jt(s*Jt(e+n*c,o),o);if(u===dt)return;let f=new Nt(c,u),l=(a.x===f.r?0:2)|Number(a.y&yt);return r&&f.hasHighS()&&(f=f.normalizeS(),l^=1),{sig:f,recovery:l}}function se(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*xt)throw new Error("Expected 32 bytes of private key");e=Wt(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==xt)throw new Error("Expected 32 bytes of private key");e=Vt(t)}if(!re(e))throw new Error("Expected private key: 0 < key < n");return e}function ae(t){return t instanceof Dt?(t.assertValidity(),t):Dt.fromHex(t)}function ce(t){if(t instanceof Nt)return t.assertValidity(),t;try{return Nt.fromDER(t)}catch(e){return Nt.fromCompact(t)}}function ue(t,e=!1){return Dt.fromPrivateKey(t).toRawBytes(e)}function fe(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===kt||r===St:n?r===2*kt||r===2*St:t instanceof Dt}function le(t,e,n=!1){if(fe(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!fe(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=ae(e);return r.assertValidity(),r.multiply(se(t)).toRawBytes(n)}function he(t){return Vt(t.length>Et?t.slice(0,Et):t)}function pe(t){const e=he(t),n=Jt(e,mt.n);return de(n<dt?e:n)}function de(t){return Lt(t)}function ye(t,e,n={}){const{seed:r,m:o,d:i}=function(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=qt(t),o=se(e),i=[de(o),pe(r)];if(null!=n){!0===n&&(n=me.randomBytes(Et));const t=qt(n);if(t.length!==Et)throw new Error(`sign: Expected ${Et} bytes of extra data`);i.push(t)}return{seed:Ht(...i),m:he(r),d:o}}(t,e,n.extraEntropy),s=new ne(At,xt);let a;for(s.reseedSync(r);!(a=ie(s.generateSync(),o,i,n.canonical));)s.reseedSync();return function(t,e){const{sig:n,recovery:r}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?n.toDERRawBytes():n.toCompactRawBytes();return i?[s,r]:s}(a,n)}const ge={strict:!0};Dt.BASE._setWindowSize(8);const we={node:pt,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},be={},me={bytesToHex:Mt,hexToBytes:Gt,concatBytes:Ht,mod:Jt,invert:Yt,isValidPrivateKey(t){try{return se(t),!0}catch(t){return!1}},_bigintTo32Bytes:Lt,_normalizePrivateKey:se,hashToPrivateKey:t=>{t=qt(t);const e=xt+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Lt(Jt(Vt(t),mt.n-yt)+yt)},randomBytes:(t=32)=>{if(we.web)return we.web.getRandomValues(new Uint8Array(t));if(we.node){const{randomBytes:e}=we.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>me.hashToPrivateKey(me.randomBytes(xt+8)),precompute(t=8,e=Dt.BASE){const n=e===Dt.BASE?e:new Dt(e.x,e.y);return n._setWindowSize(t),n.multiply(wt),n},sha256:async(...t)=>{if(we.web){const e=await we.web.subtle.digest("SHA-256",Ht(...t));return new Uint8Array(e)}if(we.node){const{createHash:e}=we.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(we.web){const n=await we.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Ht(...e),o=await we.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(we.node){const{createHmac:n}=we.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=be[t];if(void 0===n){const e=await me.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=Ht(e,e),be[t]=n}return me.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof te)throw new Pt("sha256Sync is undefined, you need to set it");let n=be[t];if(void 0===n){const e=te(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=Ht(e,e),be[t]=n}return te(n,...e)},_JacobianPoint:It};function ve(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function _e(...t){const e=(t,e)=>n=>t(e(n));return{encode:Array.from(t).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),decode:t.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0)}}function Ee(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(ve(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const n=t.indexOf(e);if(-1===n)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return n}))}}}function xe(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function Ae(t,e="="){if(ve(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function ke(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function Se(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const o=[],i=Array.from(t);for(i.forEach((t=>{if(ve(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=e*t+a;if(!Number.isSafeInteger(c)||e*t/e!==t||c-a!=e*t)throw new Error("convertRadix: carry overflow");if(t=c%n,i[o]=Math.floor(c/n),!Number.isSafeInteger(i[o])||i[o]*n+t!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(t),s)break}for(let e=0;e<t.length-1&&0===t[e];e++)o.push(0);return o.reverse()}Object.defineProperties(me,{sha256Sync:{configurable:!1,get:()=>te,set(t){te||(te=t)}},hmacSha256Sync:{configurable:!1,get:()=>ee,set(t){ee||(ee=t)}}});const Be=(t,e)=>e?Be(e,t%e):t,Ue=(t,e)=>t+(e-Be(t,e));function Pe(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Ue(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Ue(e,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const r of t){if(ve(r),r>=2**e)throw new Error(`convertRadix2: invalid data word=${r} from=${e}`);if(o=o<<e|r,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=e)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function Te(t,e=!1){if(ve(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Ue(8,t)>32||Ue(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Pe(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Pe(n,t,8,e))}}}function Ie(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}_e(Te(4),Ee("0123456789ABCDEF"),xe("")),_e(Te(5),Ee("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ae(5),xe("")),_e(Te(5),Ee("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ae(5),xe("")),_e(Te(5),Ee("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),xe(""),ke((t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),_e(Te(6),Ee("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ae(6),xe("")),_e(Te(6),Ee("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ae(6),xe(""));const Oe=t=>{return _e((ve(e=58),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Se(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Se(t,e,256))}}),Ee(t),xe(""));var e},Ce=Oe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),De=(Oe("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Oe("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),_e(Ee("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),xe(""))),Re=[996825010,642813549,513874426,1027748829,705979059];function je(t){const e=t>>25;let n=(33554431&t)<<5;for(let t=0;t<Re.length;t++)1==(e>>t&1)&&(n^=Re[t]);return n}function Ne(t,e,n=1){const r=t.length;let o=1;for(let e=0;e<r;e++){const n=t.charCodeAt(e);if(n<33||n>126)throw new Error(`Invalid prefix (${t})`);o=je(o)^n>>5}o=je(o);for(let e=0;e<r;e++)o=je(o)^31&t.charCodeAt(e);for(let t of e)o=je(o)^t;for(let t=0;t<6;t++)o=je(o);return o^=n,De.encode(Pe([o%2**30],30,5,!1))}function He(t){const e="bech32"===t?1:734539939,n=Te(5),r=n.decode,o=n.encode,i=Ie(r);function s(t,n=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==n&&t.length>n)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${n})`);const r=t.toLowerCase();if(t!==r&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(t=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=t.slice(0,o),s=t.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=De.decode(s).slice(0,-6),c=Ne(i,a,e);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${t}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(t,n,r=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=t.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${t=t.toLowerCase()}1${De.encode(n)}${Ne(t,n,e)}`},decode:s,decodeToBytes:function(t){const{prefix:e,words:n}=s(t,!1);return{prefix:e,words:n,bytes:r(n)}},decodeUnsafe:Ie(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}He("bech32"),He("bech32m");_e(Te(4),Ee("0123456789abcdef"),xe(""),ke((t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}))),me.hmacSha256Sync=(t,...e)=>g(F,t,me.concatBytes(...e));const Fe=(Me=F,_e(function(t,e){if(ve(t),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=e(n).slice(0,t),o=new Uint8Array(n.length+t);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-t),o=e(r).slice(0,t),i=n.slice(-t);for(let e=0;e<t;e++)if(o[e]!==i[e])throw new Error("Invalid checksum");return r}}}(4,(t=>Me(Me(t)))),Ce));var Me;function ze(t){return BigInt(`0x${function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=u[t[n]];return e}(t)}`)}const $e=f("Bitcoin seed"),Le={private:76066276,public:76067358},Ke=2147483648,We=t=>{if(!Number.isSafeInteger(t)||t<0||t>2**32-1)throw new Error(`Invalid number=${t}. Should be from 0 to 2 ** 32 - 1`);const e=new Uint8Array(4);return a(e).setUint32(0,t,!1),e};class Ge{constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||Le,this.depth=t.depth||0,this.chainCode=t.chainCode,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!me.isValidPrivateKey(t.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof t.privateKey?t.privateKey:ze(t.privateKey),this.privKeyBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}(this.privKey.toString(16).padStart(64,"0")),this.pubKey=ue(t.privateKey,!0)}else{if(!t.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Dt.fromHex(t.publicKey).toRawBytes(!0)}var e;this.pubHash=(e=this.pubKey,O(F(e)))}get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return t=this.pubHash,a(t).getUint32(0,!1);var t}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const t=this.privateKey;if(!t)throw new Error("No private key");return Fe.encode(this.serialize(this.versions.private,h(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Fe.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,e=Le){if(r(t),8*t.length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=g(lt,$e,t);return new Ge({versions:e,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(t,e=Le){const n=Fe.decode(t),r=a(n),o=r.getUint32(0,!1),i={versions:e,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),c=0===s[0];if(o!==e[c?"private":"public"])throw new Error("Version mismatch");return new Ge(c?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(t){return Ge.fromExtendedKey(t.xpriv)}derive(t){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const e=t.replace(/^[mM]'?\//,"").split("/");let n=this;for(const t of e){const e=/^(\d+)('?)$/.exec(t);if(!e||3!==e.length)throw new Error(`Invalid child index: ${t}`);let r=+e[1];if(!Number.isSafeInteger(r)||r>=Ke)throw new Error("Invalid index");"'"===e[2]&&(r+=Ke),n=n.deriveChild(r)}return n}deriveChild(t){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let e=We(t);if(t>=Ke){const t=this.privateKey;if(!t)throw new Error("Could not derive hardened child key");e=h(new Uint8Array([0]),t,e)}else e=h(this.pubKey,e);const n=g(lt,this.chainCode,e),r=ze(n.slice(0,32)),o=n.slice(32);if(!me.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const i={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){const t=me.mod(this.privKey+r,mt.n);if(!me.isValidPrivateKey(t))throw new Error("The tweak was out of range or the resulted private key is invalid");i.privateKey=t}else{const t=Dt.fromHex(this.pubKey).add(Dt.fromPrivateKey(r));if(t.equals(Dt.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");i.publicKey=t.toRawBytes(!0)}return new Ge(i)}catch(e){return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw new Error("No privateKey set!");return r(t,32),ye(t,this.privKey,{canonical:!0,der:!1})}verify(t,e){if(r(t,32),r(e,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Nt.fromCompact(e)}catch(t){return!1}return function(t,e,n,r=ge){let o;try{o=ce(t),e=qt(e)}catch(t){return!1}const{r:i,s}=o;if(r.strict&&o.hasHighS())return!1;const a=Qt(e);let c;try{c=ae(n)}catch(t){return!1}const{n:u}=mt,f=Yt(s,u),l=Jt(a*f,u),h=Jt(i*f,u),p=Dt.BASE.multiplyAndAddUnsafe(c,l,h);return!!p&&Jt(p.x,u)===i}(n,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,e){if(!this.chainCode)throw new Error("No chainCode set");return r(e,33),h(We(t),new Uint8Array([this.depth]),We(this.parentFingerprint),We(this.index),this.chainCode,e)}}function Ve(){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}const qe=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Xe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const n of t)e+=qe[n];return e}function Je(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);const e=t.length%2?`0${t}`:t,n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n}function Ze(t){return(new TextEncoder).encode(t)}function Ye(t){return(new TextDecoder).decode(t)}function Qe(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}function tn(t){const e="string"==typeof t?Je(t):t;if(32!=e.length&&33!=e.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}var en,nn,rn;!function(t){t[t.Testnet=2147483648]="Testnet",t[t.Mainnet=1]="Mainnet"}(en||(en={})),function(t){t[t.Mainnet=0]="Mainnet",t[t.Testnet=128]="Testnet"}(nn||(nn={})),function(t){t[t.Mainnet=385875968]="Mainnet",t[t.Testnet=4278190080]="Testnet"}(rn||(rn={}));const on=33;var sn=o(7022),an=o.n(sn);const cn='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function un(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:o(1516),name:"nodeCrypto"}}catch(t){throw new Error(cn)}}class fn{constructor(t){this.createHash=t}async digest(t,e="sha256"){try{const n=this.createHash(e).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${e} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve("sha256"===e?pn(t):dn(t))}}}class ln{constructor(t){this.subtleCrypto=t}async digest(t,e="sha256"){let n;if("sha256"===e)n="SHA-256";else{if("sha512"!==e)throw new Error(`Unsupported hash algorithm ${e}`);n="SHA-512"}try{const e=await this.subtleCrypto.digest(n,t);return new Uint8Array(e)}catch(n){return console.log(n),console.log(`Error performing ${e} digest with WebCrypto, falling back to JS implementation.`),Promise.resolve("sha256"===e?pn(t):dn(t))}}}async function hn(){const t=await un();return"subtleCrypto"===t.name?new ln(t.lib):new fn(t.lib.createHash)}function pn(t){return F(t)}function dn(t){return lt(t)}const yn=0;function gn(t,e=yn){var n;return function(t,e){return function(t){const e=F(F(t));return an().encode(Qe(t,e).slice(0,t.length+4))}(Qe(new Uint8Array([t]),e.slice(0,20)))}(e,(n=pn("string"==typeof t?Je(t):t),O(n)))}function wn(t){return Xe(ue(tn(t).slice(0,32),!0))}function bn(t){const e=tn(t);return e.length==on?e:Qe(e,new Uint8Array([1]))}me.hmacSha256Sync=(t,...e)=>{const n=g.create(F,t);return e.forEach((t=>n.update(t))),n.digest()};const mn=2147483648,vn=t=>gn(wn(t.dataPrivateKey)),_n=t=>Ge.fromExtendedKey(t.rootKey),En=(t=32)=>me.randomBytes(t);class xn{constructor(t,e){this.createCipher=t,this.createDecipher=e}async encrypt(t,e,n,r){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const o=this.createCipher(t,e,n),i=new Uint8Array(Qe(o.update(r),o.final()));return Promise.resolve(i)}async decrypt(t,e,n,r){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const o=this.createDecipher(t,e,n),i=new Uint8Array(Qe(o.update(r),o.final()));return Promise.resolve(i)}}class An{constructor(t){this.subtleCrypto=t}async encrypt(t,e,n,r){let o,i;if("aes-128-cbc"===t)o="AES-CBC",i=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["encrypt"]),a=await this.subtleCrypto.encrypt({name:o,iv:n},s,r);return new Uint8Array(a)}async decrypt(t,e,n,r){let o,i;if("aes-128-cbc"===t)o="AES-CBC",i=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["decrypt"]),a=await this.subtleCrypto.decrypt({name:o,iv:n},s,r);return new Uint8Array(a)}}async function kn(){const t=await un();return"subtleCrypto"===t.name?new An(t.lib):new xn(t.lib.createCipheriv,t.lib.createDecipheriv)}class Sn{constructor(t){this.nodePbkdf2=t}async derive(t,e,n,r,o){if("sha512"!==o&&"sha256"!==o)throw new Error(`Unsupported digest "${o}" for Pbkdf2`);return new Promise(((i,s)=>{this.nodePbkdf2(t,e,n,r,o,((t,e)=>{t&&s(t),i(e)}))}))}}class Bn{constructor(t){this.subtleCrypto=t}async derive(t,e,n,r,o){let i;if("sha256"===o)i="SHA-256";else{if("sha512"!==o)throw new Error(`Unsupported Pbkdf2 digest algorithm "${o}"`);i="SHA-512"}const s=Ze(t);try{const t=await this.subtleCrypto.importKey("raw",s,"PBKDF2",!1,["deriveBits"]),o=await this.subtleCrypto.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,8*r);return new Uint8Array(o)}catch(i){return new Un(this.subtleCrypto).derive(t,e,n,r,o)}}}class Un{constructor(t){this.subtleCrypto=t}async derive(t,e,n,r,o){if("sha512"!==o&&"sha256"!==o)throw new Error(`Unsupported digest "${o}" for Pbkdf2`);const i=Ze(t),s={name:"HMAC",hash:"sha512"===o?"SHA-512":"SHA-256"},a=(t,e)=>this.subtleCrypto.importKey("raw",t,s,!0,["sign"]).then((t=>this.subtleCrypto.sign(s,t,e))).then((t=>new Uint8Array(t))),c=new Uint8Array(r),u=e.length,f=new Uint8Array(u+4);f.set(e);let l=0;const h="sha512"===o?64:32,p=Math.ceil(r/h);for(let t=1;t<=p;t++){y=t,(d=f)[(g=u)+3]=y,y>>>=8,d[g+2]=y,y>>>=8,d[g+1]=y,y>>>=8,d[g]=y;const e=await a(i,f);let r=e;for(let t=1;t<n;t++){r=await a(i,r);for(let t=0;t<h;t++)e[t]^=r[t]}c.set(e.subarray(0,c.byteLength-l),l),l+=h}var d,y,g;return c}}async function Pn(){const t=await un();return"subtleCrypto"===t.name?new Bn(t.lib):new Sn(t.lib.pbkdf2)}const Tn={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(Tn);class In extends Error{constructor(t){super();let e=t.message,n=`Error Code: ${t.code}`,r=this.stack;if(r)n+=`Stack Trace:\n${r}`;else try{throw new Error}catch(t){r=t.stack}e+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${n}`,this.message=e,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class On extends In{constructor(t="Unable to decrypt cipher object."){super({code:Tn.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}}class Cn extends In{constructor(t,e){super(t),e&&(this.hubError={statusCode:e.status,statusText:e.statusText},"string"==typeof e.body?this.hubError.message=e.body:"object"==typeof e.body&&Object.assign(this.hubError,e.body))}}class Dn extends Cn{constructor(t,e){super({message:t,code:Tn.DOES_NOT_EXIST},e),this.name="DoesNotExist"}}class Rn extends Cn{constructor(t,e){super({message:t,code:Tn.CONFLICT_ERROR},e),this.name="ConflictError"}}class jn extends Cn{constructor(t,e){super({message:t,code:Tn.NOT_ENOUGH_PROOF_ERROR},e),this.name="NotEnoughProofError"}}class Nn extends Cn{constructor(t,e){super({message:t,code:Tn.BAD_PATH_ERROR},e),this.name="BadPathError"}}class Hn extends Cn{constructor(t,e){super({message:t,code:Tn.VALIDATION_ERROR},e),this.name="ValidationError"}}class Fn extends Cn{constructor(t,e,n){super({message:t,code:Tn.PAYLOAD_TOO_LARGE_ERROR},e),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}}class Mn extends Cn{constructor(t,e){super({message:t,code:Tn.PRECONDITION_FAILED_ERROR},e),this.name="PreconditionFailedError"}}var zn,$n=o(5766);function Ln(t,e){return g(F,t,e)}function Kn(t){const e=dn(t);return{encryptionKey:e.slice(0,32),hmacKey:e.slice(32)}}async function Wn(t,e,n,r){const o=function(t){const e={result:!1,reason_data:"Invalid public key format",reason:zn.InvalidFormat},n={result:!1,reason_data:"Public key is not a point",reason:zn.IsNotPoint};if(66!==t.length&&130!==t.length)return e;const r=t.slice(0,2);if(130===t.length&&"04"!==r)return e;if(66===t.length&&"02"!==r&&"03"!==r)return e;if(null===t.match(/^[0-9a-f]+$/i))return e;try{return Dt.fromHex(t).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(t){return n}}(t);if(!o.result)throw o;const i=me.randomPrivateKey(),s=ue(i,!0);let a=le(i,t,!0);a=a.slice(1);const c=Kn(a),u=me.randomBytes(16),f=await async function(t,e,n){const r=await kn();return await r.encrypt("aes-256-cbc",e,t,n)}(u,c.encryptionKey,e),l=Qe(u,s,f),h=Ln(c.hmacKey,l);let p;if(r&&"hex"!==r){if("base64"!==r)throw new Error(`Unexpected cipherTextEncoding "${r}"`);p=(0,$n.fromByteArray)(f)}else p=Xe(f);const d={iv:Xe(u),ephemeralPK:Xe(s),cipherText:p,mac:Xe(h),wasString:n};return r&&"hex"!==r&&(d.cipherTextEncoding=r),d}me.hmacSha256Sync=(t,...e)=>{const n=g.create(F,t);return e.forEach((t=>n.update(t))),n.digest()},function(t){t.InvalidFormat="InvalidFormat",t.IsNotPoint="IsNotPoint"}(zn||(zn={}));class Gn extends Error{}var Vn=o(7568),qn=o(8764).lW;function Xn(t,e){if(void 0===qn)throw Error("Using triplesec currently requires polyfilling `Buffer`");const n={data:qn.from(t.data),key:qn.from(t.key)};return Vn.decrypt(n,((t,n)=>e(t,n?new Uint8Array(n.buffer):null)))}function Jn(n,r){return async function(n,r,o){const i="string"==typeof n?Je(n):n;try{return await async function(n,r){const o=n.slice(0,16),i=n.slice(16,48),s=n.slice(48),a=Qe(o,s),c=await Pn(),u=await c.derive(r,o,1e5,48,"sha512"),f=u.slice(0,16),l=u.slice(16,32),h=u.slice(32,48),p=await kn(),d=await p.decrypt("aes-128-cbc",f,h,s),y=Ln(l,a),g=await hn();if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(await g.digest(i),await g.digest(y)))throw new Gn("Wrong password (HMAC mismatch)");let w;try{w=(0,t.JJ)(d,e.U)}catch(t){throw console.error("Error thrown by `entropyToMnemonic`"),console.error(t),new Gn("Wrong password (invalid plaintext)")}if(!(0,t._I)(w,e.U))throw new Gn("Wrong password (invalid plaintext)");return w}(i,r)}catch(t){if(t instanceof Gn)throw t;const e=await function(t,e,n){return new Promise(((r,o)=>{n||o(new Error("The `triplesec.decrypt` function must be provided")),n({key:Ze(e),data:t},((t,e)=>{t?o(t):r(e)}))}))}(i,r,o);return Ye(e)}}(n,r,Xn)}function Zn(n,r){return async function(n,r,o){let i;try{i=Xe((0,t.oy)(n,e.U))}catch(t){throw console.error("Invalid mnemonic phrase provided"),console.error(t),new Error("Not a valid bip39 mnemonic")}const s=Je(i),a=await Pn(),c=En(16),u=await a.derive(r,c,1e5,48,"sha512"),f=u.slice(0,16),l=u.slice(16,32),h=u.slice(32,48),p=await kn(),d=await p.encrypt("aes-128-cbc",f,h,s),y=Qe(c,d);return Qe(c,Ln(l,y),d)}(n,r)}o(3616);const Yn={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function Qn(t,e){const n={};return Object.assign(n,Yn,e),await fetch(t,n)}function tr(...t){const{fetchLib:e,middlewares:n}=function(t){let e=Qn,n=[];return t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n}}(t);return async(t,r)=>{let o={url:t,init:r??{}};for(const t of n)"function"==typeof t.pre&&(o=await Promise.resolve(t.pre({fetch:e,...o}))??o);let i=await e(o.url,o.init);for(const t of n)if("function"==typeof t.post){const n=await Promise.resolve(t.post({fetch:e,url:o.url,init:o.init,response:i?.clone()??i}));i=n??i}return i}}const er=["mainnet","testnet","devnet","mocknet"];class nr{constructor(t){this.version=nn.Mainnet,this.chainId=en.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===nn.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=t=>`${this.coreApiUrl}${this.accountEndpoint}/${t}?proof=0`,this.getAccountExtendedBalancesApiUrl=t=>`${this.coreApiUrl}/extended/v1/address/${t}/balances`,this.getAbiApiUrl=(t,e)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${t}/${e}`,this.getReadOnlyFunctionCallApiUrl=(t,e,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${t}/${e}/${encodeURIComponent(n)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getRewardsTotalUrl=t=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}/total`,this.getRewardHoldersUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getStackerInfoUrl=(t,e)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${t}/${e}/get-stacker-info`,this.getDataVarUrl=(t,e,n)=>`${this.coreApiUrl}/v2/data_var/${t}/${e}/${n}?proof=0`,this.getMapEntryUrl=(t,e,n)=>`${this.coreApiUrl}/v2/map_entry/${t}/${e}/${n}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??tr()}getNameInfo(t){const e=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(e).then((t=>{if(404===t.status)throw new Error("Name not found");if(200!==t.status)throw new Error(`Bad response status: ${t.status}`);return t.json()})).then((t=>t.address?Object.assign({},t,{address:t.address}):t))}}nr.fromName=t=>{switch(t){case"mainnet":return new rr;case"testnet":return new or;case"devnet":return new sr;case"mocknet":return new ir;default:throw new Error(`Invalid network name provided. Must be one of the following: ${er.join(", ")}`)}},nr.fromNameOrNetwork=t=>"string"!=typeof t&&"version"in t?t:nr.fromName(t);class rr extends nr{constructor(t){super({url:t?.url??"https://api.mainnet.hiro.so",fetchFn:t?.fetchFn}),this.version=nn.Mainnet,this.chainId=en.Mainnet}}class or extends nr{constructor(t){super({url:t?.url??"https://api.testnet.hiro.so",fetchFn:t?.fetchFn}),this.version=nn.Testnet,this.chainId=en.Testnet}}class ir extends nr{constructor(t){super({url:t?.url??"http://localhost:3999",fetchFn:t?.fetchFn}),this.version=nn.Testnet,this.chainId=en.Testnet}}const sr=ir;var ar,cr,ur,fr,lr,hr,pr=o(2870);!function(t){t[t.Testnet=2147483648]="Testnet",t[t.Mainnet=1]="Mainnet"}(ar||(ar={})),ar.Mainnet,(hr=cr||(cr={}))[hr.Address=0]="Address",hr[hr.Principal=1]="Principal",hr[hr.LengthPrefixedString=2]="LengthPrefixedString",hr[hr.MemoString=3]="MemoString",hr[hr.AssetInfo=4]="AssetInfo",hr[hr.PostCondition=5]="PostCondition",hr[hr.PublicKey=6]="PublicKey",hr[hr.LengthPrefixedList=7]="LengthPrefixedList",hr[hr.Payload=8]="Payload",hr[hr.MessageSignature=9]="MessageSignature",hr[hr.StructuredDataSignature=10]="StructuredDataSignature",hr[hr.TransactionAuthField=11]="TransactionAuthField",function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.VersionedSmartContract=6]="VersionedSmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t[t.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"}(ur||(ur={})),function(t){t[t.Clarity1=1]="Clarity1",t[t.Clarity2=2]="Clarity2"}(fr||(fr={})),function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"}(lr||(lr={}));var dr,yr,gr,wr,br,mr,vr,_r,Er,xr,Ar,kr,Sr;lr.OnChainOnly,lr.OffChainOnly,lr.Any,lr.OnChainOnly,lr.OnChainOnly,lr.OffChainOnly,lr.OffChainOnly,lr.Any,lr.Any,function(t){t[t.Mainnet=0]="Mainnet",t[t.Testnet=128]="Testnet"}(dr||(dr={})),dr.Mainnet,function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(yr||(yr={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(gr||(gr={})),function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"}(wr||(wr={})),function(t){t[t.SerializeP2PKH=0]="SerializeP2PKH",t[t.SerializeP2SH=1]="SerializeP2SH",t[t.SerializeP2WPKH=2]="SerializeP2WPKH",t[t.SerializeP2WSH=3]="SerializeP2WSH"}(br||(br={})),function(t){t[t.MainnetSingleSig=22]="MainnetSingleSig",t[t.MainnetMultiSig=20]="MainnetMultiSig",t[t.TestnetSingleSig=26]="TestnetSingleSig",t[t.TestnetMultiSig=21]="TestnetMultiSig"}(mr||(mr={})),(Sr=vr||(vr={}))[Sr.Compressed=0]="Compressed",Sr[Sr.Uncompressed=1]="Uncompressed",function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"}(_r||(_r={})),function(t){t[t.Sends=16]="Sends",t[t.DoesNotSend=17]="DoesNotSend"}(Er||(Er={})),function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"}(xr||(xr={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(Ar||(Ar={})),function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.TooMuchChaining="TooMuchChaining",t.ConflictingNonceInMempool="ConflictingNonceInMempool",t.BadTransactionVersion="BadTransactionVersion",t.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",t.TransferAmountMustBePositive="TransferAmountMustBePositive",t.ServerFailureDatabase="ServerFailureDatabase",t.EstimatorError="EstimatorError",t.TemporarilyBlacklisted="TemporarilyBlacklisted",t.ServerFailureOther="ServerFailureOther"}(kr||(kr={})),o(9907);const Br=t=>Xe((t=>O(F(t)))(t));function Ur(t,e=dr.Mainnet){return function(t,e=dr.Mainnet){t="string"==typeof t?t:Xe(t);const n=function(t,e){switch(t){case br.SerializeP2PKH:switch(e){case dr.Mainnet:return mr.MainnetSingleSig;case dr.Testnet:return mr.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}case br.SerializeP2SH:case br.SerializeP2WPKH:case br.SerializeP2WSH:switch(e){case dr.Mainnet:return mr.MainnetMultiSig;case dr.Testnet:return mr.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(t)}`)}}(br.SerializeP2PKH,e);var r,o,i;return i=(r=n,o=Br(Je(t)),{type:cr.Address,version:r,hash160:o}),(0,pr.H4)(i.version,i.hash160)}(function(t){const e=function(t){const e=tn(t);return{data:e,compressed:e.length==on}}(t);return n=Xe(ue(e.data.slice(0,32),e.compressed)),{type:cr.PublicKey,data:Je(n)};var n}(t).data,e)}me.hmacSha256Sync=(t,...e)=>{const n=g.create(F,t);return e.forEach((t=>n.update(t))),n.digest()};const Pr=async(t,e)=>{try{const n=await e.fetchFn(`${e.bnsLookupUrl}/v1/addresses/stacks/${t}`),r=await n.json();if((r.names.length||0)>0)return r.names[0]}catch(t){}};var Tr=o(7474),Ir=o(2377);function Or(t){if(!t)throw new Error(`expected: true, actual: ${t}`)}const Cr=async(t,e=tr())=>{var n,r;const o=`https://api.hiro.so/v1/names/${t}`,i=await e(o);if(i.ok){const t=await i.json(),e=null==(r=null==(n=(0,Ir.parseZoneFile)(t.zonefile).uri)?void 0:n[0])?void 0:r.target;if(e)return e;throw new Error(`No zonefile uri found: ${t.zonefile}`)}},Dr=async(t,e=tr())=>{const n=await e(`${t}/hub_info`);return await n.json()},Rr=({hubInfo:t,privateKey:e,gaiaHubUrl:n})=>{const r=t.read_url_prefix,o=(({hubInfo:t,privateKey:e,gaiaHubUrl:n})=>{const r=t.challenge_text,o={gaiaHubUrl:n,iss:wn(e),salt:Xe(En(16))};return r&&(o.gaiaChallenge=r),`v1:${new Tr.TokenSigner("ES256K",e).sign(o)}`})({hubInfo:t,privateKey:e,gaiaHubUrl:n});return{url_prefix:r,max_file_upload_size_megabytes:100,address:gn(wn(e)),token:o,server:n}},jr=({privateKey:t,childPublicKeyHex:e})=>{const n=t.slice(0,64),r=wn(n),o=Xe(En(16)),i={childToAssociate:e,iss:r,exp:31536e3+(new Date).getTime()/1e3,iat:Date.now()/1e3,salt:o};return new Tr.TokenSigner("ES256K",n).sign(i)};function Nr(t){return e=>e[t]}const Hr="m/888'/0'",Fr=async t=>(Or(t.privateKey),{salt:await $r(t),rootKey:t.privateExtendedKey,configPrivateKey:Xe(Mr(t))}),Mr=t=>{const e=t.derive("m/44/5757'/0'/1").privateKey;if(!e)throw new TypeError("Unable to derive config key for wallet identities");return e},zr=t=>{const e=t.deriveChild(45+mn).privateKey;if(!e)throw new TypeError("Unable to derive config key for wallet identities");return Xe(e)},$r=async t=>{const e=Ze(Xe(t.derive(Hr).publicKey)),n=await hn();return Xe(await n.digest(e,"sha256"))};var Lr=(t=>(t[t.Wallet=0]="Wallet",t[t.Data=1]="Data",t[t.Unknown=2]="Unknown",t))(Lr||{});const Kr=async({username:t,rootNode:e,index:n,network:r})=>{if(t)return{username:t,stxDerivationType:await Wr({username:t,rootNode:e,index:n,network:r})};{const{username:t,derivationType:o}=await Gr({rootNode:e,index:n,network:r});return{username:t,stxDerivationType:o}}},Wr=async({username:t,rootNode:e,index:n,network:r})=>{if(r){const o=await r.getNameInfo(t);let i=Xr({rootNode:e,index:n}),s=Ur(i);return s!==o.address?(i=Jr({rootNode:e,index:n}),s=Ur(i),s!==o.address?2:1):0}return 2},Gr=async({rootNode:t,index:e,network:n})=>{if(n){const r=Nr(n.chainId)({[en.Mainnet]:nn.Mainnet,[en.Testnet]:nn.Testnet}),o=Ur(Xr({rootNode:t,index:e}),r);let i=await Pr(o,n);if(i)return{username:i,derivationType:0};{const o=Ur(Jr({rootNode:t,index:e}),r);if(i=await Pr(o,n),i)return{username:i,derivationType:1}}}return{username:void 0,derivationType:0}},Vr=async({rootNode:t,index:e,derivationType:n,network:r})=>{const o=null!=r?r:new rr,i=Nr(o.chainId)({[en.Mainnet]:nn.Mainnet,[en.Testnet]:nn.Testnet}),s=Ur(qr({rootNode:t,index:e,derivationType:n}),i);return{username:await Pr(s,o)}},qr=({rootNode:t,index:e,derivationType:n})=>0===n?Xr({rootNode:t,index:e}):Jr({rootNode:t,index:e}),Xr=({rootNode:t,index:e})=>{const n=t.derive("m/44'/5757'/0'/0").deriveChild(e);return Or(n.privateKey),Xe(bn(n.privateKey))},Jr=({rootNode:t,index:e})=>{const n=t.derive(Hr).deriveChild(e+mn);return Or(n.privateKey),Xe(bn(n.privateKey))},Zr=({rootNode:t,index:e,salt:n,stxDerivationType:r})=>{const o=0===r?Xr({rootNode:t,index:e}):Jr({rootNode:t,index:e}),i=t.derive(Hr).deriveChild(e+mn);if(!i.privateKey)throw new Error("Must have private key to derive identities");return{stxPrivateKey:o,dataPrivateKey:Xe(i.privateKey),appsKey:i.deriveChild(0+mn).privateExtendedKey,salt:n,index:e}};var Yr=Object.defineProperty,Qr=Object.defineProperties,to=Object.getOwnPropertyDescriptors,eo=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,oo=(t,e,n)=>e in t?Yr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,io=(t,e)=>{for(var n in e||(e={}))no.call(e,n)&&oo(t,n,e[n]);if(eo)for(var n of eo(e))ro.call(e,n)&&oo(t,n,e[n]);return t},so=(t,e)=>Qr(t,to(e));const ao=(n=256)=>(0,t.OF)(e.U,n),co=async({secretKey:e,password:n})=>{const r=Xe(await Zn(e,n)),o=await(0,t.OI)(e),i=Ge.fromMasterSeed(o),s=await Fr(i),a=so(io({},s),{encryptedSecretKey:r,accounts:[],config:{accounts:[]}});return uo(a)},uo=t=>{const e=t.accounts.length,n=Zr({rootNode:_n(t),index:e,salt:t.salt,stxDerivationType:Lr.Wallet});return so(io({},t),{accounts:[...t.accounts,n]})};function fo(t,e){const n=Object.assign({},e);if(!n.privateKey)throw new Error("Private key is required for decryption.");try{const e=JSON.parse(t);return async function(t,e){if(!e.ephemeralPK)throw new On("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const n=e.ephemeralPK;let r=le(t,n,!0);r=r.slice(1);const o=Kn(r),i=Je(e.iv);let s;if(e.cipherTextEncoding&&"hex"!==e.cipherTextEncoding){if("base64"!==e.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${e.cipherText}"`);s=(0,$n.toByteArray)(e.cipherText)}else s=Je(e.cipherText);const a=Qe(i,Je(n),s),c=Ln(o.hmacKey,a);if(!function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}(Je(e.mac),c))throw new On("Decryption failed: failure in MAC check");const u=await async function(t,e,n){const r=await kn();return await r.decrypt("aes-256-cbc",e,t,n)}(i,o.encryptionKey,s);return e.wasString?Ye(u):u}(n.privateKey,e)}catch(t){throw t instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):t}}async function lo({wallet:t,gaiaHubConfig:e,fetchFn:n=tr()}){const r=_n(t),o=zr(r);try{const t=await n(`${e.url_prefix}${e.address}/wallet-config.json`);if(!t.ok)return null;const r=await t.text(),i=await fo(r,{privateKey:o});return JSON.parse(i)}catch(t){return console.error(t),null}}const ho=["debug","info","warn","error","none"],po={},yo={};for(let t=0;t<ho.length;t++){const e=ho[t];po[e]=t,yo[t]=e}class go{static error(t){this.shouldLog("error")&&console.error(this.logMessage("error",t))}static warn(t){this.shouldLog("warn")&&console.warn(this.logMessage("warn",t))}static info(t){this.shouldLog("info")&&console.log(this.logMessage("info",t))}static debug(t){this.shouldLog("debug")&&console.log(this.logMessage("debug",t))}static logMessage(t,e){return`[${t.toUpperCase()}] ${e}`}static shouldLog(t){return po.debug<=po[t]}}const wo={referrerPolicy:"origin"};async function bo(t,e){const n={};return Object.assign(n,e,wo),await fetch(t,n)}function mo(...t){const{fetchLib:e,middlewares:n}=function(t){let e=bo,n=[];return t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n}}(t);return async(t,r)=>{var o;let i={url:t,init:null!=r?r:{}};for(const t of n)if("function"==typeof t.pre){const n=await Promise.resolve(t.pre(Object.assign({fetch:e},i)));i=null!=n?n:i}let s=await e(i.url,i.init);for(const t of n)if("function"==typeof t.post){const n=await Promise.resolve(t.post({fetch:e,url:i.url,init:i.init,response:null!==(o=null==s?void 0:s.clone())&&void 0!==o?o:s}));s=null!=n?n:s}return s}}async function vo(t,e,n,r="application/octet-stream",o=!0,i,s,a=mo()){go.debug(`uploadToGaiaHub: uploading ${t} to ${n.server}`);const c={"Content-Type":r,Authorization:`bearer ${n.token}`};s||(o?c["If-None-Match"]="*":i&&(c["If-Match"]=i));const u=await a(`${n.server}/store/${n.address}/${t}`,{method:"POST",headers:c,body:e});if(!u.ok)throw await async function(t,e,n){if(t.ok)throw new Error("Cannot get a BlockstackError from a valid response.");const r=await async function(t){let e,n="";try{n=await t.text();try{e=JSON.parse(n)}catch(t){}}catch(t){go.debug(`Error getting bad http response text: ${t}`)}return{status:t.status,statusText:t.statusText,body:e||n}}(t);if(401===r.status)return new Hn(e,r);if(402===r.status)return new jn(e,r);if(403===r.status)return new Nn(e,r);if(404===r.status)throw new Dn(e,r);if(409===r.status)return new Rn(e,r);if(412===r.status)return new Mn(e,r);if(413===r.status){const t=n&&n.max_file_upload_size_megabytes?(o=n.max_file_upload_size_megabytes,Number.isFinite(o)?Math.floor(1024*o*1024):0):0;return new Fn(e,r,t)}return new Error(e);var o}(u,"Error when uploading to Gaia hub.",n);const f=await u.text();return JSON.parse(f)}async function _o(t,e,n,r=mo()){go.debug(`connectToGaiaHub: ${t}/hub_info`);const o=await r(`${t}/hub_info`),i=await o.json(),s=i.read_url_prefix,a=function(t,e,n,r){const o=t.challenge_text,i=t.latest_auth_version&&parseInt(t.latest_auth_version.slice(1),10)>=1,s=wn(e);if(!i)return function(t,e){let n;try{n=JSON.parse(t)}catch(t){throw new Error("Failed in parsing legacy challenge text from the gaia hub.")}if("gaiahub"===n[0]&&"blockstack_storage_please_sign"===n[3]){const n=ye(pn(Ze(t)),tn(bn(e)).slice(0,32),{der:!1}),r=Nt.fromCompact(Xe(n)).toDERHex(),o=wn(e);return(0,$n.fromByteArray)(Ze(JSON.stringify({publickey:o,signature:r})))}throw new Error("Failed to connect to legacy gaia hub. If you operate this hub, please update.")}(o,e);const a={gaiaChallenge:o,hubUrl:n,iss:s,salt:Xe(En(16)),associationToken:r};return`v1:${new Tr.TokenSigner("ES256K",e).sign(a)}`}(i,e,t,n),c=gn(wn(e));return{url_prefix:s,max_file_upload_size_megabytes:i.max_file_upload_size_megabytes,address:c,token:a,server:t}}const Eo=async({gaiaHubUrl:t,wallet:e})=>_o(t,e.configPrivateKey),xo=async({wallet:t,gaiaHubConfig:e,skipUpload:n,fetchFn:r=tr()})=>{const o=await Ao({wallet:t,gaiaHubConfig:e,fetchFn:r});if(o)return o;const i=So(t);return n||await ko({wallet:t,gaiaHubConfig:e}),i},Ao=async({wallet:t,gaiaHubConfig:e,fetchFn:n=tr()})=>{try{const r=await n(`${e.url_prefix}${e.address}/wallet-config.json`);if(!r.ok)return null;const o=await r.text(),i=await fo(o,{privateKey:t.configPrivateKey});return JSON.parse(i)}catch(t){return console.error(t),null}},ko=async({wallet:t,walletConfig:e,gaiaHubConfig:n})=>{const r=e||So(t),o=await Bo({wallet:t,walletConfig:r});return await vo("wallet-config.json",o,n,void 0,void 0,void 0,!0),r};function So(t){return{accounts:t.accounts.map((t=>({username:t.username,apps:{}})))}}const Bo=async({wallet:t,walletConfig:e})=>{const n=wn(t.configPrivateKey);return await async function(t,e){const n=Object.assign({},e);let r;if(!n.publicKey){if(!n.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");n.publicKey=wn(n.privateKey)}const o="boolean"==typeof n.wasString?n.wasString:"string"==typeof t,i="string"==typeof t?Ze(t):t,s=await Wn(n.publicKey,i,o,n.cipherTextEncoding);let a=JSON.stringify(s);if(n.sign){"string"==typeof n.sign?r=n.sign:r||(r=n.privateKey);const t=function(t,e){const n="string"==typeof e?Ze(e):e,r=wn(t);return{signature:Xe(ye(pn(n),t)),publicKey:r}}(r,a),e={signature:t.signature,publicKey:t.publicKey,cipherText:a};a=JSON.stringify(e)}return a}(JSON.stringify(e),{publicKey:n})},Uo=async({wallet:t,account:e,app:n,gaiaHubConfig:r,walletConfig:o})=>{t.accounts.forEach(((t,e)=>{const n=o.accounts[e];n?(n.apps=n.apps||{},n.username=t.username,o.accounts[e]=n):o.accounts.push({username:t.username,apps:{}})}));const i=o.accounts[e.index];return i.apps=i.apps||{},i.apps[n.origin]=n,o.accounts[e.index]=i,await ko({wallet:t,walletConfig:o,gaiaHubConfig:r}),o};var Po=Object.defineProperty,To=Object.defineProperties,Io=Object.getOwnPropertyDescriptors,Oo=Object.getOwnPropertySymbols,Co=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,Ro=(t,e,n)=>e in t?Po(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jo=(t,e)=>{for(var n in e||(e={}))Co.call(e,n)&&Ro(t,n,e[n]);if(Oo)for(var n of Oo(e))Do.call(e,n)&&Ro(t,n,e[n]);return t},No=(t,e)=>To(t,Io(e));async function Ho({wallet:t,gaiaHubUrl:e,network:n}){const r=await Dr(e,n.fetchFn),o=_n(t),i=Rr({hubInfo:r,privateKey:zr(_n(t)),gaiaHubUrl:e}),s=Rr({hubInfo:r,privateKey:t.configPrivateKey,gaiaHubUrl:e}),[a,c]=await Promise.all([Ao({wallet:t,gaiaHubConfig:s,fetchFn:n.fetchFn}),lo({wallet:t,gaiaHubConfig:i,fetchFn:n.fetchFn})]);if(a&&a.accounts.length>=((null==c?void 0:c.identities.length)||0)){const e=await Promise.all(a.accounts.map((async(e,r)=>{let i=t.accounts[r];const{username:s}=await Vr({rootNode:o,index:r,derivationType:Lr.Wallet,network:n});return i=i?No(jo({},i),{stxPrivateKey:Xr({rootNode:o,index:r})}):Zr({rootNode:o,index:r,salt:t.salt,stxDerivationType:Lr.Wallet}),No(jo({},i),{username:s})})));return No(jo({},t),{accounts:e})}if(c){const e=await Promise.all(c.identities.map((async(e,r)=>{let i=t.accounts[r];const{username:s}=await Vr({rootNode:o,index:r,derivationType:Lr.Wallet,network:n});return i=i?No(jo({},i),{stxPrivateKey:Xr({rootNode:o,index:r})}):Zr({rootNode:o,index:r,salt:t.salt,stxDerivationType:Lr.Wallet}),No(jo({},i),{username:s})}))),r={};c.hideWarningForReusingIdentity&&(r.hideWarningForReusingIdentity=!0);const i={accounts:c.identities.map((t=>({username:t.username,apps:t.apps}))),meta:r};return await ko({wallet:t,walletConfig:i,gaiaHubConfig:s}),No(jo({},t),{accounts:e})}return t}function Fo(t){return`did:btc-addr:${t}`}async function Mo(t,e){const n=await Wn(t,Ze(e),!0);return Xe(Ze(JSON.stringify(n)))}const zo={"@type":"Person","@context":"http://schema.org"},$o="profile.json",Lo=async(t,e=tr())=>{var n;try{const r=await e(t);if(r.ok){const t=await r.json(),{decodedToken:e}=t[0];return null==(n=e.payload)?void 0:n.claim}if(404===r.status)return null;throw new Error("Network error when fetching profile")}catch(t){return null}},Ko=async({account:t,gaiaHubUrl:e})=>{if(t.username)try{const e=await Cr(t.username);if(e)return e}catch(t){console.warn("Error fetching profile URL from zone file:",t)}return`${e}${vn(t)}/profile.json`};function Wo({profile:t,account:e}){const n=e.stxPrivateKey,r=wn(n.slice(0,64)),o=(s=function(t,e,n,r,o="ES256K",i=new Date,s=function(){return new Date((new Date).setFullYear((new Date).getFullYear()+1))}()){if("ES256K"!==o)throw new Error("Signing algorithm not supported");const a=Tr.SECP256K1Client.derivePublicKey(e);n||(n={publicKey:a}),r||(r={publicKey:a});const c=new Tr.TokenSigner(o,e),u={jti:Ve(),iat:i.toISOString(),exp:s.toISOString(),subject:n,issuer:r,claim:t};return c.sign(u)}(t,n,{publicKey:r}),{token:s,decodedToken:(0,Tr.decodeToken)(s)}),i=[o];var s;return JSON.stringify(i,null,2)}async function Go({gaiaHubUrl:t,account:e,signedProfileTokenData:n,gaiaHubConfig:r}){const o=r||await _o(t,e.dataPrivateKey);await vo($o,n,o,void 0,void 0,void 0,!0)}const Vo=async({profile:t,gaiaHubUrl:e,account:n,gaiaHubConfig:r})=>{const o=Wo({profile:t,account:n});await Go({gaiaHubUrl:e,account:n,signedProfileTokenData:o,gaiaHubConfig:r})};var qo=Object.defineProperty,Xo=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,Yo=Object.prototype.hasOwnProperty,Qo=Object.prototype.propertyIsEnumerable,ti=(t,e,n)=>e in t?qo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ei=(t,e)=>{for(var n in e||(e={}))Yo.call(e,n)&&ti(t,n,e[n]);if(Zo)for(var n of Zo(e))Qo.call(e,n)&&ti(t,n,e[n]);return t};const ni=({account:t,transactionVersion:e=dr.Testnet})=>Ur(t.stxPrivateKey,e),ri=t=>t.username?t.username.split(".")[0]:`Account ${t.index+1}`,oi=({account:t,appDomain:e})=>{const n=function(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return 2147483647&e}(Xe(pn(Ze(`${e}${t.salt}`)))),r=Ge.fromExtendedKey(t.appsKey).deriveChild(n+mn);if(!r.privateKey)throw"Needs private key";return Xe(r.privateKey)},ii=async({account:t,appDomain:e,transitPublicKey:n,scopes:r=[],gaiaHubUrl:o,appPrivateKeyFromWalletSalt:i=null,additionalData:s={},fetchFn:a=tr()})=>{const c=oi({account:t,appDomain:e}),u=await Dr(o,a),f=await Ko({account:t,gaiaHubUrl:u.read_url_prefix}),l=await Lo(f,a)||zo;if(r.includes("publish_data")){l.apps||(l.apps={});const n=wn(c),r=gn(n),i=`${u.read_url_prefix}${r}/`;l.apps[e]=i,l.appsMeta||(l.appsMeta={}),l.appsMeta[e]={storage:i,publicKey:n};const s=Rr({hubInfo:u,privateKey:t.dataPrivateKey,gaiaHubUrl:o});await Vo({profile:l,account:t,gaiaHubUrl:o,gaiaHubConfig:s})}const h=wn(c.slice(0,64)),p=jr({privateKey:t.dataPrivateKey,childPublicKeyHex:h});return async function(t,e={},n,r=null,o=null,i=function(){return new Date((new Date).setMonth((new Date).getMonth()+1))}().getTime(),s=null,a=null,c=null,u=null,f=null){const l=Tr.SECP256K1Client.derivePublicKey(t),h=gn(l);let p=o,d=r,y={};null!=o&&(null!=s&&(p=await Mo(s,o),null!=r&&(d=await Mo(s,r))),y={email:n?.email?n.email:null,profile_url:n?.profileUrl?n.profileUrl:null,hubUrl:a,blockstackAPIUrl:c,associationToken:u,version:"1.4.0"});const g=Object.assign({},{jti:Ve(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(i/1e3),iss:Fo(h),private_key:p,public_keys:[l],appPrivateKeyFromWalletSalt:f,profile:e,core_token:d},y);return new Tr.TokenSigner("ES256k",t).sign(g)}(t.dataPrivateKey,ei((d=ei({},l||{}),y={stxAddress:{testnet:ni({account:t,transactionVersion:dr.Testnet}),mainnet:ni({account:t,transactionVersion:dr.Mainnet})}},Xo(d,Jo(y))),s),{profileUrl:f},void 0,c,void 0,n,o,void 0,p,i);var d,y}})(),i})()));
//# sourceMappingURL=index.js.map